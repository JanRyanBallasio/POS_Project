{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/middleware.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\r\nimport type { NextRequest } from 'next/server';\r\n\r\nexport function middleware(req: NextRequest) {\r\n  const { pathname } = req.nextUrl;\r\n\r\n  // TEMPORARY: allow access to dashboard during testing without auth.\r\n  // TODO: Re-enable auth protection for /dashboard after testing.\r\n  if (pathname.startsWith('/dashboard')) {\r\n    return NextResponse.next();\r\n  }\r\n\r\n  // protect dashboard and other routes under /dashboard\r\n  const protectedPaths = ['/dashboard', '/dashboard/'];\r\n\r\n  const isProtected = protectedPaths.some((p) => pathname.startsWith(p));\r\n\r\n  if (!isProtected) return NextResponse.next();\r\n\r\n  // Check for refreshToken cookie â€” backend sets httpOnly cookie named 'refreshToken'\r\n  const refreshToken = req.cookies.get('refreshToken')?.value;\r\n\r\n  if (!refreshToken) {\r\n    const loginUrl = new URL('/login', req.url);\r\n    return NextResponse.redirect(loginUrl);\r\n  }\r\n\r\n  return NextResponse.next();\r\n}\r\n\r\n// Apply to these routes\r\nexport const config = {\r\n  matcher: ['/dashboard/:path*'],\r\n};"],"names":[],"mappings":";;;;;;AAAA;AAAA;;AAGO,SAAS,WAAW,GAAgB;IACzC,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,OAAO;IAEhC,oEAAoE;IACpE,gEAAgE;IAChE,IAAI,SAAS,UAAU,CAAC,eAAe;QACrC,OAAO,gMAAY,CAAC,IAAI;IAC1B;IAEA,sDAAsD;IACtD,MAAM,iBAAiB;QAAC;QAAc;KAAc;IAEpD,MAAM,cAAc,eAAe,IAAI,CAAC,CAAC,IAAM,SAAS,UAAU,CAAC;IAEnE,IAAI,CAAC,aAAa,OAAO,gMAAY,CAAC,IAAI;IAE1C,oFAAoF;IACpF,MAAM,eAAe,IAAI,OAAO,CAAC,GAAG,CAAC,iBAAiB;IAEtD,IAAI,CAAC,cAAc;QACjB,MAAM,WAAW,IAAI,IAAI,UAAU,IAAI,GAAG;QAC1C,OAAO,gMAAY,CAAC,QAAQ,CAAC;IAC/B;IAEA,OAAO,gMAAY,CAAC,IAAI;AAC1B;AAGO,MAAM,SAAS;IACpB,SAAS;QAAC;KAAoB;AAChC"}}]
}