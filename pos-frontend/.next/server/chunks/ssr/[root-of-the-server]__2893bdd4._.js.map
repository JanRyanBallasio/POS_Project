{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/hooks/products/useProductApi.ts"],"sourcesContent":["// ...existing code...\r\nconst API_BASE_URL = (process.env.NEXT_PUBLIC_backend_api_url || \"\").replace(/\\/$/, \"\");\r\n\r\nexport interface Product {\r\n  id: number;\r\n  name: string;\r\n  barcode?: string;\r\n  price: number;\r\n  quantity: number;\r\n  category_id: number;\r\n}\r\n\r\nexport interface ApiResponse<T = any> {\r\n  success?: boolean;\r\n  data?: T;\r\n  message?: string;\r\n  error?: string;\r\n}\r\n\r\nexport const productApi = {\r\n  async getAll(): Promise<Product[]> {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/products`);\r\n      if (!response.ok) {\r\n        // return empty list instead of throwing to keep UI stable\r\n        return [];\r\n      }\r\n      const json: ApiResponse<Product[]> = await response.json().catch(() => ({ data: [] }));\r\n      return json.data ?? [];\r\n    } catch {\r\n      return [];\r\n    }\r\n  },\r\n\r\n  async create(product: Omit<Product, \"id\">): Promise<Product> {\r\n    const response = await fetch(`${API_BASE_URL}/products`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(product),\r\n    });\r\n    const json: ApiResponse<Product> = await response.json().catch(() => ({ data: null } as any));\r\n    if (!response.ok) {\r\n      const errorMsg = json?.error || json?.message || `Failed to create product: ${response.status}`;\r\n      throw new Error(errorMsg);\r\n    }\r\n    return json.data as Product;\r\n  },\r\n\r\n  async update(id: number, product: Omit<Product, \"id\">): Promise<Product> {\r\n    const response = await fetch(`${API_BASE_URL}/products/${id}`, {\r\n      method: \"PUT\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(product),\r\n    });\r\n    const json: ApiResponse<Product> = await response.json().catch(() => ({ data: null } as any));\r\n    if (!response.ok) {\r\n      const errorMsg = json?.error || json?.message || `Failed to update product: ${response.status}`;\r\n      throw new Error(errorMsg);\r\n    }\r\n    return json.data as Product;\r\n  },\r\n\r\n  async getById(id: number): Promise<Product | null> {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/products/${id}`);\r\n      if (!response.ok) {\r\n        if (response.status === 404) return null;\r\n        throw new Error(`Failed to fetch product with id ${id}`);\r\n      }\r\n      const json: ApiResponse<Product> = await response.json().catch(() => ({ data: null } as any));\r\n      return json.data ?? null;\r\n    } catch {\r\n      return null;\r\n    }\r\n  },\r\n\r\n  async delete(id: number): Promise<void> {\r\n    const response = await fetch(`${API_BASE_URL}/products/${id}`, {\r\n      method: \"DELETE\",\r\n    });\r\n    if (!response.ok) {\r\n      const json = await response.json().catch(() => ({}));\r\n      const errorMsg = json?.error || json?.message || `Failed to delete product: ${response.status}`;\r\n      throw new Error(errorMsg);\r\n    }\r\n  },\r\n\r\n  // Prefer query param endpoint (safe) -> dedicated route -> fallback to local search\r\n  async getByBarcode(barcode: string): Promise<Product | null> {\r\n    if (!barcode) return null;\r\n\r\n    // 1) query param (returns array, safe 200)\r\n    try {\r\n      const qRes = await fetch(`${API_BASE_URL}/products?barcode=${encodeURIComponent(String(barcode))}`);\r\n      if (qRes.ok) {\r\n        const qJson: ApiResponse<Product[]> = await qRes.json().catch(() => ({ data: [] }));\r\n        const arr = qJson.data ?? [];\r\n        return arr.length > 0 ? arr[0] : null;\r\n      }\r\n    } catch {\r\n      /* ignore and try next */\r\n    }\r\n\r\n    // 2) dedicated route (may return data:null or 200/404)\r\n    try {\r\n      const r = await fetch(`${API_BASE_URL}/products/barcode/${encodeURIComponent(String(barcode))}`);\r\n      if (r.ok) {\r\n        const json: ApiResponse<Product | null> = await r.json().catch(() => ({ data: null } as any));\r\n        return json.data ?? null;\r\n      }\r\n    } catch {\r\n      /* ignore and try fallback */\r\n    }\r\n\r\n    // 3) final fallback: fetch all and search locally\r\n    try {\r\n      const all = await productApi.getAll();\r\n      return all.find(p => String(p.barcode) === String(barcode)) ?? null;\r\n    } catch {\r\n      return null;\r\n    }\r\n  },\r\n\r\n  async getByName(name: string): Promise<Product | null> {\r\n    if (!name) return null;\r\n\r\n    // 1) query param (safe)\r\n    try {\r\n      const qRes = await fetch(`${API_BASE_URL}/products?name=${encodeURIComponent(String(name))}`);\r\n      if (qRes.ok) {\r\n        const qJson: ApiResponse<Product[]> = await qRes.json().catch(() => ({ data: [] }));\r\n        const arr = qJson.data ?? [];\r\n        if (arr.length > 0) {\r\n          const exact = arr.find(p => (p.name || \"\").toLowerCase() === name.trim().toLowerCase());\r\n          return exact ?? arr[0];\r\n        }\r\n        return null;\r\n      }\r\n    } catch {}\r\n\r\n    // 2) dedicated route\r\n    try {\r\n      const r = await fetch(`${API_BASE_URL}/products/name/${encodeURIComponent(String(name))}`);\r\n      if (r.ok) {\r\n        const json: ApiResponse<Product | null> = await r.json().catch(() => ({ data: null } as any));\r\n        return json.data ?? null;\r\n      }\r\n    } catch {}\r\n\r\n    // 3) fallback to local search\r\n    try {\r\n      const all = await productApi.getAll();\r\n      const lower = name.trim().toLowerCase();\r\n      return all.find(p => (p.name || \"\").toLowerCase() === lower) ?? null;\r\n    } catch {\r\n      return null;\r\n    }\r\n  },\r\n};\r\n// ...existing code..."],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 160, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/contexts/cart-context.tsx"],"sourcesContent":["// ...existing code...\r\nimport React, {\r\n  createContext,\r\n  useContext,\r\n  useState,\r\n  useMemo,\r\n  ReactNode,\r\n  RefObject,\r\n  useEffect,\r\n  useCallback,\r\n} from \"react\";\r\nimport { productApi, Product } from \"@/hooks/products/useProductApi\";\r\nimport { useProductModal } from \"@/contexts/productRegister-context\";\r\n\r\ninterface CartItem {\r\n  product: Product;\r\n  quantity: number;\r\n  id: string;\r\n}\r\n\r\ninterface CartContextType {\r\n  cart: CartItem[];\r\n  cartTotal: number;\r\n  scanError: string | null;\r\n  isScanning: boolean;\r\n  scanAndAddToCart: (barcode: string) => Promise<void>;\r\n  refocusScanner: () => void;\r\n  setScannerRef: (ref: RefObject<HTMLInputElement>) => void;\r\n  updateCartItemQuantity: (id: string, quantity: number) => void;\r\n  updateCartItemPrice: (id: string, price: number) => void;\r\n  deleteCartItem: (id: string) => void;\r\n  clearCart: () => void;\r\n}\r\n\r\nconst CartContext = createContext<CartContextType | undefined>(undefined);\r\n\r\nexport const CartProvider = ({ children }: { children: ReactNode }) => {\r\n  const [cart, setCart] = useState<CartItem[]>([]);\r\n  const [scanError, setScanError] = useState<string | null>(null);\r\n  const [isScanning, setIsScanning] = useState<boolean>(false);\r\n  const [scannerInputRef, setScannerInputRef] =\r\n    useState<RefObject<HTMLInputElement> | null>(null);\r\n\r\n  const { setBarcode: setContextBarcode, openModal, setOpen: setProductModalOpen } =\r\n    useProductModal();\r\n\r\n  const clearCart = useCallback(() => setCart([]), []);\r\n\r\n  const setScannerRef = useCallback((ref: RefObject<HTMLInputElement>) => {\r\n    setScannerInputRef(ref);\r\n  }, []);\r\n\r\n  const refocusScanner = useCallback(() => {\r\n    setTimeout(() => {\r\n      try {\r\n        if (scannerInputRef?.current) {\r\n          scannerInputRef.current.focus();\r\n        }\r\n      } catch {}\r\n    }, 100);\r\n  }, [scannerInputRef]);\r\n\r\n  const updateCartItemQuantity = useCallback((id: string, quantity: number) => {\r\n    setCart((prevCart) =>\r\n      prevCart.map((item) => (item.id === id ? { ...item, quantity } : item))\r\n    );\r\n  }, []);\r\n\r\n  const updateCartItemPrice = useCallback((id: string, price: number) => {\r\n    setCart((prevCart) =>\r\n      prevCart.map((item) =>\r\n        item.id === id ? { ...item, product: { ...item.product, price } } : item\r\n      )\r\n    );\r\n  }, []);\r\n\r\n  const deleteCartItem = useCallback((id: string) => {\r\n    setCart((prevCart) => prevCart.filter((item) => item.id !== id));\r\n  }, []);\r\n\r\n  const scanAndAddToCart = useCallback(\r\n    async (barcode: string): Promise<void> => {\r\n      if (!barcode) return;\r\n      try {\r\n        setIsScanning(true);\r\n        setScanError(null);\r\n\r\n        const product = await productApi.getByBarcode(barcode);\r\n\r\n        if (product) {\r\n          setCart((prevCart) => {\r\n            const existing = prevCart.find(\r\n              (item) => item.product.barcode === product.barcode\r\n            );\r\n            if (existing) {\r\n              return prevCart.map((item) =>\r\n                item.product.barcode === product.barcode\r\n                  ? { ...item, quantity: item.quantity + 1 }\r\n                  : item\r\n              );\r\n            } else {\r\n              const cartItem: CartItem = {\r\n                product,\r\n                quantity: 1,\r\n                id: Date.now().toString(),\r\n              };\r\n              return [...prevCart, cartItem];\r\n            }\r\n          });\r\n        } else {\r\n          // Product not found: open add-product modal and prefill barcode\r\n          if (typeof setContextBarcode === \"function\") {\r\n            setContextBarcode(barcode);\r\n          }\r\n          if (typeof openModal === \"function\") {\r\n            openModal(\"addProduct\");\r\n          } else if (typeof setProductModalOpen === \"function\") {\r\n            setProductModalOpen(true);\r\n          }\r\n          setScanError(`Product not found: ${barcode}`);\r\n        }\r\n      } catch (error) {\r\n        const errorMessage =\r\n          error instanceof Error ? error.message : \"Error scanning barcode\";\r\n        setScanError(errorMessage);\r\n      } finally {\r\n        setIsScanning(false);\r\n        // refocus scanner for the next scan\r\n        refocusScanner();\r\n      }\r\n    },\r\n    [openModal, setProductModalOpen, setContextBarcode, refocusScanner]\r\n  );\r\n\r\n  // Listen for product:added events so newly created products can be added immediately\r\n  useEffect(() => {\r\n    const onProductAdded = (e: Event) => {\r\n      const detail = (e as CustomEvent)?.detail;\r\n      if (!detail) return;\r\n\r\n      const addedProduct: Product | undefined = detail.product;\r\n      const barcode: string | undefined = detail.barcode;\r\n\r\n      // If product object was returned by the modal, add it directly to cart (no backend round-trip)\r\n      if (addedProduct) {\r\n        setCart((prevCart) => {\r\n          const existing = prevCart.find((item) => item.product.barcode === addedProduct.barcode);\r\n          if (existing) {\r\n            return prevCart.map((item) =>\r\n              item.product.barcode === addedProduct.barcode ? { ...item, quantity: item.quantity + 1 } : item\r\n            );\r\n          } else {\r\n            const cartItem: CartItem = {\r\n              product: addedProduct,\r\n              quantity: 1,\r\n              id: Date.now().toString(),\r\n            };\r\n            return [...prevCart, cartItem];\r\n          }\r\n        });\r\n      } else if (barcode) {\r\n        // if only barcode was provided, attempt to fetch product and add (defensive)\r\n        (async () => {\r\n          try {\r\n            const product = await productApi.getByBarcode(barcode);\r\n            if (product) {\r\n              setCart((prevCart) => {\r\n                const existing = prevCart.find((item) => item.product.barcode === product.barcode);\r\n                if (existing) {\r\n                  return prevCart.map((item) =>\r\n                    item.product.barcode === product.barcode ? { ...item, quantity: item.quantity + 1 } : item\r\n                  );\r\n                } else {\r\n                  const cartItem: CartItem = {\r\n                    product,\r\n                    quantity: 1,\r\n                    id: Date.now().toString(),\r\n                  };\r\n                  return [...prevCart, cartItem];\r\n                }\r\n              });\r\n            }\r\n          } catch {\r\n            // ignore fetch errors here; modal likely handled creation\r\n          }\r\n        })();\r\n      }\r\n\r\n      // Clear the hidden scanner input value so the next hardware scan starts fresh,\r\n      // dispatch an 'input' event so the barcode hook's React state stays in sync, then focus.\r\n      try {\r\n        const el = scannerInputRef?.current;\r\n        if (el) {\r\n          try {\r\n            el.value = \"\";\r\n          } catch {}\r\n          // Sync any listeners (handleBarcodeChange) with an input event\r\n          el.dispatchEvent(new Event(\"input\", { bubbles: true }));\r\n          // Focus after a short delay to ensure scanner writes into the empty field\r\n          setTimeout(() => {\r\n            try {\r\n              el.focus();\r\n              // defensive caret reset\r\n              if (typeof el.setSelectionRange === \"function\") {\r\n                el.setSelectionRange(0, 0);\r\n              }\r\n            } catch {}\r\n          }, 50);\r\n        }\r\n      } catch {}\r\n    };\r\n\r\n    window.addEventListener(\"product:added\", onProductAdded as EventListener);\r\n    return () => window.removeEventListener(\"product:added\", onProductAdded as EventListener);\r\n  }, [scannerInputRef]);\r\n\r\n  const cartTotal = useMemo(() => {\r\n    return cart.reduce((total, item) => total + item.product.price * item.quantity, 0);\r\n  }, [cart]);\r\n\r\n  const value = useMemo(\r\n    () => ({\r\n      cart,\r\n      cartTotal,\r\n      scanError,\r\n      isScanning,\r\n      scanAndAddToCart,\r\n      refocusScanner,\r\n      setScannerRef,\r\n      updateCartItemQuantity,\r\n      updateCartItemPrice,\r\n      deleteCartItem,\r\n      clearCart,\r\n    }),\r\n    [\r\n      cart,\r\n      cartTotal,\r\n      scanError,\r\n      isScanning,\r\n      scanAndAddToCart,\r\n      refocusScanner,\r\n      setScannerRef,\r\n      updateCartItemQuantity,\r\n      updateCartItemPrice,\r\n      deleteCartItem,\r\n      clearCart,\r\n    ]\r\n  );\r\n\r\n  return <CartContext.Provider value={value}>{children}</CartContext.Provider>;\r\n};\r\n\r\nexport const useCart = () => {\r\n  const context = useContext(CartContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useCart must be used within a CartProvider\");\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const useCartKeyboard = (selectedRowId: string | null) => {\r\n  const { cart, updateCartItemQuantity } = useCart();\r\n\r\n  useEffect(() => {\r\n    const handleKeyDown = (e: KeyboardEvent) => {\r\n      if (!selectedRowId) return;\r\n      if (e.key === \"+\") {\r\n        const item = cart.find((i) => i.id === selectedRowId);\r\n        if (item) updateCartItemQuantity(item.id, item.quantity + 1);\r\n      }\r\n      if (e.key === \"-\") {\r\n        const item = cart.find((i) => i.id === selectedRowId);\r\n        if (item && item.quantity > 1)\r\n          updateCartItemQuantity(item.id, item.quantity - 1);\r\n      }\r\n    };\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\r\n  }, [selectedRowId, cart, updateCartItemQuantity]);\r\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 430, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card\"\r\n      className={cn(\r\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-header\"\r\n      className={cn(\r\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-title\"\r\n      className={cn(\"leading-none font-semibold\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-description\"\r\n      className={cn(\"text-muted-foreground text-sm\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-action\"\r\n      className={cn(\r\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-content\"\r\n      className={cn(\"px-6\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-footer\"\r\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Card,\r\n  CardHeader,\r\n  CardFooter,\r\n  CardTitle,\r\n  CardAction,\r\n  CardDescription,\r\n  CardContent,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EACX,8JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 532, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/hooks/pos/rightCol/useCustomerTagging.ts"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\n\r\nexport interface Customer {\r\n  id: string;\r\n  name: string;\r\n  points: number;\r\n}\r\n\r\nexport function useCustomerTagging() {\r\n  const [customerQuery, setCustomerQuery] = useState(\"\");\r\n  const [allCustomers, setAllCustomers] = useState<Customer[]>([]);\r\n  const [filteredCustomers, setFilteredCustomers] = useState<Customer[]>([]);\r\n  const [selectedCustomer, setSelectedCustomer] = useState<Customer | null>(null);\r\n  const fetchCustomers = async () => {\r\n    try {\r\n      const res = await fetch(`${process.env.NEXT_PUBLIC_backend_api_url}/customers`);\r\n      const json = await res.json();\r\n      if (json.success && Array.isArray(json.data)) {\r\n        setAllCustomers(json.data);\r\n      } else {\r\n        setAllCustomers([]);\r\n      }\r\n    } catch (error) {\r\n      setAllCustomers([]);\r\n    }\r\n  };\r\n  // Fetch customers from backend\r\n  useEffect(() => {\r\n    const fetchCustomers = async () => {\r\n      try {\r\n        const res = await fetch(`${process.env.NEXT_PUBLIC_backend_api_url}/customers`);\r\n        const json = await res.json();\r\n        if (json.success && Array.isArray(json.data)) {\r\n          setAllCustomers(json.data);\r\n        } else {\r\n          setAllCustomers([]);\r\n        }\r\n      } catch (error) {\r\n        setAllCustomers([]);\r\n      }\r\n    };\r\n    fetchCustomers();\r\n  }, []);\r\n\r\n  // Filter customers by query\r\n  useEffect(() => {\r\n    setFilteredCustomers(\r\n      allCustomers.filter((c) =>\r\n        c.name.toLowerCase().includes(customerQuery.toLowerCase())\r\n      )\r\n    );\r\n  }, [customerQuery, allCustomers]);\r\n  useEffect(() => {\r\n    fetchCustomers();\r\n  }, []);\r\n\r\n  const selectCustomer = (customer: Customer) => {\r\n    setSelectedCustomer(customer);\r\n    setCustomerQuery(customer.name);\r\n  };\r\n\r\n  const clearCustomer = () => setSelectedCustomer(null);\r\n\r\n  return {\r\n    customerQuery,\r\n    setCustomerQuery,\r\n    filteredCustomers,\r\n    selectedCustomer,\r\n    selectCustomer,\r\n    clearCustomer, // <-- make sure this is returned!\r\n    fetchCustomers,\r\n    allCustomers,\r\n    setAllCustomers,\r\n  };\r\n}"],"names":[],"mappings":";;;;AAAA;;AAQO,SAAS;IACd,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IACnD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAa,EAAE;IAC/D,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,iNAAQ,EAAa,EAAE;IACzE,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,iNAAQ,EAAkB;IAC1E,MAAM,iBAAiB;QACrB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,iEAA2C,UAAU,CAAC;YAC9E,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,IAAI,KAAK,OAAO,IAAI,MAAM,OAAO,CAAC,KAAK,IAAI,GAAG;gBAC5C,gBAAgB,KAAK,IAAI;YAC3B,OAAO;gBACL,gBAAgB,EAAE;YACpB;QACF,EAAE,OAAO,OAAO;YACd,gBAAgB,EAAE;QACpB;IACF;IACA,+BAA+B;IAC/B,IAAA,kNAAS,EAAC;QACR,MAAM,iBAAiB;YACrB,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,iEAA2C,UAAU,CAAC;gBAC9E,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,IAAI,KAAK,OAAO,IAAI,MAAM,OAAO,CAAC,KAAK,IAAI,GAAG;oBAC5C,gBAAgB,KAAK,IAAI;gBAC3B,OAAO;oBACL,gBAAgB,EAAE;gBACpB;YACF,EAAE,OAAO,OAAO;gBACd,gBAAgB,EAAE;YACpB;QACF;QACA;IACF,GAAG,EAAE;IAEL,4BAA4B;IAC5B,IAAA,kNAAS,EAAC;QACR,qBACE,aAAa,MAAM,CAAC,CAAC,IACnB,EAAE,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,cAAc,WAAW;IAG7D,GAAG;QAAC;QAAe;KAAa;IAChC,IAAA,kNAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,MAAM,iBAAiB,CAAC;QACtB,oBAAoB;QACpB,iBAAiB,SAAS,IAAI;IAChC;IAEA,MAAM,gBAAgB,IAAM,oBAAoB;IAEhD,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 604, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/app/dashboard/_pages/POS/components/rightColumn/Calculator.tsx"],"sourcesContent":["import { Input } from \"@/components/ui/input\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport React from \"react\";\r\n\r\ninterface CalculatorProps {\r\n  amount: string;\r\n  setAmount: (val: string) => void;\r\n  cartTotal: number;\r\n  refocusScanner: () => void;\r\n  onNext: () => void;\r\n  cartIsEmpty?: boolean; \r\n}\r\n\r\nexport default function Calculator({\r\n  amount,\r\n  setAmount,\r\n  cartTotal,\r\n  refocusScanner,\r\n  onNext,\r\n  cartIsEmpty = false,\r\n}: CalculatorProps) {\r\n  const handleCalcButtonClick = (value: string) => {\r\n    if (value === \"C\") {\r\n      setAmount(\"\");\r\n    } else if (value === \"⌫\") {\r\n      setAmount(amount.slice(0, -1));\r\n    } else {\r\n      if (value === \".\" && amount.includes(\".\")) return;\r\n      setAmount(amount + value);\r\n    }\r\n    refocusScanner();\r\n  };\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setAmount(e.target.value);\r\n    setTimeout(refocusScanner, 3000);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Label className=\"text-lg mb-2 font-medium\">Cash</Label>\r\n      <Input\r\n        className=\"h-20 !text-5xl text-right font-medium mb-6 border-2 border-gray-300 shadow-sm placeholder:text-5xl placeholder:font-medium placeholder:text-gray-400\"\r\n        value={amount}\r\n        onChange={handleInputChange}\r\n        placeholder=\"0.00\"\r\n        onBlur={refocusScanner}\r\n        onClick={(e) => e.stopPropagation()}\r\n        disabled={cartIsEmpty} // <-- disable input if cart is empty\r\n      />\r\n      <div className=\"flex-1 grid grid-cols-3 gap-2 bg-gray-50 p-3 rounded-lg\">\r\n        {[7, 8, 9, 4, 5, 6, 1, 2, 3].map((num) => (\r\n          <Button\r\n            key={num}\r\n            onClick={() => handleCalcButtonClick(num.toString())}\r\n            variant=\"outline\"\r\n            className=\"h-16 text-2xl font-medium\"\r\n            disabled={cartIsEmpty} // <-- disable buttons if cart is empty\r\n          >\r\n            {num}\r\n          </Button>\r\n        ))}\r\n        <Button\r\n          onClick={() => handleCalcButtonClick(\".\")}\r\n          variant=\"outline\"\r\n          className=\"h-16 text-2xl font-medium\"\r\n          disabled={cartIsEmpty}\r\n        >\r\n          .\r\n        </Button>\r\n        <Button\r\n          onClick={() => handleCalcButtonClick(\"0\")}\r\n          variant=\"outline\"\r\n          className=\"h-16 text-2xl font-medium\"\r\n          disabled={cartIsEmpty}\r\n        >\r\n          0\r\n        </Button>\r\n        <Button\r\n          onClick={() => handleCalcButtonClick(\"⌫\")}\r\n          variant=\"outline\"\r\n          className=\"h-16 text-2xl font-medium\"\r\n          disabled={cartIsEmpty}\r\n        >\r\n          ⌫\r\n        </Button>\r\n        <Button\r\n          onClick={() => handleCalcButtonClick(\"C\")}\r\n          variant=\"outline\"\r\n          className=\"h-16 text-2xl font-medium col-span-3\"\r\n          disabled={cartIsEmpty}\r\n        >\r\n          Clear\r\n        </Button>\r\n      </div>\r\n      <div className=\"px-4 pb-4 pt-4\">\r\n        <Button\r\n          className=\"w-full h-14 text-xl font-medium\"\r\n          onClick={onNext}\r\n          disabled={cartIsEmpty || !amount || parseFloat(amount) < cartTotal} // <-- disable if cart is empty\r\n        >\r\n          Next\r\n        </Button>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAYe,SAAS,WAAW,EACjC,MAAM,EACN,SAAS,EACT,SAAS,EACT,cAAc,EACd,MAAM,EACN,cAAc,KAAK,EACH;IAChB,MAAM,wBAAwB,CAAC;QAC7B,IAAI,UAAU,KAAK;YACjB,UAAU;QACZ,OAAO,IAAI,UAAU,KAAK;YACxB,UAAU,OAAO,KAAK,CAAC,GAAG,CAAC;QAC7B,OAAO;YACL,IAAI,UAAU,OAAO,OAAO,QAAQ,CAAC,MAAM;YAC3C,UAAU,SAAS;QACrB;QACA;IACF;IAEA,MAAM,oBAAoB,CAAC;QACzB,UAAU,EAAE,MAAM,CAAC,KAAK;QACxB,WAAW,gBAAgB;IAC7B;IAEA,qBACE;;0BACE,8OAAC,0IAAK;gBAAC,WAAU;0BAA2B;;;;;;0BAC5C,8OAAC,0IAAK;gBACJ,WAAU;gBACV,OAAO;gBACP,UAAU;gBACV,aAAY;gBACZ,QAAQ;gBACR,SAAS,CAAC,IAAM,EAAE,eAAe;gBACjC,UAAU;;;;;;0BAEZ,8OAAC;gBAAI,WAAU;;oBACZ;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE,CAAC,GAAG,CAAC,CAAC,oBAChC,8OAAC,4IAAM;4BAEL,SAAS,IAAM,sBAAsB,IAAI,QAAQ;4BACjD,SAAQ;4BACR,WAAU;4BACV,UAAU;sCAET;2BANI;;;;;kCAST,8OAAC,4IAAM;wBACL,SAAS,IAAM,sBAAsB;wBACrC,SAAQ;wBACR,WAAU;wBACV,UAAU;kCACX;;;;;;kCAGD,8OAAC,4IAAM;wBACL,SAAS,IAAM,sBAAsB;wBACrC,SAAQ;wBACR,WAAU;wBACV,UAAU;kCACX;;;;;;kCAGD,8OAAC,4IAAM;wBACL,SAAS,IAAM,sBAAsB;wBACrC,SAAQ;wBACR,WAAU;wBACV,UAAU;kCACX;;;;;;kCAGD,8OAAC,4IAAM;wBACL,SAAS,IAAM,sBAAsB;wBACrC,SAAQ;wBACR,WAAU;wBACV,UAAU;kCACX;;;;;;;;;;;;0BAIH,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,4IAAM;oBACL,WAAU;oBACV,SAAS;oBACT,UAAU,eAAe,CAAC,UAAU,WAAW,UAAU;8BAC1D;;;;;;;;;;;;;AAMT","debugId":null}},
    {"offset": {"line": 753, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/app/dashboard/_pages/POS/components/rightColumn/CustomerSearch.tsx"],"sourcesContent":["import { useId } from \"react\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { UserIcon, Plus } from \"lucide-react\";\r\nimport React from \"react\";\r\n\r\ninterface Customer {\r\n  id: string;\r\n  name: string;\r\n  points: number;\r\n}\r\n\r\ninterface CustomerSearchProps {\r\n  customerQuery: string;\r\n  setCustomerQuery: (val: string) => void;\r\n  filteredCustomers: Customer[];\r\n  selectedCustomer: Customer | null;\r\n  selectCustomer: (customer: Customer) => void;\r\n  clearCustomer: () => void; // <-- prop from parent\r\n  onAddCustomer: () => void;\r\n}\r\n\r\nexport default function CustomerSearch({\r\n  customerQuery,\r\n  setCustomerQuery,\r\n  filteredCustomers,\r\n  selectedCustomer,\r\n  selectCustomer,\r\n  clearCustomer, // <-- use the prop, do not redeclare!\r\n  onAddCustomer,\r\n}: CustomerSearchProps) {\r\n  const id = useId();\r\n\r\n  return (\r\n    <div className=\"w-full mb-4\">\r\n      <Label htmlFor={id} className=\"mb-2 block\">\r\n        Customer Name\r\n      </Label>\r\n      <div className=\"flex items-center gap-2\">\r\n        <div className=\"relative flex-1\">\r\n          <span className=\"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none text-gray-400\">\r\n            <UserIcon className=\"w-4 h-4\" />\r\n          </span>\r\n          <Input\r\n            id={id}\r\n            className=\"pl-9\"\r\n            placeholder=\"Search Name\"\r\n            value={selectedCustomer ? selectedCustomer.name : customerQuery}\r\n            onChange={(e) => {\r\n              setCustomerQuery(e.target.value);\r\n              clearCustomer(); // Clear selection if user starts typing\r\n            }}\r\n            autoComplete=\"off\"\r\n          />\r\n          {customerQuery && !selectedCustomer && (\r\n            <div className=\"absolute z-10 left-0 right-0 bg-white border rounded shadow max-h-40 overflow-y-auto\">\r\n              {filteredCustomers.length === 0 && (\r\n                <div className=\"p-2 text-gray-500 text-center\">\r\n                  No results\r\n                </div>\r\n              )}\r\n              {filteredCustomers.map((customer) => (\r\n                <div\r\n                  key={customer.id}\r\n                  className=\"p-2 hover:bg-gray-100 cursor-pointer flex justify-between\"\r\n                  onClick={() => {\r\n                    selectCustomer(customer);\r\n                    setCustomerQuery(customer.name);\r\n                  }}\r\n                >\r\n                  <span>{customer.name}</span>\r\n                  <span className=\"text-xs text-gray-500 ml-2\">\r\n                    {customer.points} pts\r\n                  </span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n        <Button type=\"button\" onClick={onAddCustomer} className=\"ml-2\">\r\n          <Plus className=\"w-4 h-4 mr-1\" /> Add\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;;;;;;;AAmBe,SAAS,eAAe,EACrC,aAAa,EACb,gBAAgB,EAChB,iBAAiB,EACjB,gBAAgB,EAChB,cAAc,EACd,aAAa,EACb,aAAa,EACO;IACpB,MAAM,KAAK,IAAA,8MAAK;IAEhB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,0IAAK;gBAAC,SAAS;gBAAI,WAAU;0BAAa;;;;;;0BAG3C,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAK,WAAU;0CACd,cAAA,8OAAC,kNAAQ;oCAAC,WAAU;;;;;;;;;;;0CAEtB,8OAAC,0IAAK;gCACJ,IAAI;gCACJ,WAAU;gCACV,aAAY;gCACZ,OAAO,mBAAmB,iBAAiB,IAAI,GAAG;gCAClD,UAAU,CAAC;oCACT,iBAAiB,EAAE,MAAM,CAAC,KAAK;oCAC/B,iBAAiB,wCAAwC;gCAC3D;gCACA,cAAa;;;;;;4BAEd,iBAAiB,CAAC,kCACjB,8OAAC;gCAAI,WAAU;;oCACZ,kBAAkB,MAAM,KAAK,mBAC5B,8OAAC;wCAAI,WAAU;kDAAgC;;;;;;oCAIhD,kBAAkB,GAAG,CAAC,CAAC,yBACtB,8OAAC;4CAEC,WAAU;4CACV,SAAS;gDACP,eAAe;gDACf,iBAAiB,SAAS,IAAI;4CAChC;;8DAEA,8OAAC;8DAAM,SAAS,IAAI;;;;;;8DACpB,8OAAC;oDAAK,WAAU;;wDACb,SAAS,MAAM;wDAAC;;;;;;;;2CATd,SAAS,EAAE;;;;;;;;;;;;;;;;;kCAgB1B,8OAAC,4IAAM;wBAAC,MAAK;wBAAS,SAAS;wBAAe,WAAU;;0CACtD,8OAAC,0MAAI;gCAAC,WAAU;;;;;;4BAAiB;;;;;;;;;;;;;;;;;;;AAK3C","debugId":null}},
    {"offset": {"line": 909, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/app/dashboard/_pages/POS/components/rightColumn/PaymentSummary.tsx"],"sourcesContent":["import React from \"react\";\r\n\r\ninterface PaymentSummaryProps {\r\n  amount: string;\r\n  cartTotal: number;\r\n  change: number;\r\n}\r\n\r\nexport default function PaymentSummary({\r\n  amount,\r\n  cartTotal,\r\n  change,\r\n}: PaymentSummaryProps) {\r\n  return (\r\n    <>\r\n      <div className=\"py-5 border-t border-b\">\r\n        <div className=\"flex justify-between text-xl mb-3\">\r\n          <span>Amount Paid:</span>\r\n          <span className=\"font-medium\">\r\n            ₱ {parseFloat(amount).toFixed(2)}\r\n          </span>\r\n        </div>\r\n        <div className=\"flex justify-between text-xl mb-3\">\r\n          <span>Total:</span>\r\n          <span className=\"font-medium\">₱ {cartTotal.toFixed(2)}</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"flex justify-between text-3xl font-bold pt-5\">\r\n        <span>Change:</span>\r\n        <span>₱ {change.toFixed(2)}</span>\r\n      </div>\r\n    </>\r\n  );\r\n}"],"names":[],"mappings":";;;;;;AAQe,SAAS,eAAe,EACrC,MAAM,EACN,SAAS,EACT,MAAM,EACc;IACpB,qBACE;;0BACE,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;0CAAK;;;;;;0CACN,8OAAC;gCAAK,WAAU;;oCAAc;oCACzB,WAAW,QAAQ,OAAO,CAAC;;;;;;;;;;;;;kCAGlC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;0CAAK;;;;;;0CACN,8OAAC;gCAAK,WAAU;;oCAAc;oCAAG,UAAU,OAAO,CAAC;;;;;;;;;;;;;;;;;;;0BAGvD,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;kCAAK;;;;;;kCACN,8OAAC;;4BAAK;4BAAG,OAAO,OAAO,CAAC;;;;;;;;;;;;;;;AAIhC","debugId":null}},
    {"offset": {"line": 1014, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/app/dashboard/_pages/POS/components/rightColumn/Receipt.tsx"],"sourcesContent":["import React from \"react\";\r\n\r\ninterface Customer {\r\n  id: string;\r\n  name: string;\r\n  points: number;\r\n}\r\n\r\ninterface ReceiptProps {\r\n  selectedCustomer: Customer | null;\r\n  cartTotal: number;\r\n}\r\n\r\nexport default function Receipt({ selectedCustomer, cartTotal }: ReceiptProps) {\r\n  return (\r\n    <div className=\"flex flex-col items-center justify-center flex-1\">\r\n      <h2 className=\"text-3xl font-bold mb-4\">Transaction Successful!</h2>\r\n      <p className=\"mb-8\">Thank you for your purchase.</p>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAae,SAAS,QAAQ,EAAE,gBAAgB,EAAE,SAAS,EAAgB;IAC3E,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;0BACxC,8OAAC;gBAAE,WAAU;0BAAO;;;;;;;;;;;;AAG1B","debugId":null}},
    {"offset": {"line": 1051, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/app/dashboard/_pages/POS/components/rightColumn/AddCustomerModal.tsx"],"sourcesContent":["import { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter } from \"@/components/ui/dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { useState } from \"react\";\r\n\r\ninterface AddCustomerModalProps {\r\n    open: boolean;\r\n    onOpenChange: (open: boolean) => void;\r\n    onCustomerAdded: (customer: { id: string; name: string; points: number }) => void; // pass new customer\r\n}\r\n\r\nexport default function AddCustomerModal({ open, onOpenChange, onCustomerAdded }: AddCustomerModalProps) {\r\n    const [name, setName] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    const handleAdd = async () => {\r\n        setLoading(true);\r\n        setError(null);\r\n        try {\r\n            const res = await fetch(`${process.env.NEXT_PUBLIC_backend_api_url}/customers`, {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({ name }),\r\n            });\r\n            const json = await res.json();\r\n            if (!json.success) throw new Error(json.message || \"Failed to add customer\");\r\n            setName(\"\");\r\n            onOpenChange(false);\r\n            onCustomerAdded(json.data); // <-- pass the new customer object\r\n        } catch (err: any) {\r\n            setError(err.message || \"Failed to add customer\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Dialog open={open} onOpenChange={onOpenChange}>\r\n            <DialogContent>\r\n                <DialogHeader>\r\n                    <DialogTitle>Add Customer</DialogTitle>\r\n                </DialogHeader>\r\n                <div className=\"flex flex-col gap-2 my-2\">\r\n                    <Label htmlFor=\"customer-name\">Name</Label>\r\n                    <Input\r\n                        id=\"customer-name\"\r\n                        value={name}\r\n                        onChange={e => setName(e.target.value)}\r\n                        placeholder=\"Enter customer name\"\r\n                        disabled={loading}\r\n                    />\r\n                    {error && <span className=\"text-red-500 text-sm\">{error}</span>}\r\n                </div>\r\n                <DialogFooter>\r\n                    <Button variant=\"outline\" onClick={() => onOpenChange(false)} disabled={loading}>\r\n                        Cancel\r\n                    </Button>\r\n                    <Button onClick={handleAdd} disabled={loading || !name.trim()}>\r\n                        {loading ? \"Adding...\" : \"Add\"}\r\n                    </Button>\r\n                </DialogFooter>\r\n            </DialogContent>\r\n        </Dialog>\r\n    );\r\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;AAQe,SAAS,iBAAiB,EAAE,IAAI,EAAE,YAAY,EAAE,eAAe,EAAyB;IACnG,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,MAAM,YAAY;QACd,WAAW;QACX,SAAS;QACT,IAAI;YACA,MAAM,MAAM,MAAM,MAAM,iEAA2C,UAAU,CAAC,EAAE;gBAC5E,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE;gBAAK;YAChC;YACA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,IAAI,CAAC,KAAK,OAAO,EAAE,MAAM,IAAI,MAAM,KAAK,OAAO,IAAI;YACnD,QAAQ;YACR,aAAa;YACb,gBAAgB,KAAK,IAAI,GAAG,mCAAmC;QACnE,EAAE,OAAO,KAAU;YACf,SAAS,IAAI,OAAO,IAAI;QAC5B,SAAU;YACN,WAAW;QACf;IACJ;IAEA,qBACI,8OAAC,4IAAM;QAAC,MAAM;QAAM,cAAc;kBAC9B,cAAA,8OAAC,mJAAa;;8BACV,8OAAC,kJAAY;8BACT,cAAA,8OAAC,iJAAW;kCAAC;;;;;;;;;;;8BAEjB,8OAAC;oBAAI,WAAU;;sCACX,8OAAC,0IAAK;4BAAC,SAAQ;sCAAgB;;;;;;sCAC/B,8OAAC,0IAAK;4BACF,IAAG;4BACH,OAAO;4BACP,UAAU,CAAA,IAAK,QAAQ,EAAE,MAAM,CAAC,KAAK;4BACrC,aAAY;4BACZ,UAAU;;;;;;wBAEb,uBAAS,8OAAC;4BAAK,WAAU;sCAAwB;;;;;;;;;;;;8BAEtD,8OAAC,kJAAY;;sCACT,8OAAC,4IAAM;4BAAC,SAAQ;4BAAU,SAAS,IAAM,aAAa;4BAAQ,UAAU;sCAAS;;;;;;sCAGjF,8OAAC,4IAAM;4BAAC,SAAS;4BAAW,UAAU,WAAW,CAAC,KAAK,IAAI;sCACtD,UAAU,cAAc;;;;;;;;;;;;;;;;;;;;;;;AAMjD","debugId":null}},
    {"offset": {"line": 1204, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/app/dashboard/_pages/POS/components/rightColumn/ReceiptStyle.ts"],"sourcesContent":["import { StyleSheet } from \"@react-pdf/renderer\";\r\n\r\nexport const styles = StyleSheet.create({\r\n  page: {\r\n    backgroundColor: \"#fff\",\r\n    color: \"#262626\",\r\n    fontFamily: \"Roboto\",\r\n    fontSize: 12,\r\n    padding: 12,\r\n  },\r\n  header: {\r\n    textAlign: \"center\",\r\n    marginBottom: 4,\r\n  },\r\n  pharmacy: {\r\n    fontSize: 18,\r\n    fontWeight: \"bold\",\r\n    marginBottom: 2,\r\n  },\r\n  address: {\r\n    fontSize: 10,\r\n    marginBottom: 6,\r\n  },\r\n  divider: {\r\n    borderBottomWidth: 1.5, // slightly thicker\r\n    borderBottomColor: \"#000\",\r\n    borderStyle: \"dashed\",\r\n    marginVertical: 8, // more space above/below\r\n  },\r\n  row: {\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n    marginBottom: 2,\r\n  },\r\n  bold: {\r\n    fontWeight: \"bold\",\r\n  },\r\n  tableHeader: {\r\n    flexDirection: \"row\",\r\n    borderBottomWidth: 1.5, // slightly thicker\r\n    borderBottomColor: \"#000\",\r\n    borderStyle: \"dashed\",\r\n    marginBottom: 2,\r\n    fontWeight: \"bold\",\r\n    paddingTop: 4, // Add this line\r\n    paddingBottom: 4, // Add this line\r\n  },\r\n  colDesc: {\r\n    width: \"45%\",\r\n  },\r\n  colQty: {\r\n    width: \"20%\",\r\n    textAlign: \"center\",\r\n  },\r\n  colAmount: {\r\n    width: \"35%\",\r\n    textAlign: \"right\",\r\n  },\r\n  totalRow: {\r\n    flexDirection: \"row\",\r\n    justifyContent: \"flex-end\",\r\n    marginTop: 8,\r\n    fontWeight: \"bold\",\r\n    fontSize: 13,\r\n  },\r\n  footer: {\r\n    textAlign: \"center\",\r\n    marginTop: 8,\r\n    fontSize: 10,\r\n  },\r\n  solution: {\r\n    textAlign: \"center\",\r\n    marginTop: 8,\r\n    fontSize: 10,\r\n    fontWeight: \"bold\",\r\n  },\r\n});\r\n"],"names":[],"mappings":";;;;AAAA;;;;;;AAEO,MAAM,SAAS,kKAAU,CAAC,MAAM,CAAC;IACtC,MAAM;QACJ,iBAAiB;QACjB,OAAO;QACP,YAAY;QACZ,UAAU;QACV,SAAS;IACX;IACA,QAAQ;QACN,WAAW;QACX,cAAc;IAChB;IACA,UAAU;QACR,UAAU;QACV,YAAY;QACZ,cAAc;IAChB;IACA,SAAS;QACP,UAAU;QACV,cAAc;IAChB;IACA,SAAS;QACP,mBAAmB;QACnB,mBAAmB;QACnB,aAAa;QACb,gBAAgB;IAClB;IACA,KAAK;QACH,eAAe;QACf,gBAAgB;QAChB,cAAc;IAChB;IACA,MAAM;QACJ,YAAY;IACd;IACA,aAAa;QACX,eAAe;QACf,mBAAmB;QACnB,mBAAmB;QACnB,aAAa;QACb,cAAc;QACd,YAAY;QACZ,YAAY;QACZ,eAAe;IACjB;IACA,SAAS;QACP,OAAO;IACT;IACA,QAAQ;QACN,OAAO;QACP,WAAW;IACb;IACA,WAAW;QACT,OAAO;QACP,WAAW;IACb;IACA,UAAU;QACR,eAAe;QACf,gBAAgB;QAChB,WAAW;QACX,YAAY;QACZ,UAAU;IACZ;IACA,QAAQ;QACN,WAAW;QACX,WAAW;QACX,UAAU;IACZ;IACA,UAAU;QACR,WAAW;QACX,WAAW;QACX,UAAU;QACV,YAAY;IACd;AACF","debugId":null}},
    {"offset": {"line": 1296, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/app/dashboard/_pages/POS/components/rightColumn/ReceiptPDF.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { Page, Text, View, Document, Font } from \"@react-pdf/renderer\";\r\nimport { styles } from \"./ReceiptStyle\";\r\n\r\nFont.register({\r\n  family: \"Roboto\",\r\n  src: \"/fonts/Roboto/Roboto-VariableFont_wdth,wght.ttf\",\r\n});\r\n\r\nconst RECEIPT_WIDTH = 227;\r\nconst today = new Date().toLocaleDateString(\"en-US\", {\r\n  year: \"numeric\",\r\n  month: \"long\",\r\n  day: \"2-digit\",\r\n});\r\ninterface Item {\r\n  desc: string;\r\n  qty: number;\r\n  amount: number;\r\n}\r\n\r\ninterface ReceiptPDFProps {\r\n  cartTotal: number;\r\n  amount: string;\r\n  change: number;\r\n  customer?: { name: string } | null;\r\n  items: Item[]; // <-- add this\r\n}\r\n\r\nexport default function ReceiptPDF({\r\n  cartTotal,\r\n  amount,\r\n  change,\r\n  customer,\r\n  items,\r\n}: ReceiptPDFProps) {\r\n  const BASE_HEIGHT = 280; // adjust as needed for your layout\r\n  const ITEM_HEIGHT = 20; // adjust if your rows are taller/shorter\r\n  const receiptHeight = BASE_HEIGHT + items.length * ITEM_HEIGHT;\r\n\r\n  return (\r\n    <Document>\r\n      <Page size={[RECEIPT_WIDTH, receiptHeight]} style={styles.page}>\r\n        <View style={styles.header}>\r\n          <Text style={styles.pharmacy}>STORE DA</Text>\r\n          <Text style={styles.address}>Itoy Igid</Text>\r\n        </View>\r\n        <View style={styles.divider} />\r\n        <View style={styles.row}>\r\n          <Text style={styles.bold}>Customer:</Text>\r\n          <Text>{customer?.name || \"N/A\"}</Text>\r\n        </View>\r\n        <View style={styles.row}>\r\n          <Text>\r\n            <Text style={styles.bold}>Date:</Text> {today}\r\n          </Text>\r\n        </View>\r\n        <View style={styles.divider} />\r\n        <View style={styles.tableHeader}>\r\n          <Text style={styles.colDesc}>Description</Text>\r\n          <Text style={styles.colQty}>Qty</Text>\r\n          <Text style={styles.colAmount}>Amount</Text>\r\n        </View>\r\n        {items.map((item, idx) => (\r\n          <View style={styles.row} key={idx}>\r\n            <Text style={styles.colDesc}>{item.desc}</Text>\r\n            <Text style={styles.colQty}>{item.qty}</Text>\r\n            <Text style={styles.colAmount}>{item.amount.toFixed(2)}</Text>\r\n          </View>\r\n        ))}\r\n        <View style={styles.divider} />\r\n        <View style={styles.totalRow}>\r\n          <Text>Total: </Text>\r\n          <Text style={{ fontWeight: \"bold\", marginLeft: 8 }}>\r\n            ₱{cartTotal.toFixed(2)}\r\n          </Text>\r\n        </View>\r\n        <View style={styles.row}>\r\n          <Text>Amount:</Text>\r\n          <Text>₱{parseFloat(amount || \"0\").toFixed(2)}</Text>\r\n        </View>\r\n        <View style={styles.row}>\r\n          <Text>Change:</Text>\r\n          <Text>₱{change.toFixed(2)}</Text>\r\n        </View>\r\n        <View style={styles.divider} />\r\n        <Text style={styles.solution}>GATANG KA MANNEN!</Text>\r\n      </Page>\r\n    </Document>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1610, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/app/dashboard/_pages/POS/components/rightColumn/index.tsx"],"sourcesContent":["import { Card, CardContent, CardFooter } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useCart } from \"@/contexts/cart-context\";\r\nimport { useCustomerTagging } from \"@/hooks/pos/rightCol/useCustomerTagging\";\r\nimport Calculator from \"./Calculator\";\r\nimport CustomerSearch from \"./CustomerSearch\";\r\nimport PaymentSummary from \"./PaymentSummary\";\r\nimport Receipt from \"./Receipt\";\r\nimport { PDFViewer } from \"@react-pdf/renderer\";\r\nimport AddCustomerModal from \"./AddCustomerModal\";\r\nimport type { Customer } from \"@/hooks/pos/rightCol/useCustomerTagging\";\r\n\r\nimport ReceiptPDF from \"./ReceiptPDF\";\r\nimport { pdf } from \"@react-pdf/renderer\";\r\n\r\ninterface POSRightColProps {\r\n  step: 1 | 2 | 3;\r\n  setStep: React.Dispatch<React.SetStateAction<1 | 2 | 3>>;\r\n}\r\n\r\nexport default function RightColumn({ step, setStep }: POSRightColProps) {\r\n  const { cart, cartTotal, refocusScanner, clearCart } = useCart();\r\n  const [amount, setAmount] = useState(\"\");\r\n  const [change, setChange] = useState(0);\r\n  const [addCustomerOpen, setAddCustomerOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const amountValue = parseFloat(amount) || 0;\r\n    setChange(amountValue - cartTotal);\r\n  }, [amount, cartTotal]);\r\n\r\n  const {\r\n    customerQuery,\r\n    setCustomerQuery,\r\n    filteredCustomers,\r\n    selectedCustomer,\r\n    selectCustomer,\r\n    clearCustomer,\r\n    fetchCustomers,\r\n    allCustomers, // make sure you return this from your hook\r\n    setAllCustomers, // make sure you return this from your hook\r\n  } = useCustomerTagging();\r\n\r\n  // Calculator\r\n  const handleNext = () => {\r\n    const amountValue = parseFloat(amount) || 0;\r\n    if (amountValue >= cartTotal) {\r\n      setChange(amountValue - cartTotal);\r\n      setStep(2);\r\n    } else {\r\n      alert(\"Insufficient amount\");\r\n    }\r\n  };\r\n\r\n  // Print Receipt\r\n  const handlePrintReceipt = async () => {\r\n    const blob = await pdf(\r\n      <ReceiptPDF\r\n        cartTotal={cartTotal}\r\n        amount={amount}\r\n        change={change}\r\n        customer={selectedCustomer}\r\n        items={cart.map((item) => ({\r\n          desc: item.product.name, // or whatever field is the product name\r\n          qty: item.quantity,\r\n          amount: item.product.price * item.quantity,\r\n        }))}\r\n      />\r\n    ).toBlob();\r\n    const url = URL.createObjectURL(blob);\r\n    const link = document.createElement(\"a\");\r\n    link.href = url;\r\n    link.download = `receipt-${Date.now()}.pdf`;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n    URL.revokeObjectURL(url);\r\n  };\r\n  // New Transaction\r\n  const handleNewTransaction = async () => {\r\n    // Save sale to backend\r\n    await fetch(process.env.NEXT_PUBLIC_backend_api_url + \"/sales\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        customer_id: selectedCustomer?.id || null,\r\n        total_purchase: cartTotal,\r\n        items: cart.map(item => ({\r\n          product_id: item.product.id,\r\n          quantity: item.quantity,\r\n          price: item.product.price,\r\n        })),\r\n      }),\r\n    });\r\n    setStep(1);\r\n    setAmount(\"\");\r\n    clearCustomer();\r\n    setChange(0);\r\n    refocusScanner();\r\n    clearCart();\r\n  };\r\n\r\n  const handleCustomerAdded = (newCustomer: Customer) => {\r\n    setAllCustomers((prev) => [...prev, newCustomer]);\r\n    selectCustomer(newCustomer); // <-- select the new customer\r\n    setCustomerQuery(newCustomer.name); // <-- show name in input\r\n    // Optionally refetch from backend if needed\r\n    // refetchCustomers();\r\n  };\r\n\r\n  return (\r\n    <Card className=\"h-full flex flex-col\" onClick={() => refocusScanner()}>\r\n      <CardContent className=\"flex-1 flex flex-col p-4 pb-0\">\r\n        <h1 className=\"text-xl font-medium\">Total</h1>\r\n        <div className=\"w-full py-3 mb-2\">\r\n          <div className=\"flex justify-between text-5xl font-medium\">\r\n            <h1>₱</h1>\r\n            <h1>{cartTotal.toFixed(2)}</h1>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex-1 flex flex-col\">\r\n          {step === 1 && (\r\n            <Calculator\r\n              amount={amount}\r\n              setAmount={setAmount}\r\n              cartTotal={cartTotal}\r\n              refocusScanner={refocusScanner}\r\n              onNext={handleNext}\r\n              cartIsEmpty={cart.length === 0} // <-- add this prop\r\n            />\r\n          )}\r\n          {step === 2 && (\r\n            <>\r\n              <PaymentSummary\r\n                amount={amount}\r\n                cartTotal={cartTotal}\r\n                change={change}\r\n              />\r\n              <div className=\"flex-1\" />\r\n              <CustomerSearch\r\n                customerQuery={customerQuery}\r\n                setCustomerQuery={setCustomerQuery}\r\n                filteredCustomers={filteredCustomers}\r\n                selectedCustomer={selectedCustomer}\r\n                selectCustomer={selectCustomer}\r\n                clearCustomer={clearCustomer} // <-- pass this!\r\n                onAddCustomer={() => setAddCustomerOpen(true)}\r\n              />\r\n              <AddCustomerModal\r\n                open={addCustomerOpen}\r\n                onOpenChange={setAddCustomerOpen}\r\n                onCustomerAdded={handleCustomerAdded}\r\n              />\r\n              <CardFooter className=\"px-4 pb-4 pt-4 flex flex-col gap-3\">\r\n                <Button\r\n                  className=\"w-full h-14 text-xl font-medium\"\r\n                  variant=\"outline\"\r\n                  onClick={() => setStep(1)}\r\n                >\r\n                  Back\r\n                </Button>\r\n                <Button\r\n                  className=\"w-full h-14 text-xl font-medium\"\r\n                  onClick={() => setStep(3)}\r\n                >\r\n                  Finish Transaction\r\n                </Button>\r\n              </CardFooter>\r\n            </>\r\n          )}\r\n          {step === 3 && (\r\n            <>\r\n              <Receipt\r\n                selectedCustomer={selectedCustomer}\r\n                cartTotal={cartTotal}\r\n              />\r\n              <CardFooter className=\"px-4 pb-4 pt-4 flex flex-col gap-2\">\r\n                <Button\r\n                  className=\"w-full h-14 text-xl font-medium\"\r\n                  onClick={handlePrintReceipt}\r\n                >\r\n                  Print Receipt\r\n                </Button>\r\n                <Button\r\n                  className=\"w-full h-14 text-xl font-medium\"\r\n                  variant=\"outline\"\r\n                  onClick={handleNewTransaction}\r\n                >\r\n                  Close\r\n                </Button>\r\n              </CardFooter>\r\n            </>\r\n          )}\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1921, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/hooks/pos/leftCol/useCartSelection.ts"],"sourcesContent":["import { useState } from \"react\";\r\n\r\nexport function useCartSelection<T = string>() {\r\n  const [selectedRowId, setSelectedRowId] = useState<T | null>(null);\r\n\r\n  const selectRow = (rowId: T) => setSelectedRowId(rowId);\r\n\r\n  const clearSelection = () => setSelectedRowId(null);\r\n\r\n  return {\r\n    selectedRowId,\r\n    selectRow,\r\n    clearSelection,\r\n  };\r\n}"],"names":[],"mappings":";;;;AAAA;;AAEO,SAAS;IACd,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAW;IAE7D,MAAM,YAAY,CAAC,QAAa,iBAAiB;IAEjD,MAAM,iBAAiB,IAAM,iBAAiB;IAE9C,OAAO;QACL;QACA;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 1941, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/hooks/global/fetching/useProducts.ts"],"sourcesContent":["// ...existing code...\r\nimport useSWR from \"swr\";\r\nimport { productApi, Product } from \"@/hooks/products/useProductApi\";\r\n\r\n// canonical SWR key used across app\r\nexport const PRODUCTS_KEY = \"/api/products\";\r\n\r\nconst fetcher = async (): Promise<Product[]> => {\r\n  try {\r\n    return await productApi.getAll();\r\n  } catch {\r\n    // keep UI stable: return empty array on fetch error\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const useProducts = () => {\r\n  const { data, error, isLoading, mutate } = useSWR<Product[]>(PRODUCTS_KEY, fetcher, {\r\n    revalidateOnFocus: true,\r\n  });\r\n\r\n  return {\r\n    products: data ?? [],\r\n    loading: !!isLoading,\r\n    error: error ? (error as Error).message : null,\r\n    refetch: mutate,\r\n  };\r\n};\r\n// ...existing code..."],"names":[],"mappings":"AAAA,sBAAsB;;;;;;;AACtB;AACA;;;AAGO,MAAM,eAAe;AAE5B,MAAM,UAAU;IACd,IAAI;QACF,OAAO,MAAM,uJAAU,CAAC,MAAM;IAChC,EAAE,OAAM;QACN,oDAAoD;QACpD,OAAO,EAAE;IACX;AACF;AAEO,MAAM,cAAc;IACzB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,SAAS,EAAE,MAAM,EAAE,GAAG,IAAA,yKAAM,EAAY,cAAc,SAAS;QAClF,mBAAmB;IACrB;IAEA,OAAO;QACL,UAAU,QAAQ,EAAE;QACpB,SAAS,CAAC,CAAC;QACX,OAAO,QAAQ,AAAC,MAAgB,OAAO,GAAG;QAC1C,SAAS;IACX;AACF,GACA,sBAAsB","debugId":null}},
    {"offset": {"line": 1976, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/hooks/pos/leftCol/useBarcodeScan.ts"],"sourcesContent":["import { useState, useEffect, useRef, useCallback } from \"react\";\r\n\r\nexport const useBarcodeScan = (onScan: (barcode: string) => void) => {\r\n  const [barcodeInput, setBarcodeInput] = useState(\"\");\r\n  const inputRef = useRef<HTMLInputElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (inputRef.current) {\r\n      inputRef.current.focus();\r\n    }\r\n  }, []);\r\n\r\n  const handleBarcodeChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = e.target.value;\r\n    setBarcodeInput(value);\r\n\r\n    if (value.includes(\"\\n\") || value.includes(\"\\r\")) {\r\n      const cleanBarcode = value.replace(/[\\n\\r]/g, \"\").trim();\r\n      if (cleanBarcode) {\r\n        onScan(cleanBarcode);\r\n        setBarcodeInput(\"\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e: React.KeyboardEvent) => {\r\n    if (e.key === \"Enter\") {\r\n      e.preventDefault();\r\n      if (barcodeInput.trim()) {\r\n        onScan(barcodeInput.trim());\r\n        setBarcodeInput(\"\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const refocusScanner = () => {\r\n    setTimeout(() => {\r\n      if (inputRef.current) {\r\n        inputRef.current.focus();\r\n      }\r\n    }, 100);\r\n  };\r\n\r\n  const reset = useCallback(() => {\r\n    setBarcodeInput(\"\");\r\n    try {\r\n      if (inputRef.current) {\r\n        inputRef.current.value = \"\";\r\n        inputRef.current.focus();\r\n      }\r\n    } catch {}\r\n  }, []);\r\n\r\n  return {\r\n    barcodeInput,\r\n    inputRef,\r\n    handleBarcodeChange,\r\n    handleKeyPress,\r\n    refocusScanner,\r\n    reset,\r\n  };\r\n};"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,iBAAiB,CAAC;IAC7B,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IACjD,MAAM,WAAW,IAAA,+MAAM,EAAmB;IAE1C,IAAA,kNAAS,EAAC;QACR,IAAI,SAAS,OAAO,EAAE;YACpB,SAAS,OAAO,CAAC,KAAK;QACxB;IACF,GAAG,EAAE;IAEL,MAAM,sBAAsB,CAAC;QAC3B,MAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;QAC5B,gBAAgB;QAEhB,IAAI,MAAM,QAAQ,CAAC,SAAS,MAAM,QAAQ,CAAC,OAAO;YAChD,MAAM,eAAe,MAAM,OAAO,CAAC,WAAW,IAAI,IAAI;YACtD,IAAI,cAAc;gBAChB,OAAO;gBACP,gBAAgB;YAClB;QACF;IACF;IAEA,MAAM,iBAAiB,CAAC;QACtB,IAAI,EAAE,GAAG,KAAK,SAAS;YACrB,EAAE,cAAc;YAChB,IAAI,aAAa,IAAI,IAAI;gBACvB,OAAO,aAAa,IAAI;gBACxB,gBAAgB;YAClB;QACF;IACF;IAEA,MAAM,iBAAiB;QACrB,WAAW;YACT,IAAI,SAAS,OAAO,EAAE;gBACpB,SAAS,OAAO,CAAC,KAAK;YACxB;QACF,GAAG;IACL;IAEA,MAAM,QAAQ,IAAA,oNAAW,EAAC;QACxB,gBAAgB;QAChB,IAAI;YACF,IAAI,SAAS,OAAO,EAAE;gBACpB,SAAS,OAAO,CAAC,KAAK,GAAG;gBACzB,SAAS,OAAO,CAAC,KAAK;YACxB;QACF,EAAE,OAAM,CAAC;IACX,GAAG,EAAE;IAEL,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 2039, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/hooks/pos/leftCol/useProductsSearch.ts"],"sourcesContent":["import { useState, useMemo } from \"react\";\r\nimport { Product } from \"@/hooks/products/useProductApi\";\r\n\r\nexport const useProductSearch = (products: Product[]) => {\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [showSearchResults, setShowSearchResults] = useState(false);\r\n\r\n  const searchResults = useMemo(() => {\r\n    if (searchQuery.trim().length < 2) return [];\r\n\r\n    return products.filter(\r\n      (product) =>\r\n        product.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        product.barcode?.includes(searchQuery)\r\n    );\r\n  }, [products, searchQuery]); \r\n\r\n  const handleSearchChange = (query: string) => {\r\n    setSearchQuery(query);\r\n    setShowSearchResults(query.trim().length >= 2);\r\n  }; \r\n\r\n  const clearSearch = () => {\r\n    setSearchQuery(\"\");\r\n    setShowSearchResults(false);\r\n  }; \r\n  \r\n  return {\r\n    searchQuery,\r\n    searchResults,\r\n    showSearchResults,\r\n    handleSearchChange,\r\n    clearSearch,\r\n  };\r\n};"],"names":[],"mappings":";;;;AAAA;;AAGO,MAAM,mBAAmB,CAAC;IAC/B,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,iNAAQ,EAAC;IAE3D,MAAM,gBAAgB,IAAA,gNAAO,EAAC;QAC5B,IAAI,YAAY,IAAI,GAAG,MAAM,GAAG,GAAG,OAAO,EAAE;QAE5C,OAAO,SAAS,MAAM,CACpB,CAAC,UACC,QAAQ,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,YAAY,WAAW,OAC3D,QAAQ,OAAO,EAAE,SAAS;IAEhC,GAAG;QAAC;QAAU;KAAY;IAE1B,MAAM,qBAAqB,CAAC;QAC1B,eAAe;QACf,qBAAqB,MAAM,IAAI,GAAG,MAAM,IAAI;IAC9C;IAEA,MAAM,cAAc;QAClB,eAAe;QACf,qBAAqB;IACvB;IAEA,OAAO;QACL;QACA;QACA;QACA;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 2075, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/components/ui/table.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Table({ className, ...props }: React.ComponentProps<\"table\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"table-container\"\r\n      className=\"relative w-full overflow-x-auto\"\r\n    >\r\n      <table\r\n        data-slot=\"table\"\r\n        className={cn(\"w-full caption-bottom text-sm\", className)}\r\n        {...props}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction TableHeader({ className, ...props }: React.ComponentProps<\"thead\">) {\r\n  return (\r\n    <thead\r\n      data-slot=\"table-header\"\r\n      className={cn(\"[&_tr]:border-b\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableBody({ className, ...props }: React.ComponentProps<\"tbody\">) {\r\n  return (\r\n    <tbody\r\n      data-slot=\"table-body\"\r\n      className={cn(\"[&_tr:last-child]:border-0\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableFooter({ className, ...props }: React.ComponentProps<\"tfoot\">) {\r\n  return (\r\n    <tfoot\r\n      data-slot=\"table-footer\"\r\n      className={cn(\r\n        \"bg-muted/50 border-t font-medium [&>tr]:last:border-b-0\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableRow({ className, ...props }: React.ComponentProps<\"tr\">) {\r\n  return (\r\n    <tr\r\n      data-slot=\"table-row\"\r\n      className={cn(\r\n        \"hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableHead({ className, ...props }: React.ComponentProps<\"th\">) {\r\n  return (\r\n    <th\r\n      data-slot=\"table-head\"\r\n      className={cn(\r\n        \"text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableCell({ className, ...props }: React.ComponentProps<\"td\">) {\r\n  return (\r\n    <td\r\n      data-slot=\"table-cell\"\r\n      className={cn(\r\n        \"p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableCaption({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<\"caption\">) {\r\n  return (\r\n    <caption\r\n      data-slot=\"table-caption\"\r\n      className={cn(\"text-muted-foreground mt-4 text-sm\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Table,\r\n  TableHeader,\r\n  TableBody,\r\n  TableFooter,\r\n  TableHead,\r\n  TableRow,\r\n  TableCell,\r\n  TableCaption,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAIA;AAJA;;;AAMA,SAAS,MAAM,EAAE,SAAS,EAAE,GAAG,OAAsC;IACnE,qBACE,8OAAC;QACC,aAAU;QACV,WAAU;kBAEV,cAAA,8OAAC;YACC,aAAU;YACV,WAAW,IAAA,yHAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;AAIjB;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,mBAAmB;QAChC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAsC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EACX,2DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAmC;IACnE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EACX,+EACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EACX,sJACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EACX,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OAC6B;IAChC,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 2199, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/app/dashboard/_pages/POS/components/leftColumn/CartTable.tsx"],"sourcesContent":["// ...existing code...\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from \"@/components/ui/table\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport React from \"react\";\r\nimport { Product } from \"@/hooks/products/useProductApi\";\r\n\r\ninterface CartItem {\r\n  id: string;\r\n  product: Product;\r\n  quantity: number;\r\n}\r\n\r\ninterface CartTableProps {\r\n  cart: CartItem[];\r\n  selectedRowId: string | null;\r\n  selectRow: (id: string) => void;\r\n  updateCartItemQuantity: (id: string, qty: number) => void;\r\n  updateCartItemPrice: (id: string, price: number) => void;\r\n  deleteCartItem: (id: string) => void;\r\n  disabled?: boolean;\r\n}\r\n\r\nexport default function CartTable({\r\n  cart,\r\n  selectedRowId,\r\n  selectRow,\r\n  updateCartItemQuantity,\r\n  updateCartItemPrice,\r\n  deleteCartItem,\r\n  disabled = false,\r\n}: CartTableProps) {\r\n  if (cart.length === 0) {\r\n    return (\r\n      <div className=\"flex-1 flex items-center justify-center w-full h-full\">\r\n        <span className=\"text-center text-gray-500\">\r\n          🛒 Scan items to add to cart\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Table>\r\n      <TableHeader>\r\n        <TableRow>\r\n          <TableHead className=\"text-lg font-semibold\">Barcode</TableHead>\r\n          <TableHead className=\"text-lg font-semibold\">Name</TableHead>\r\n          <TableHead className=\"text-lg font-semibold\">Price</TableHead>\r\n          <TableHead className=\"text-lg font-semibold\">Quantity</TableHead>\r\n          <TableHead className=\"text-lg font-semibold\">Actions</TableHead>\r\n        </TableRow>\r\n      </TableHeader>\r\n      <TableBody>\r\n        {cart.map((item) => (\r\n          <TableRow\r\n            key={item.id}\r\n            className={`hover:bg-gray-50 cursor-pointer ${selectedRowId === item.id ? \"bg-gray-100\" : \"\"\r\n              }`}\r\n            onClick={() => selectRow(item.id)}\r\n          >\r\n            <TableCell className=\"font-medium max-w-[140px] break-words whitespace-normal\">\r\n              {item.product.barcode || \"N/A\"}\r\n            </TableCell>\r\n            <TableCell className=\"min-w-0 max-w-[320px] break-words whitespace-normal\">\r\n              {item.product.name}\r\n            </TableCell>\r\n\r\n            <TableCell>\r\n              <Input\r\n                type=\"number\"\r\n                min={0}\r\n                step=\"0.01\"\r\n                value={String(item.product.price)}\r\n                className=\"w-28\"\r\n                onClick={(e) => e.stopPropagation()}\r\n                onChange={(e) => {\r\n                  const raw = e.target.value;\r\n                  const parsed = Number(raw);\r\n                  const price = Number.isFinite(parsed) ? Math.max(0, parsed) : 0;\r\n                  updateCartItemPrice(item.id, price);\r\n                }}\r\n                disabled={disabled}\r\n              />\r\n            </TableCell>\r\n\r\n            <TableCell>\r\n              <Input\r\n                type=\"number\"\r\n                min={1}\r\n                value={item.quantity}\r\n                className=\"w-16\"\r\n                onClick={(e) => e.stopPropagation()}\r\n                onChange={(e) => {\r\n                  const qty = Math.max(1, Number(e.target.value));\r\n                  updateCartItemQuantity(item.id, qty);\r\n                }}\r\n                disabled={disabled}\r\n              />\r\n            </TableCell>\r\n\r\n            <TableCell>\r\n              <button\r\n                type=\"button\"\r\n                className=\"text-sm text-red-600 hover:underline disabled:opacity-50\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  deleteCartItem(item.id);\r\n                }}\r\n                disabled={disabled}\r\n              >\r\n                Delete\r\n              </button>\r\n            </TableCell>\r\n          </TableRow>\r\n        ))}\r\n      </TableBody>\r\n    </Table>\r\n  );\r\n}"],"names":[],"mappings":"AAAA,sBAAsB;;;;;;AACtB;AAQA;;;;AAoBe,SAAS,UAAU,EAChC,IAAI,EACJ,aAAa,EACb,SAAS,EACT,sBAAsB,EACtB,mBAAmB,EACnB,cAAc,EACd,WAAW,KAAK,EACD;IACf,IAAI,KAAK,MAAM,KAAK,GAAG;QACrB,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAK,WAAU;0BAA4B;;;;;;;;;;;IAKlD;IAEA,qBACE,8OAAC,0IAAK;;0BACJ,8OAAC,gJAAW;0BACV,cAAA,8OAAC,6IAAQ;;sCACP,8OAAC,8IAAS;4BAAC,WAAU;sCAAwB;;;;;;sCAC7C,8OAAC,8IAAS;4BAAC,WAAU;sCAAwB;;;;;;sCAC7C,8OAAC,8IAAS;4BAAC,WAAU;sCAAwB;;;;;;sCAC7C,8OAAC,8IAAS;4BAAC,WAAU;sCAAwB;;;;;;sCAC7C,8OAAC,8IAAS;4BAAC,WAAU;sCAAwB;;;;;;;;;;;;;;;;;0BAGjD,8OAAC,8IAAS;0BACP,KAAK,GAAG,CAAC,CAAC,qBACT,8OAAC,6IAAQ;wBAEP,WAAW,CAAC,gCAAgC,EAAE,kBAAkB,KAAK,EAAE,GAAG,gBAAgB,IACtF;wBACJ,SAAS,IAAM,UAAU,KAAK,EAAE;;0CAEhC,8OAAC,8IAAS;gCAAC,WAAU;0CAClB,KAAK,OAAO,CAAC,OAAO,IAAI;;;;;;0CAE3B,8OAAC,8IAAS;gCAAC,WAAU;0CAClB,KAAK,OAAO,CAAC,IAAI;;;;;;0CAGpB,8OAAC,8IAAS;0CACR,cAAA,8OAAC,0IAAK;oCACJ,MAAK;oCACL,KAAK;oCACL,MAAK;oCACL,OAAO,OAAO,KAAK,OAAO,CAAC,KAAK;oCAChC,WAAU;oCACV,SAAS,CAAC,IAAM,EAAE,eAAe;oCACjC,UAAU,CAAC;wCACT,MAAM,MAAM,EAAE,MAAM,CAAC,KAAK;wCAC1B,MAAM,SAAS,OAAO;wCACtB,MAAM,QAAQ,OAAO,QAAQ,CAAC,UAAU,KAAK,GAAG,CAAC,GAAG,UAAU;wCAC9D,oBAAoB,KAAK,EAAE,EAAE;oCAC/B;oCACA,UAAU;;;;;;;;;;;0CAId,8OAAC,8IAAS;0CACR,cAAA,8OAAC,0IAAK;oCACJ,MAAK;oCACL,KAAK;oCACL,OAAO,KAAK,QAAQ;oCACpB,WAAU;oCACV,SAAS,CAAC,IAAM,EAAE,eAAe;oCACjC,UAAU,CAAC;wCACT,MAAM,MAAM,KAAK,GAAG,CAAC,GAAG,OAAO,EAAE,MAAM,CAAC,KAAK;wCAC7C,uBAAuB,KAAK,EAAE,EAAE;oCAClC;oCACA,UAAU;;;;;;;;;;;0CAId,8OAAC,8IAAS;0CACR,cAAA,8OAAC;oCACC,MAAK;oCACL,WAAU;oCACV,SAAS,CAAC;wCACR,EAAE,eAAe;wCACjB,eAAe,KAAK,EAAE;oCACxB;oCACA,UAAU;8CACX;;;;;;;;;;;;uBAtDE,KAAK,EAAE;;;;;;;;;;;;;;;;AA+DxB","debugId":null}},
    {"offset": {"line": 2394, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/app/dashboard/_pages/POS/components/leftColumn/ProductSearch.tsx"],"sourcesContent":["import { Input } from \"@/components/ui/input\";\r\nimport { Search } from \"lucide-react\";\r\nimport React from \"react\";\r\nimport { Product } from \"@/hooks/products/useProductApi\";\r\n\r\ninterface ProductSearchProps {\r\n  searchQuery: string;\r\n  searchResults: Product[];\r\n  showSearchResults: boolean;\r\n  handleSearchChange: (val: string) => void;\r\n  handleSearchSelect: (product: Product) => void;\r\n  clearSearch: () => void;\r\n  refocusScanner: () => void;\r\n  disabled?: boolean;\r\n}\r\n\r\nexport default function ProductSearch({\r\n  searchQuery,\r\n  searchResults,\r\n  showSearchResults,\r\n  handleSearchChange,\r\n  handleSearchSelect,\r\n  refocusScanner,\r\n  disabled = false,\r\n}: ProductSearchProps) {\r\n  return (\r\n    <div className=\"relative mb-6\">\r\n      <div className=\"relative flex items-center\">\r\n        <Search\r\n          className=\"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400\"\r\n          size={20}\r\n        />\r\n        <Input\r\n          className=\"pl-9 w-full\"\r\n          placeholder=\"Search by product name or barcode...\"\r\n          value={searchQuery}\r\n          onChange={(e) => handleSearchChange(e.target.value)}\r\n          onClick={(e) => e.stopPropagation()}\r\n          onBlur={refocusScanner}\r\n          disabled={disabled}\r\n        />\r\n      </div>\r\n      {showSearchResults && searchResults.length > 0 && (\r\n        <div className=\"absolute top-full left-0 right-0 bg-white border rounded-md shadow-lg z-10 max-h-60 overflow-y-auto\">\r\n          {searchResults.map((product) => (\r\n            <div\r\n              key={product.id}\r\n              className=\"p-3 hover:bg-gray-50 cursor-pointer border-b last:border-b-0\"\r\n              onClick={() => handleSearchSelect(product)}\r\n            >\r\n              <div className=\"flex justify-between items-center\">\r\n                <div className=\"min-w-0\"> {/* allow left column to shrink and wrap */}\r\n                  <div className=\"font-medium break-words whitespace-normal\">{product.name}</div>\r\n                  <div className=\"text-sm text-gray-500\">\r\n                    Barcode: {product.barcode}\r\n                  </div>\r\n                </div>\r\n                <div className=\"text-right ml-4 flex-shrink-0\">\r\n                  <div className=\"font-medium\">\r\n                    ₱ {product.price.toFixed(2)}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n      {showSearchResults &&\r\n        searchResults.length === 0 &&\r\n        searchQuery.length >= 2 && (\r\n          <div className=\"absolute top-full left-0 right-0 bg-white border rounded-md shadow-lg z-10 p-3 text-center text-gray-500\">\r\n            No products found matching \"{searchQuery}\"\r\n          </div>\r\n        )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAee,SAAS,cAAc,EACpC,WAAW,EACX,aAAa,EACb,iBAAiB,EACjB,kBAAkB,EAClB,kBAAkB,EAClB,cAAc,EACd,WAAW,KAAK,EACG;IACnB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,gNAAM;wBACL,WAAU;wBACV,MAAM;;;;;;kCAER,8OAAC,0IAAK;wBACJ,WAAU;wBACV,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,mBAAmB,EAAE,MAAM,CAAC,KAAK;wBAClD,SAAS,CAAC,IAAM,EAAE,eAAe;wBACjC,QAAQ;wBACR,UAAU;;;;;;;;;;;;YAGb,qBAAqB,cAAc,MAAM,GAAG,mBAC3C,8OAAC;gBAAI,WAAU;0BACZ,cAAc,GAAG,CAAC,CAAC,wBAClB,8OAAC;wBAEC,WAAU;wBACV,SAAS,IAAM,mBAAmB;kCAElC,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;wCAAU;sDACvB,8OAAC;4CAAI,WAAU;sDAA6C,QAAQ,IAAI;;;;;;sDACxE,8OAAC;4CAAI,WAAU;;gDAAwB;gDAC3B,QAAQ,OAAO;;;;;;;;;;;;;8CAG7B,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC;wCAAI,WAAU;;4CAAc;4CACxB,QAAQ,KAAK,CAAC,OAAO,CAAC;;;;;;;;;;;;;;;;;;uBAb1B,QAAQ,EAAE;;;;;;;;;;YAqBtB,qBACC,cAAc,MAAM,KAAK,KACzB,YAAY,MAAM,IAAI,mBACpB,8OAAC;gBAAI,WAAU;;oBAA2G;oBAC3F;oBAAY;;;;;;;;;;;;;AAKrD","debugId":null}},
    {"offset": {"line": 2532, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/app/dashboard/_pages/POS/components/leftColumn/BarcodeScannerInput.tsx"],"sourcesContent":["import { Input } from \"@/components/ui/input\";\r\nimport React, { useEffect } from \"react\";\r\n\r\ninterface BarcodeScannerInputProps {\r\n  inputRef: React.RefObject<HTMLInputElement | null>;\r\n  barcodeInput: string;\r\n  handleBarcodeChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n  handleKeyPress: (e: React.KeyboardEvent<HTMLInputElement>) => void;\r\n  disabled?: boolean;\r\n}\r\n\r\nexport default function BarcodeScannerInput({\r\n  inputRef,\r\n  barcodeInput,\r\n  handleBarcodeChange,\r\n  handleKeyPress,\r\n  disabled = false,\r\n}: BarcodeScannerInputProps) {\r\n  useEffect(() => {\r\n    const onProductAdded = (e: Event) => {\r\n      const detail = (e as CustomEvent)?.detail;\r\n      // if sender asked to prevent focusing (e.g., product added from Products tab), do nothing\r\n      if (detail?.preventScan) return;\r\n\r\n      const el = inputRef?.current;\r\n      if (!el) return;\r\n\r\n      try {\r\n        el.focus();\r\n      } catch {}\r\n\r\n      // clear DOM value so next hardware scan starts fresh\r\n      try {\r\n        el.value = \"\";\r\n      } catch {}\r\n\r\n      const syntheticEvent = { target: el } as unknown as React.ChangeEvent<HTMLInputElement>;\r\n      try {\r\n        handleBarcodeChange(syntheticEvent);\r\n      } catch {\r\n        el.dispatchEvent(new Event(\"input\", { bubbles: true }));\r\n      }\r\n    };\r\n\r\n    const onFocusRequest = () => {\r\n      const el = inputRef?.current;\r\n      if (!el) return;\r\n      try {\r\n        el.focus();\r\n      } catch {}\r\n      try {\r\n        el.value = \"\";\r\n      } catch {}\r\n      const syntheticEvent = { target: el } as unknown as React.ChangeEvent<HTMLInputElement>;\r\n      try {\r\n        handleBarcodeChange(syntheticEvent);\r\n      } catch {\r\n        el.dispatchEvent(new Event(\"input\", { bubbles: true }));\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"product:added\", onProductAdded as EventListener);\r\n    window.addEventListener(\"focusBarcodeScanner\", onFocusRequest as EventListener);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"product:added\", onProductAdded as EventListener);\r\n      window.removeEventListener(\"focusBarcodeScanner\", onFocusRequest as EventListener);\r\n    };\r\n  }, [inputRef, handleBarcodeChange]);\r\n\r\n  return (\r\n    <Input\r\n      ref={inputRef}\r\n      className=\"opacity-0 absolute -top-1000\"\r\n      value={barcodeInput}\r\n      onChange={handleBarcodeChange}\r\n      onKeyPress={handleKeyPress}\r\n      placeholder=\"Scanner input...\"\r\n      disabled={disabled}\r\n    />\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAUe,SAAS,oBAAoB,EAC1C,QAAQ,EACR,YAAY,EACZ,mBAAmB,EACnB,cAAc,EACd,WAAW,KAAK,EACS;IACzB,IAAA,kNAAS,EAAC;QACR,MAAM,iBAAiB,CAAC;YACtB,MAAM,SAAU,GAAmB;YACnC,0FAA0F;YAC1F,IAAI,QAAQ,aAAa;YAEzB,MAAM,KAAK,UAAU;YACrB,IAAI,CAAC,IAAI;YAET,IAAI;gBACF,GAAG,KAAK;YACV,EAAE,OAAM,CAAC;YAET,qDAAqD;YACrD,IAAI;gBACF,GAAG,KAAK,GAAG;YACb,EAAE,OAAM,CAAC;YAET,MAAM,iBAAiB;gBAAE,QAAQ;YAAG;YACpC,IAAI;gBACF,oBAAoB;YACtB,EAAE,OAAM;gBACN,GAAG,aAAa,CAAC,IAAI,MAAM,SAAS;oBAAE,SAAS;gBAAK;YACtD;QACF;QAEA,MAAM,iBAAiB;YACrB,MAAM,KAAK,UAAU;YACrB,IAAI,CAAC,IAAI;YACT,IAAI;gBACF,GAAG,KAAK;YACV,EAAE,OAAM,CAAC;YACT,IAAI;gBACF,GAAG,KAAK,GAAG;YACb,EAAE,OAAM,CAAC;YACT,MAAM,iBAAiB;gBAAE,QAAQ;YAAG;YACpC,IAAI;gBACF,oBAAoB;YACtB,EAAE,OAAM;gBACN,GAAG,aAAa,CAAC,IAAI,MAAM,SAAS;oBAAE,SAAS;gBAAK;YACtD;QACF;QAEA,OAAO,gBAAgB,CAAC,iBAAiB;QACzC,OAAO,gBAAgB,CAAC,uBAAuB;QAE/C,OAAO;YACL,OAAO,mBAAmB,CAAC,iBAAiB;YAC5C,OAAO,mBAAmB,CAAC,uBAAuB;QACpD;IACF,GAAG;QAAC;QAAU;KAAoB;IAElC,qBACE,8OAAC,0IAAK;QACJ,KAAK;QACL,WAAU;QACV,OAAO;QACP,UAAU;QACV,YAAY;QACZ,aAAY;QACZ,UAAU;;;;;;AAGhB","debugId":null}},
    {"offset": {"line": 2616, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/hooks/products/useAddProducts.ts"],"sourcesContent":["import { useState } from \"react\";\r\nimport { mutate } from \"swr\";\r\nimport { productApi, Product } from \"@/hooks/products/useProductApi\";\r\nimport { PRODUCTS_KEY, useProducts } from \"@/hooks/global/fetching/useProducts\";\r\n\r\ntype CreateInput = Omit<Product, \"id\">;\r\ntype FieldError = { field?: string; message: string } | null;\r\n\r\nexport function useAddProduct() {\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState<FieldError>(null);\r\n    const [success, setSuccess] = useState(false);\r\n\r\n    // Use SWR-backed product list for fast local checks\r\n    const { products } = useProducts();\r\n\r\n    const addProduct = async (product: CreateInput) => {\r\n        setLoading(true);\r\n        setError(null);\r\n        setSuccess(false);\r\n\r\n        try {\r\n            const barcodeVal = product.barcode ?? \"\";\r\n            const nameVal = (product.name ?? \"\").trim().toLowerCase();\r\n\r\n            // Build fast-lookup sets (O(n) to build, O(1) checks)\r\n            const barcodeSet = new Set((products ?? []).map(p => String(p.barcode)));\r\n            const nameSet = new Set((products ?? []).map(p => (p.name || \"\").trim().toLowerCase()));\r\n\r\n            if (barcodeVal && barcodeSet.has(String(barcodeVal))) {\r\n                setError({ field: \"barcode\", message: \"Barcode already exists. Please use a unique barcode.\" });\r\n                setLoading(false);\r\n                return null;\r\n            }\r\n\r\n            if (nameVal && nameSet.has(nameVal)) {\r\n                setError({ field: \"name\", message: \"Product name already exists. Please use a unique name.\" });\r\n                setLoading(false);\r\n                return null;\r\n            }\r\n\r\n            // Create on server - use productApi if available; fallback to fetch\r\n            const API_BASE = (process.env.NEXT_PUBLIC_backend_api_url || \"\").replace(/\\/$/, \"\");\r\n            let createdProduct: Product | null = null;\r\n            try {\r\n                if (productApi && typeof productApi.create === \"function\") {\r\n                    // productApi.create should throw on non-2xx; we still wrap for structured parsing below\r\n                    createdProduct = await productApi.create(product);\r\n                } else {\r\n                    const res = await fetch(`${API_BASE}/products`, {\r\n                        method: \"POST\",\r\n                        headers: { \"Content-Type\": \"application/json\" },\r\n                        body: JSON.stringify(product),\r\n                    });\r\n                    const body = await res.json().catch(() => ({}));\r\n                    if (!res.ok) {\r\n                        // try to map field errors\r\n                        if (res.status === 409 || res.status === 400) {\r\n                            // server might send { field: \"...\", message: \"...\" } or { errors: [{ field, message }] }\r\n                            if (body?.field && body?.message) {\r\n                                setError({ field: body.field, message: body.message });\r\n                            } else if (Array.isArray(body?.errors) && body.errors.length > 0) {\r\n                                const first = body.errors[0];\r\n                                setError({ field: first.field, message: first.message });\r\n                            } else {\r\n                                setError({ message: body?.message || \"Duplicate or invalid data\" });\r\n                            }\r\n                        } else {\r\n                            setError({ message: body?.message || `Failed to create product (${res.status})` });\r\n                        }\r\n                        setLoading(false);\r\n                        return null;\r\n                    }\r\n                    createdProduct = body?.data ?? body;\r\n                }\r\n            } catch (err: any) {\r\n                // Try to parse structured error from thrown object (productApi implementations vary)\r\n                const e = err as any;\r\n                if (e?.response && typeof e.response.json === \"function\") {\r\n                    const parsed = await e.response.json().catch(() => null);\r\n                    if (parsed?.field && parsed?.message) {\r\n                        setError({ field: parsed.field, message: parsed.message });\r\n                    } else if (Array.isArray(parsed?.errors) && parsed.errors.length > 0) {\r\n                        setError({ field: parsed.errors[0].field, message: parsed.errors[0].message });\r\n                    } else {\r\n                        setError({ message: parsed?.message || \"Failed to add product\" });\r\n                    }\r\n                } else {\r\n                    const msg = e?.message || String(e);\r\n                    // simple heuristic for duplicate messages\r\n                    if (msg.toLowerCase().includes(\"barcode\")) {\r\n                        setError({ field: \"barcode\", message: msg });\r\n                    } else if (msg.toLowerCase().includes(\"name\")) {\r\n                        setError({ field: \"name\", message: msg });\r\n                    } else {\r\n                        setError({ message: msg });\r\n                    }\r\n                }\r\n                setLoading(false);\r\n                return null;\r\n            }\r\n\r\n            if (!createdProduct) {\r\n                setLoading(false);\r\n                setError({ message: \"Failed to add product\" });\r\n                return null;\r\n            }\r\n\r\n            // Optimistically update SWR cache\r\n            try {\r\n                await mutate(\r\n                    PRODUCTS_KEY,\r\n                    (current: Product[] | undefined) => {\r\n                        const filtered = (current ?? []).filter((p) => p.id !== createdProduct!.id);\r\n                        return [createdProduct!, ...filtered];\r\n                    },\r\n                    false\r\n                );\r\n            } catch {\r\n                // ignore mutate errors\r\n            }\r\n            mutate(PRODUCTS_KEY);\r\n\r\n            setSuccess(true);\r\n            setLoading(false);\r\n            return createdProduct;\r\n        } catch (err: any) {\r\n            setError({ message: err?.message || \"Failed to add product\" });\r\n            setSuccess(false);\r\n            setLoading(false);\r\n            return null;\r\n        }\r\n    };\r\n\r\n    const reset = () => {\r\n        setError(null);\r\n        setSuccess(false);\r\n    };\r\n\r\n    return {\r\n        addProduct,\r\n        loading,\r\n        error,\r\n        success,\r\n        reset,\r\n    };\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2796, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/hooks/global/fetching/useCategories.ts"],"sourcesContent":["import useSWR, { mutate as globalMutate } from \"swr\";\r\nimport { categoryApi, CATEGORIES_KEY } from \"@/hooks/categories/useCategoryApi\";\r\n\r\nexport const useCategories = () => {\r\n  const { data, error, mutate } = useSWR(CATEGORIES_KEY, () => categoryApi.getAll(), {\r\n    revalidateOnFocus: true,\r\n  });\r\n\r\n  return {\r\n    categories: data ?? [],\r\n    loading: !error && !data,\r\n    error: error ? (error as Error).message : null,\r\n    refetch: mutate,     // call this to revalidate\r\n    mutate: globalMutate // optional global mutate if you need it elsewhere\r\n  };\r\n};"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAEO,MAAM,gBAAgB;IAC3B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,IAAA,yKAAM,EAAC,8JAAc,EAAE,IAAM,2JAAW,CAAC,MAAM,IAAI;QACjF,mBAAmB;IACrB;IAEA,OAAO;QACL,YAAY,QAAQ,EAAE;QACtB,SAAS,CAAC,SAAS,CAAC;QACpB,OAAO,QAAQ,AAAC,MAAgB,OAAO,GAAG;QAC1C,SAAS;QACT,QAAQ,6NAAY,CAAC,kDAAkD;IACzE;AACF","debugId":null}},
    {"offset": {"line": 2821, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/components/global/ProductRegisterModal.tsx"],"sourcesContent":[" \"client\";\r\nimport { useEffect, useMemo, useState, useCallback } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { z } from \"zod\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { Plus } from \"lucide-react\";\r\n\r\nimport { useProductModal } from \"@/contexts/productRegister-context\";\r\nimport { useProductFormStore } from \"@/stores/productFormStore\";\r\nimport AddCategoryModal from \"@/app/dashboard/_pages/Products/components/addCategoryModal\";\r\n\r\nimport { useAddProduct } from \"@/hooks/products/useAddProducts\";\r\nimport { useProducts } from \"@/hooks/global/fetching/useProducts\";\r\nimport { useCategories } from \"@/hooks/global/fetching/useCategories\";\r\n\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription, DialogFooter, DialogClose } from \"@/components/ui/dialog\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n    DropdownMenu,\r\n    DropdownMenuContent,\r\n    DropdownMenuItem,\r\n    DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\r\nimport {\r\n    AlertDialog,\r\n    AlertDialogContent,\r\n    AlertDialogHeader,\r\n    AlertDialogTitle,\r\n    AlertDialogDescription,\r\n    AlertDialogFooter,\r\n    AlertDialogAction,\r\n} from \"@/components/ui/alert-dialog\";\r\n\r\n/* -------------------------\r\n   Helpers & Schema\r\n   ------------------------- */\r\n\r\nconst getCategoryId = (c: any) => c?.id ?? c?._id ?? c?.category_id ?? c?.categoryId ?? c?.ID ?? null;\r\n\r\nconst productSchema = z.object({\r\n    name: z.string().min(1, \"Product name is required\"),\r\n    barcode: z.preprocess((v) => (v == null ? \"\" : String(v)), z.string().min(1, \"Barcode is required\").regex(/^\\d+$/, \"Barcode must contain only digits\")),\r\n    category_id: z.preprocess((v) => {\r\n        if (v == null || v === \"\") return undefined;\r\n        const n = Number(v);\r\n        return Number.isNaN(n) ? undefined : n;\r\n    }, z.number().positive(\"Please select a category\")),\r\n    price: z.preprocess((v) => {\r\n        if (v == null || v === \"\") return undefined;\r\n        const n = Number(v);\r\n        return Number.isNaN(n) ? undefined : n;\r\n    }, z.number().nonnegative(\"Price must be >= 0\")),\r\n    quantity: z.preprocess((v) => {\r\n        if (v == null || v === \"\") return undefined;\r\n        const n = Number(v);\r\n        return Number.isNaN(n) ? undefined : n;\r\n    }, z.number().nonnegative(\"Quantity must be >= 0\")),\r\n});\r\n\r\ntype ProductFormValues = z.infer<typeof productSchema>;\r\n\r\n/* -------------------------\r\n   Component\r\n   ------------------------- */\r\n\r\nexport default function ProductRegisterModal() {\r\n    // modal + context barcode\r\n    const { open, setOpen, barcode: contextBarcode, setBarcode: setContextBarcode, openModal } = useProductModal();\r\n\r\n    // persisted local form store (keeps values between opens)\r\n    const nameStore = useProductFormStore(s => s.name);\r\n    const barcodeStore = useProductFormStore(s => s.barcode);\r\n    const categoryIdStore = useProductFormStore(s => s.category_id);\r\n    const categoryNameFallback = useProductFormStore(s => s.category_name);\r\n    const priceStore = useProductFormStore(s => s.price);\r\n    const quantityStore = useProductFormStore(s => s.quantity);\r\n    const setNameStore = useProductFormStore(s => s.setName);\r\n    const setBarcodeStore = useProductFormStore(s => s.setBarcode);\r\n    const setCategoryIdStore = useProductFormStore(s => s.setCategoryId);\r\n    const setCategoryNameStore = useProductFormStore(s => s.setCategoryName);\r\n    const setPriceStore = useProductFormStore(s => s.setPrice);\r\n    const setQuantityStore = useProductFormStore(s => s.setQuantity);\r\n    const resetFormStore = useProductFormStore(s => s.reset);\r\n\r\n    // hooks\r\n    const { addProduct, loading, error, reset: resetAddError } = useAddProduct();\r\n    const { categories, loading: categoriesLoading, error: categoriesError } = useCategories();\r\n    const { refetch } = useProducts();\r\n\r\n    // local UI state\r\n    const [categorySearch, setCategorySearch] = useState(\"\");\r\n    const [showSuccessDialog, setShowSuccessDialog] = useState(false);\r\n    const [globalError, setGlobalError] = useState<string | null>(null);\r\n\r\n    // react-hook-form\r\n    const { register, handleSubmit, setValue, reset: resetForm, formState: { errors }, setError } = useForm<ProductFormValues>({\r\n        resolver: zodResolver(productSchema) as any,\r\n        defaultValues: {\r\n            name: \"\",\r\n            barcode: \"\",\r\n            category_id: undefined,\r\n            price: undefined,\r\n            quantity: undefined,\r\n        },\r\n    });\r\n\r\n    /* -------------------------\r\n       Derived values\r\n       ------------------------- */\r\n\r\n    const filteredCategories = useMemo(() => {\r\n        if (!categories) return [];\r\n        const q = categorySearch.trim().toLowerCase();\r\n        if (!q) return categories;\r\n        return categories.filter((c: any) => (c?.name || \"\").toLowerCase().includes(q));\r\n    }, [categories, categorySearch]);\r\n\r\n    const selectedCategory = useMemo(() => {\r\n        if (!categories) return undefined;\r\n        return categories.find((c: any) => String(getCategoryId(c)) === String(categoryIdStore));\r\n    }, [categories, categoryIdStore]);\r\n\r\n    const selectedCategoryName = selectedCategory?.name ?? categoryNameFallback ?? \"\";\r\n\r\n    /* -------------------------\r\n       Sync form <> store when modal opens/closes\r\n       ------------------------- */\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            // clear persistent store and form state when modal closes\r\n            resetFormStore();\r\n            resetAddError?.();\r\n            resetForm();\r\n            setGlobalError(null);\r\n            return;\r\n        }\r\n\r\n        // when opened, populate form from persisted store\r\n        resetForm({\r\n            name: nameStore || \"\",\r\n            barcode: barcodeStore || \"\",\r\n            category_id: categoryIdStore ? Number(categoryIdStore) : undefined,\r\n            price: priceStore === \"\" ? undefined : Number(priceStore),\r\n            quantity: quantityStore === \"\" ? undefined : Number(quantityStore),\r\n        });\r\n\r\n        // if a barcode came from context (scanner), apply once\r\n        if (contextBarcode && contextBarcode !== barcodeStore) {\r\n            setBarcodeStore(contextBarcode);\r\n            setValue(\"barcode\", contextBarcode as any);\r\n            if (typeof setContextBarcode === \"function\") setContextBarcode(\"\");\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [open]);\r\n\r\n    /* -------------------------\r\n       Map server errors to form/global\r\n       ------------------------- */\r\n\r\n    useEffect(() => {\r\n        setGlobalError(null);\r\n        if (!error) return;\r\n        if (error.field) {\r\n            setError(error.field as any, { message: error.message, type: \"server\" });\r\n        } else {\r\n            setGlobalError(error.message);\r\n        }\r\n    }, [error, setError]);\r\n\r\n    /* -------------------------\r\n       Handlers - keep store in sync for other contexts\r\n       ------------------------- */\r\n\r\n    const onFieldChangeStore = useCallback((field: string, value: string) => {\r\n        switch (field) {\r\n            case \"name\": return setNameStore(value);\r\n            case \"barcode\": return setBarcodeStore(value);\r\n            case \"price\": return setPriceStore(value);\r\n            case \"quantity\": return setQuantityStore(value);\r\n            default: return;\r\n        }\r\n    }, [setNameStore, setBarcodeStore, setPriceStore, setQuantityStore]);\r\n\r\n    const onSelectCategory = useCallback((cat: any) => {\r\n        const idVal = getCategoryId(cat);\r\n        setCategoryIdStore(idVal ?? \"\");\r\n        setCategoryNameStore(\"\");\r\n        setCategorySearch(\"\");\r\n        setValue(\"category_id\", idVal as any, { shouldValidate: true });\r\n    }, [setCategoryIdStore, setCategoryNameStore, setValue]);\r\n\r\n    /* -------------------------\r\n       Submit\r\n       ------------------------- */\r\n\r\n    const onSubmit = async (values: ProductFormValues) => {\r\n        setGlobalError(null);\r\n\r\n        // persist parsed values to store\r\n        setNameStore(values.name);\r\n        setBarcodeStore(values.barcode ?? \"\");\r\n        setCategoryIdStore(String(values.category_id ?? \"\"));\r\n        setPriceStore(String(values.price ?? \"\"));\r\n        setQuantityStore(String(values.quantity ?? \"\"));\r\n\r\n        const result = await addProduct(values as any);\r\n        if (result) {\r\n            setShowSuccessDialog(true);\r\n            resetForm();\r\n            resetFormStore();\r\n            try { await refetch(); } catch { /* ignore */ }\r\n            setOpen(false);\r\n        }\r\n    };\r\n\r\n    /* -------------------------\r\n       Render\r\n       ------------------------- */\r\n\r\n    return (\r\n        <>\r\n            <Dialog open={open} onOpenChange={setOpen}>\r\n                <DialogContent>\r\n                    <DialogHeader>\r\n                        <DialogTitle>Product</DialogTitle>\r\n                        <DialogDescription>Fill in the details below to add a new product.</DialogDescription>\r\n                    </DialogHeader>\r\n\r\n                    <div className=\"flex-col gap-4\">\r\n                        {globalError && <p className=\"text-sm text-red-500 mb-2\">{globalError}</p>}\r\n\r\n                        <div className=\"flex flex-col gap-2\">\r\n                            <Label htmlFor=\"name-1\">Product Name</Label>\r\n                            <Input\r\n                                id=\"name-1\"\r\n                                {...register(\"name\")}\r\n                                onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n                                    register(\"name\").onChange?.(e as any);\r\n                                    onFieldChangeStore(\"name\", e.target.value);\r\n                                }}\r\n                            />\r\n                            {errors.name && <p className=\"text-sm text-red-500 mt-1\">{errors.name.message}</p>}\r\n                        </div>\r\n\r\n                        <div className=\"flex flex-row gap-2 mt-4\">\r\n                            <div className=\"flex-1 flex flex-col gap-2\">\r\n                                <Label htmlFor=\"barcode-1\">Barcode</Label>\r\n                                <Input\r\n                                    id=\"barcode-1\"\r\n                                    {...register(\"barcode\")}\r\n                                    onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n                                        setValue(\"barcode\", e.target.value as any);\r\n                                        onFieldChangeStore(\"barcode\", e.target.value);\r\n                                    }}\r\n                                />\r\n                                {errors.barcode && <p className=\"text-sm text-red-500 mt-1\">{errors.barcode.message}</p>}\r\n                            </div>\r\n\r\n                            <div className=\"flex-1 flex flex-col gap-2\">\r\n                                <Label htmlFor=\"category-1\">Category</Label>\r\n                                <div className=\"flex gap-2\">\r\n                                    <DropdownMenu>\r\n                                        <DropdownMenuTrigger asChild>\r\n                                            <Input\r\n                                                id=\"category-1\"\r\n                                                readOnly\r\n                                                value={selectedCategoryName}\r\n                                                placeholder=\"Select category\"\r\n                                                className=\"cursor-pointer\"\r\n                                            />\r\n                                        </DropdownMenuTrigger>\r\n                                        <DropdownMenuContent className=\"w-64 p-0\">\r\n                                            <div className=\"p-2\">\r\n                                                <Input\r\n                                                    placeholder=\"Search category...\"\r\n                                                    value={categorySearch}\r\n                                                    onChange={e => setCategorySearch(e.target.value)}\r\n                                                    className=\"mb-2\"\r\n                                                />\r\n                                            </div>\r\n\r\n                                            {categoriesLoading && <div className=\"p-2 text-gray-400\">Loading...</div>}\r\n                                            {categoriesError && <div className=\"p-2 text-red-500\">{categoriesError}</div>}\r\n\r\n                                            {!categoriesLoading && !categoriesError && (\r\n                                                <ScrollArea className=\"h-40\">\r\n                                                    <div className=\"p-2\">\r\n                                                        {filteredCategories.map((cat) => {\r\n                                                            const idString = String(getCategoryId(cat));\r\n                                                            return (\r\n                                                                <DropdownMenuItem key={idString} onClick={() => onSelectCategory(cat)}>\r\n                                                                    {cat.name}\r\n                                                                </DropdownMenuItem>\r\n                                                            );\r\n                                                        })}\r\n\r\n                                                        {filteredCategories.length === 0 && <div className=\"p-2 text-gray-400\">No categories found.</div>}\r\n                                                    </div>\r\n                                                </ScrollArea>\r\n                                            )}\r\n                                        </DropdownMenuContent>\r\n                                    </DropdownMenu>\r\n\r\n                                    <Button\r\n                                        variant=\"outline\"\r\n                                        size=\"icon\"\r\n                                        onClick={() => (typeof openModal === \"function\" ? openModal(\"addCategory\") : null)}\r\n                                        aria-label=\"Add Category\"\r\n                                    >\r\n                                        <Plus className=\"w-4 h-4\" />\r\n                                    </Button>\r\n                                </div>\r\n                                {errors.category_id && <p className=\"text-sm text-red-500 mt-1\">{errors.category_id.message}</p>}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"flex flex-row gap-2 my-4\">\r\n                            <div className=\"flex-1 flex flex-col gap-2\">\r\n                                <Label htmlFor=\"price-1\">Price</Label>\r\n                                <div className=\"relative\">\r\n                                    <span className=\"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500 pointer-events-none\">₱</span>\r\n                                    <Input\r\n                                        id=\"price-1\"\r\n                                        type=\"number\"\r\n                                        {...register(\"price\")}\r\n                                        onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n                                            const v = e.target.value;\r\n                                            setValue(\"price\", v === \"\" ? undefined : Number(v) as any, { shouldValidate: true });\r\n                                            onFieldChangeStore(\"price\", v);\r\n                                        }}\r\n                                        className=\"pl-8\"\r\n                                    />\r\n                                </div>\r\n                                {errors.price && <p className=\"text-sm text-red-500 mt-1\">{errors.price.message}</p>}\r\n                            </div>\r\n\r\n                            <div className=\"flex-1 flex flex-col gap-2\">\r\n                                <Label htmlFor=\"quantity-1\">Quantity</Label>\r\n                                <Input\r\n                                    id=\"quantity-1\"\r\n                                    type=\"number\"\r\n                                    {...register(\"quantity\")}\r\n                                    onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n                                        const v = e.target.value;\r\n                                        setValue(\"quantity\", v === \"\" ? undefined : Number(v) as any, { shouldValidate: true });\r\n                                        onFieldChangeStore(\"quantity\", v);\r\n                                    }}\r\n                                />\r\n                                {errors.quantity && <p className=\"text-sm text-red-500 mt-1\">{errors.quantity.message}</p>}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <DialogFooter>\r\n                        <DialogClose asChild>\r\n                            <Button variant=\"outline\">Cancel</Button>\r\n                        </DialogClose>\r\n\r\n                        <Button onClick={handleSubmit(onSubmit)} disabled={loading}>\r\n                            {loading ? \"Adding...\" : \"Add Product\"}\r\n                        </Button>\r\n                    </DialogFooter>\r\n                </DialogContent>\r\n            </Dialog>\r\n\r\n            <AddCategoryModal />\r\n\r\n            <AlertDialog open={showSuccessDialog} onOpenChange={setShowSuccessDialog}>\r\n                <AlertDialogContent>\r\n                    <AlertDialogHeader>\r\n                        <AlertDialogTitle>Product Added</AlertDialogTitle>\r\n                        <AlertDialogDescription>Congratulations! Your product has been added successfully.</AlertDialogDescription>\r\n                    </AlertDialogHeader>\r\n                    <AlertDialogFooter>\r\n                        <AlertDialogAction onClick={() => setShowSuccessDialog(false)}>OK</AlertDialogAction>\r\n                    </AlertDialogFooter>\r\n                </AlertDialogContent>\r\n            </AlertDialog>\r\n        </>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3543, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/app/dashboard/_pages/POS/components/leftColumn/index.tsx"],"sourcesContent":["// ...existing code...\r\nimport { Card, CardContent } from \"@/components/ui/card\";\r\nimport { useCart } from \"@/contexts/cart-context\";\r\nimport { useCartSelection } from \"@/hooks/pos/leftCol/useCartSelection\";\r\nimport { useProducts } from \"@/hooks/global/fetching/useProducts\";\r\nimport { useBarcodeScan } from \"@/hooks/pos/leftCol/useBarcodeScan\";\r\nimport { useProductSearch } from \"@/hooks/pos/leftCol/useProductsSearch\";\r\nimport { useCartKeyboard } from \"@/contexts/cart-context\";\r\nimport { useEffect, useState } from \"react\";\r\nimport CartTable from \"./CartTable\";\r\nimport ProductSearch from \"./ProductSearch\";\r\nimport BarcodeScannerInput from \"./BarcodeScannerInput\";\r\nimport { useProductModal } from \"@/contexts/productRegister-context\";\r\nimport {\r\n  AlertDialog,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n  AlertDialogContent,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n  AlertDialogHeader,\r\n  AlertDialogTitle,\r\n} from '@/components/ui/alert-dialog'\r\nimport ProductRegisterModal from \"@/components/global/ProductRegisterModal\";\r\n\r\ninterface POSLeftColProps {\r\n  step: 1 | 2 | 3;\r\n}\r\n\r\nexport default function POSLeftCol({ step }: POSLeftColProps) {\r\n  const { selectedRowId, selectRow } = useCartSelection<string>();\r\n  const { products } = useProducts();\r\n  const {\r\n    cart,\r\n    updateCartItemQuantity,\r\n    scanAndAddToCart,\r\n    setScannerRef,\r\n    refocusScanner,\r\n    updateCartItemPrice, // <- added\r\n    deleteCartItem, // <- added\r\n  } = useCart();\r\n  const { barcodeInput, inputRef, handleBarcodeChange, handleKeyPress } =\r\n    useBarcodeScan(handleScanAndAddToCart);\r\n  const { setOpen, setBarcode } = useProductModal();\r\n  useCartKeyboard(selectedRowId);\r\n\r\n  const {\r\n    searchQuery,\r\n    searchResults,\r\n    showSearchResults,\r\n    handleSearchChange,\r\n    clearSearch,\r\n  } = useProductSearch(products);\r\n\r\n  const [showRegisterDialog, setShowRegisterDialog] = useState(false);\r\n  const [unregisteredBarcode, setUnregisteredBarcode] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    setScannerRef(inputRef as React.RefObject<HTMLInputElement>);\r\n  }, [setScannerRef, inputRef]);\r\n\r\n  useEffect(() => {\r\n    if (step === 2 || step === 3) {\r\n      if (inputRef?.current) inputRef.current.blur();\r\n    }\r\n  }, [step]);\r\n\r\n  const handleSearchSelect = (product: any) => {\r\n    scanAndAddToCart(product.barcode || \"\");\r\n    clearSearch();\r\n    refocusScanner();\r\n  };\r\n\r\n  // Modified scanAndAddToCart to handle unregistered products\r\n  function handleScanAndAddToCart(barcode: string) {\r\n    const foundProduct = products.find(p => p.barcode === barcode);\r\n    if (foundProduct) {\r\n      scanAndAddToCart(barcode);\r\n      refocusScanner(); // Refocus after successful scan\r\n    } else {\r\n      setUnregisteredBarcode(barcode);\r\n      setShowRegisterDialog(true);\r\n    }\r\n  }\r\n\r\n  function handleRegisterProduct(barcode: string) {\r\n    setShowRegisterDialog(false);\r\n    setBarcode(barcode); // <-- set barcode in context\r\n    setOpen(true);       // <-- open modal\r\n  }\r\n\r\n  // Pass refocusScanner to ProductRegisterModal so it can reset after adding\r\n  return (\r\n    <div className=\"relative w-full h-full\">\r\n      <Card\r\n        className=\"w-full h-full flex flex-col\"\r\n        onClick={() => refocusScanner()}\r\n      >\r\n        <CardContent className=\"p-6 flex-1 flex flex-col min-h-0\">\r\n          <BarcodeScannerInput\r\n            inputRef={inputRef}\r\n            barcodeInput={barcodeInput}\r\n            handleBarcodeChange={handleBarcodeChange}\r\n            handleKeyPress={handleKeyPress}\r\n            disabled={step === 2 || step === 3}\r\n          />\r\n          <ProductSearch\r\n            searchQuery={searchQuery}\r\n            searchResults={searchResults}\r\n            showSearchResults={showSearchResults}\r\n            handleSearchChange={handleSearchChange}\r\n            handleSearchSelect={handleSearchSelect}\r\n            clearSearch={clearSearch}\r\n            refocusScanner={refocusScanner}\r\n            disabled={step === 2 || step === 3}\r\n          />\r\n          <div className=\"rounded-md border flex-1 flex flex-col min-h-0 overflow-auto relative\">\r\n            <CartTable\r\n              cart={cart}\r\n              selectedRowId={selectedRowId}\r\n              selectRow={selectRow}\r\n              updateCartItemQuantity={updateCartItemQuantity}\r\n              updateCartItemPrice={updateCartItemPrice} // <- passed\r\n              deleteCartItem={deleteCartItem} // <- passed\r\n              disabled={step === 2 || step === 3}\r\n            />\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n      <ProductRegisterModal />\r\n      <AlertDialog open={showRegisterDialog} onOpenChange={setShowRegisterDialog}>\r\n        <AlertDialogContent>\r\n          <AlertDialogHeader>\r\n            <AlertDialogTitle>Product Not Registered</AlertDialogTitle>\r\n            <AlertDialogDescription>\r\n              The scanned product (<span className=\"font-bold\">{unregisteredBarcode}</span>) is not registered. Would you like to register it?\r\n            </AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n          <AlertDialogFooter>\r\n            <AlertDialogCancel onClick={() => setShowRegisterDialog(false)}>Cancel</AlertDialogCancel>\r\n            <AlertDialogAction onClick={() => unregisteredBarcode && handleRegisterProduct(unregisteredBarcode)}>\r\n              Register Product\r\n            </AlertDialogAction>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n    </div>\r\n  );\r\n}\r\n// ...existing code..."],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3778, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/app/dashboard/_pages/POS/pos-screen.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { CartProvider } from \"@/contexts/cart-context\";\r\n\r\nimport POSright from \"./components/rightColumn/index\";\r\nimport POSleft from \"./components/leftColumn/index\";\r\n\r\nexport default function MainDashboard() {\r\n  const [step, setStep] = useState<1 | 2 | 3>(1);\r\n\r\n  // ensure scanner input in POS immediately receives focus when this page mounts\r\n  useEffect(() => {\r\n    if (typeof window === \"undefined\") return;\r\n\r\n    const focusScanner = () => {\r\n      try {\r\n        window.dispatchEvent(new Event(\"focusBarcodeScanner\"));\r\n      } catch { }\r\n    };\r\n\r\n    // immediate + a short delayed dispatch to cover timing differences\r\n    focusScanner();\r\n    const t = setTimeout(focusScanner, 120);\r\n\r\n    // also focus when the browser window regains focus (user alt-tabs back)\r\n    window.addEventListener(\"focus\", focusScanner);\r\n\r\n    return () => {\r\n      clearTimeout(t);\r\n      window.removeEventListener(\"focus\", focusScanner);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <CartProvider>\r\n      <div className=\"flex flex-col w-full h-full py-4 px-4\">\r\n        <div className=\"flex gap-2 h-full\">\r\n          <div className=\"flex-[70%]\">\r\n            <POSleft step={step} />\r\n          </div>\r\n          <div className=\"flex flex-col flex-[30%] gap-2\">\r\n            <POSright step={step} setStep={setStep} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </CartProvider>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AAEA;AACA;;;;;;;;;;AAEe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAY;IAE5C,+EAA+E;IAC/E,IAAA,kNAAS,EAAC;QACR,wCAAmC;;;QAEnC,MAAM;QAQN,MAAM;IASR,GAAG,EAAE;IAEL,qBACE,8OAAC,mJAAY;kBACX,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,yLAAO;4BAAC,MAAM;;;;;;;;;;;kCAEjB,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,0LAAQ;4BAAC,MAAM;4BAAM,SAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM3C","debugId":null}},
    {"offset": {"line": 3863, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/app/dashboard/_pages/Products/components/head.tsx"],"sourcesContent":["import React, { useCallback, memo } from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Plus } from \"lucide-react\";\r\nimport { useProductModal } from \"@/contexts/productRegister-context\";\r\n\r\nfunction HeadComponent() {\r\n  const { openModal } = useProductModal();\r\n\r\n  const openAddCategory = useCallback(() => openModal(\"addCategory\"), [openModal]);\r\n  const openAddProduct = useCallback(() => openModal(\"addProduct\"), [openModal]);\r\n\r\n  const btnClass = \"flex items-center justify-center gap-2 p-3\";\r\n\r\n  return (\r\n    <div className=\"flex justify-between items-center\">\r\n      <h1 className=\"text-4xl font-bold\">Products</h1>\r\n\r\n      <div className=\"flex gap-3\">\r\n        <Button className={btnClass} onClick={openAddCategory} aria-label=\"Add category\">\r\n          <Plus size={16} />\r\n          Add Category\r\n        </Button>\r\n\r\n        <Button className={btnClass} onClick={openAddProduct} aria-label=\"Add product\">\r\n          <Plus size={16} />\r\n          Add Product\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(HeadComponent);\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;AAEA,SAAS;IACP,MAAM,EAAE,SAAS,EAAE,GAAG,IAAA,iKAAe;IAErC,MAAM,kBAAkB,IAAA,oNAAW,EAAC,IAAM,UAAU,gBAAgB;QAAC;KAAU;IAC/E,MAAM,iBAAiB,IAAA,oNAAW,EAAC,IAAM,UAAU,eAAe;QAAC;KAAU;IAE7E,MAAM,WAAW;IAEjB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAqB;;;;;;0BAEnC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,4IAAM;wBAAC,WAAW;wBAAU,SAAS;wBAAiB,cAAW;;0CAChE,8OAAC,0MAAI;gCAAC,MAAM;;;;;;4BAAM;;;;;;;kCAIpB,8OAAC,4IAAM;wBAAC,WAAW;wBAAU,SAAS;wBAAgB,cAAW;;0CAC/D,8OAAC,0MAAI;gCAAC,MAAM;;;;;;4BAAM;;;;;;;;;;;;;;;;;;;AAM5B;qDAEe,IAAA,6MAAI,EAAC","debugId":null}},
    {"offset": {"line": 3956, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/app/dashboard/_pages/Products/components/ProductStats.tsx"],"sourcesContent":["import { Card, CardContent } from \"@/components/ui/card\";\r\nimport useSWR from \"swr\";\r\nimport { productApi } from \"@/hooks/products/useProductApi\";\r\nimport type { Product } from \"@/hooks/products/useProductApi\";\r\nimport { useMemo } from \"react\";\r\n\r\nconst fetcher = () => productApi.getAll();\r\n\r\nexport default function ProductStats() {\r\n  const { data: products = [], isLoading } = useSWR(\"/api/products\", fetcher, {\r\n    revalidateOnFocus: false,\r\n    dedupingInterval: 60_000,\r\n  });\r\n\r\n  const { totalProducts, lowStockItems, outOfStockItems, totalValueFormatted } = useMemo(() => {\r\n    let totalProducts = 0;\r\n    let lowStockItems = 0;\r\n    let outOfStockItems = 0;\r\n    let totalValue = 0;\r\n\r\n    for (const p of products as Product[]) {\r\n      if (!p || typeof p.quantity !== \"number\" || typeof p.price !== \"number\") continue;\r\n      totalProducts++;\r\n      if (p.quantity === 0) outOfStockItems++;\r\n      else if (p.quantity < 5) lowStockItems++;\r\n      totalValue += p.price * p.quantity;\r\n    }\r\n\r\n    const totalValueFormatted = `₱ ${totalValue.toLocaleString(undefined, {\r\n      minimumFractionDigits: 2,\r\n      maximumFractionDigits: 2,\r\n    })}`;\r\n\r\n    return { totalProducts, lowStockItems, outOfStockItems, totalValueFormatted };\r\n  }, [products]);\r\n\r\n  const statsData = [\r\n    { title: \"Total Products\", content: isLoading ? \"...\" : totalProducts },\r\n    { title: \"Low Stock Items\", content: isLoading ? \"...\" : lowStockItems },\r\n    { title: \"Out of Stock\", content: isLoading ? \"...\" : outOfStockItems },\r\n    { title: \"Total Value\", content: isLoading ? \"...\" : totalValueFormatted },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-4 gap-4 w-full h-full\">\r\n      {statsData.map((stat, idx) => (\r\n        <Card key={idx}>\r\n          <CardContent className=\"flex flex-col justify-center items-start h-full\">\r\n            <h1 className=\"text-xl font-semibold pb-4\">{stat.title}</h1>\r\n            <p className=\"text-2xl font-bold \">{stat.content}</p>\r\n          </CardContent>\r\n        </Card>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,UAAU,IAAM,uJAAU,CAAC,MAAM;AAExB,SAAS;IACtB,MAAM,EAAE,MAAM,WAAW,EAAE,EAAE,SAAS,EAAE,GAAG,IAAA,yKAAM,EAAC,iBAAiB,SAAS;QAC1E,mBAAmB;QACnB,kBAAkB;IACpB;IAEA,MAAM,EAAE,aAAa,EAAE,aAAa,EAAE,eAAe,EAAE,mBAAmB,EAAE,GAAG,IAAA,gNAAO,EAAC;QACrF,IAAI,gBAAgB;QACpB,IAAI,gBAAgB;QACpB,IAAI,kBAAkB;QACtB,IAAI,aAAa;QAEjB,KAAK,MAAM,KAAK,SAAuB;YACrC,IAAI,CAAC,KAAK,OAAO,EAAE,QAAQ,KAAK,YAAY,OAAO,EAAE,KAAK,KAAK,UAAU;YACzE;YACA,IAAI,EAAE,QAAQ,KAAK,GAAG;iBACjB,IAAI,EAAE,QAAQ,GAAG,GAAG;YACzB,cAAc,EAAE,KAAK,GAAG,EAAE,QAAQ;QACpC;QAEA,MAAM,sBAAsB,CAAC,EAAE,EAAE,WAAW,cAAc,CAAC,WAAW;YACpE,uBAAuB;YACvB,uBAAuB;QACzB,IAAI;QAEJ,OAAO;YAAE;YAAe;YAAe;YAAiB;QAAoB;IAC9E,GAAG;QAAC;KAAS;IAEb,MAAM,YAAY;QAChB;YAAE,OAAO;YAAkB,SAAS,YAAY,QAAQ;QAAc;QACtE;YAAE,OAAO;YAAmB,SAAS,YAAY,QAAQ;QAAc;QACvE;YAAE,OAAO;YAAgB,SAAS,YAAY,QAAQ;QAAgB;QACtE;YAAE,OAAO;YAAe,SAAS,YAAY,QAAQ;QAAoB;KAC1E;IAED,qBACE,8OAAC;QAAI,WAAU;kBACZ,UAAU,GAAG,CAAC,CAAC,MAAM,oBACpB,8OAAC,wIAAI;0BACH,cAAA,8OAAC,+IAAW;oBAAC,WAAU;;sCACrB,8OAAC;4BAAG,WAAU;sCAA8B,KAAK,KAAK;;;;;;sCACtD,8OAAC;4BAAE,WAAU;sCAAuB,KAAK,OAAO;;;;;;;;;;;;eAHzC;;;;;;;;;;AASnB","debugId":null}},
    {"offset": {"line": 4062, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/components/ui/select.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\r\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Select({\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\r\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\r\n}\r\n\r\nfunction SelectGroup({\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\r\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\r\n}\r\n\r\nfunction SelectValue({\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\r\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\r\n}\r\n\r\nfunction SelectTrigger({\r\n  className,\r\n  size = \"default\",\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\r\n  size?: \"sm\" | \"default\"\r\n}) {\r\n  return (\r\n    <SelectPrimitive.Trigger\r\n      data-slot=\"select-trigger\"\r\n      data-size={size}\r\n      className={cn(\r\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <SelectPrimitive.Icon asChild>\r\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\r\n      </SelectPrimitive.Icon>\r\n    </SelectPrimitive.Trigger>\r\n  )\r\n}\r\n\r\nfunction SelectContent({\r\n  className,\r\n  children,\r\n  position = \"popper\",\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\r\n  return (\r\n    <SelectPrimitive.Portal>\r\n      <SelectPrimitive.Content\r\n        data-slot=\"select-content\"\r\n        className={cn(\r\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md\",\r\n          position === \"popper\" &&\r\n            \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\r\n          className\r\n        )}\r\n        position={position}\r\n        {...props}\r\n      >\r\n        <SelectScrollUpButton />\r\n        <SelectPrimitive.Viewport\r\n          className={cn(\r\n            \"p-1\",\r\n            position === \"popper\" &&\r\n              \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1\"\r\n          )}\r\n        >\r\n          {children}\r\n        </SelectPrimitive.Viewport>\r\n        <SelectScrollDownButton />\r\n      </SelectPrimitive.Content>\r\n    </SelectPrimitive.Portal>\r\n  )\r\n}\r\n\r\nfunction SelectLabel({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\r\n  return (\r\n    <SelectPrimitive.Label\r\n      data-slot=\"select-label\"\r\n      className={cn(\"text-muted-foreground px-2 py-1.5 text-xs\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SelectItem({\r\n  className,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\r\n  return (\r\n    <SelectPrimitive.Item\r\n      data-slot=\"select-item\"\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\r\n        <SelectPrimitive.ItemIndicator>\r\n          <CheckIcon className=\"size-4\" />\r\n        </SelectPrimitive.ItemIndicator>\r\n      </span>\r\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\r\n    </SelectPrimitive.Item>\r\n  )\r\n}\r\n\r\nfunction SelectSeparator({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\r\n  return (\r\n    <SelectPrimitive.Separator\r\n      data-slot=\"select-separator\"\r\n      className={cn(\"bg-border pointer-events-none -mx-1 my-1 h-px\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SelectScrollUpButton({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\r\n  return (\r\n    <SelectPrimitive.ScrollUpButton\r\n      data-slot=\"select-scroll-up-button\"\r\n      className={cn(\r\n        \"flex cursor-default items-center justify-center py-1\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      <ChevronUpIcon className=\"size-4\" />\r\n    </SelectPrimitive.ScrollUpButton>\r\n  )\r\n}\r\n\r\nfunction SelectScrollDownButton({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\r\n  return (\r\n    <SelectPrimitive.ScrollDownButton\r\n      data-slot=\"select-scroll-down-button\"\r\n      className={cn(\r\n        \"flex cursor-default items-center justify-center py-1\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      <ChevronDownIcon className=\"size-4\" />\r\n    </SelectPrimitive.ScrollDownButton>\r\n  )\r\n}\r\n\r\nexport {\r\n  Select,\r\n  SelectContent,\r\n  SelectGroup,\r\n  SelectItem,\r\n  SelectLabel,\r\n  SelectScrollDownButton,\r\n  SelectScrollUpButton,\r\n  SelectSeparator,\r\n  SelectTrigger,\r\n  SelectValue,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAAA;AAAA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,8OAAC,0KAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,8OAAC,2KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,8OAAC,2KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,OAAO,SAAS,EAChB,QAAQ,EACR,GAAG,OAGJ;IACC,qBACE,8OAAC,6KAAuB;QACtB,aAAU;QACV,aAAW;QACX,WAAW,IAAA,yHAAE,EACX,gzBACA;QAED,GAAG,KAAK;;YAER;0BACD,8OAAC,0KAAoB;gBAAC,OAAO;0BAC3B,cAAA,8OAAC,2OAAe;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAInC;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,WAAW,QAAQ,EACnB,GAAG,OACkD;IACrD,qBACE,8OAAC,4KAAsB;kBACrB,cAAA,8OAAC,6KAAuB;YACtB,aAAU;YACV,WAAW,IAAA,yHAAE,EACX,ijBACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,8OAAC;;;;;8BACD,8OAAC,8KAAwB;oBACvB,WAAW,IAAA,yHAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,8OAAC;;;;;;;;;;;;;;;;AAIT;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,8OAAC,2KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OAC+C;IAClD,qBACE,8OAAC,0KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,yHAAE,EACX,6aACA;QAED,GAAG,KAAK;;0BAET,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC,mLAA6B;8BAC5B,cAAA,8OAAC,qNAAS;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGzB,8OAAC,8KAAwB;0BAAE;;;;;;;;;;;;AAGjC;AAEA,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OACoD;IACvD,qBACE,8OAAC,+KAAyB;QACxB,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,iDAAiD;QAC9D,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,qBAAqB,EAC5B,SAAS,EACT,GAAG,OACyD;IAC5D,qBACE,8OAAC,oLAA8B;QAC7B,aAAU;QACV,WAAW,IAAA,yHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,qOAAa;YAAC,WAAU;;;;;;;;;;;AAG/B;AAEA,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,8OAAC,sLAAgC;QAC/B,aAAU;QACV,WAAW,IAAA,yHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,2OAAe;YAAC,WAAU;;;;;;;;;;;AAGjC","debugId":null}},
    {"offset": {"line": 4295, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/app/dashboard/_pages/Products/components/productCatalog/ProductCatalogToolbar.tsx"],"sourcesContent":["import { Input } from \"@/components/ui/input\";\r\nimport { Search } from \"lucide-react\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Funnel } from \"lucide-react\";\r\nimport { useCategories } from \"@/hooks/global/fetching/useCategories\";\r\nimport { useState, useMemo, useCallback } from \"react\";\r\n\r\ninterface ProductCatalogToolbarProps {\r\n  selectedCategory: string;\r\n  setSelectedCategory: (category: string) => void;\r\n  selectedProducts: string;\r\n  setSelectedProducts: (products: string) => void;\r\n  search: string;\r\n  setSearch: (s: string) => void;\r\n}\r\n\r\nexport default function ProductCatalogToolbar({\r\n  selectedCategory,\r\n  setSelectedCategory,\r\n  selectedProducts,\r\n  setSelectedProducts,\r\n  search,\r\n  setSearch,\r\n}: ProductCatalogToolbarProps) {\r\n  const { categories, loading: categoriesLoading, error: categoriesError } = useCategories();\r\n  const [categorySearch, setCategorySearch] = useState(\"\");\r\n\r\n  const handleReset = useCallback(() => {\r\n    setSelectedCategory(\"all\");\r\n    setSelectedProducts(\"all\");\r\n    setCategorySearch(\"\");\r\n    setSearch(\"\");\r\n  }, [setSelectedCategory, setSelectedProducts, setSearch]);\r\n\r\n  const onSearchChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setSearch(e.target.value);\r\n  }, [setSearch]);\r\n\r\n  const onCategorySearchChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setCategorySearch(e.target.value);\r\n  }, []);\r\n\r\n  const filteredCategories = useMemo(() => {\r\n    const list = categories ?? [];\r\n    const q = categorySearch.trim().toLowerCase();\r\n    return q ? list.filter((c) => c.name.toLowerCase().includes(q)) : list;\r\n  }, [categories, categorySearch]);\r\n\r\n  const onCategoryChange = useCallback(\r\n    (val: string) => {\r\n      setSelectedCategory(val);\r\n    },\r\n    [setSelectedCategory]\r\n  );\r\n\r\n  const onProductsChange = useCallback(\r\n    (val: string) => {\r\n      setSelectedProducts(val);\r\n    },\r\n    [setSelectedProducts]\r\n  );\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-between gap-4\">\r\n      <div className=\"relative flex items-center flex-1 max-w-[700px]\">\r\n        <Search className=\"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400\" size={20} />\r\n        <Input\r\n          className=\"pl-9 w-full\"\r\n          placeholder=\"Search by product name or barcode...\"\r\n          value={search}\r\n          onChange={onSearchChange}\r\n          onClick={(e) => e.stopPropagation()}\r\n        />\r\n      </div>\r\n\r\n      <DropdownMenu>\r\n        <DropdownMenuTrigger asChild>\r\n          <Button variant=\"outline\" className=\"flex items-center gap-2\">\r\n            <Funnel />\r\n            Filter\r\n          </Button>\r\n        </DropdownMenuTrigger>\r\n\r\n        <DropdownMenuContent className=\"w-[320px]\">\r\n          <div className=\"p-3\">\r\n            <h3 className=\"text-sm font-medium\">Filter</h3>\r\n          </div>\r\n          <DropdownMenuSeparator />\r\n\r\n          <div className=\"p-3\">\r\n            <h4 className=\"text-sm font-medium\">Category</h4>\r\n            <Select value={selectedCategory} onValueChange={onCategoryChange}>\r\n              <SelectTrigger className=\"w-full mt-2\">\r\n                <SelectValue placeholder=\"Category\" />\r\n              </SelectTrigger>\r\n\r\n              <SelectContent>\r\n                <div className=\"p-2\">\r\n                  <Input\r\n                    placeholder=\"Search category...\"\r\n                    value={categorySearch}\r\n                    onChange={onCategorySearchChange}\r\n                    className=\"mb-2\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"max-h-40 overflow-auto\">\r\n                  <SelectItem value=\"all\">All Categories</SelectItem>\r\n\r\n                  {categoriesLoading && <SelectItem value=\"loading\" disabled>Loading categories...</SelectItem>}\r\n                  {categoriesError && <SelectItem value=\"error\" disabled>{String(categoriesError)}</SelectItem>}\r\n\r\n                  {!categoriesLoading && !categoriesError && filteredCategories.length === 0 && (\r\n                    <SelectItem value=\"none\" disabled>No categories found</SelectItem>\r\n                  )}\r\n\r\n                  {!categoriesLoading && !categoriesError &&\r\n                    filteredCategories.map((cat) => (\r\n                      <SelectItem key={cat.id} value={String(cat.id)}>\r\n                        {cat.name}\r\n                      </SelectItem>\r\n                    ))}\r\n                </div>\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n\r\n          <DropdownMenuSeparator />\r\n\r\n          <div className=\"p-3\">\r\n            <h4 className=\"text-sm font-medium\">Status</h4>\r\n            <Select value={selectedProducts} onValueChange={onProductsChange}>\r\n              <SelectTrigger className=\"w-full mt-2\">\r\n                <SelectValue placeholder=\"Status\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"all\">All Stock</SelectItem>\r\n                <SelectItem value=\"in stock\">In Stock</SelectItem>\r\n                <SelectItem value=\"low stock\">Low Stock</SelectItem>\r\n                <SelectItem value=\"out of stock\">Out of Stock</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n\r\n          <DropdownMenuSeparator />\r\n\r\n          <div className=\"flex justify-end p-3\">\r\n            <Button variant=\"ghost\" className=\"font-normal\" onClick={handleReset}>\r\n              Reset All\r\n            </Button>\r\n          </div>\r\n        </DropdownMenuContent>\r\n      </DropdownMenu>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4684, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/app/dashboard/_pages/Products/table/dataTable.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport {\r\n  ColumnDef,\r\n  flexRender,\r\n  getCoreRowModel,\r\n  getSortedRowModel,\r\n  useReactTable,\r\n  SortingState,\r\n} from \"@tanstack/react-table\"\r\nimport { useState, useEffect, useRef, useMemo } from \"react\"\r\n\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from \"@/components/ui/table\"\r\n\r\ninterface DataTableProps<TData, TValue> {\r\n  columns: ColumnDef<TData, TValue>[]\r\n  data: TData[]\r\n  page: number\r\n  pageSize: number\r\n  onFilteredCountChange?: (count: number) => void\r\n}\r\n\r\nexport function DataTable<TData, TValue>({\r\n  columns,\r\n  data,\r\n  page,\r\n  pageSize,\r\n  onFilteredCountChange,\r\n}: DataTableProps<TData, TValue>) {\r\n  const [sorting, setSorting] = useState<SortingState>([])\r\n\r\n  // create the table instance (react-table hook internally memoizes heavy parts)\r\n  const table = useReactTable({\r\n    data,\r\n    columns,\r\n    state: { sorting, pagination: { pageIndex: page } as any },\r\n    onSortingChange: setSorting,\r\n    // keep pagination control outside of react-table to avoid internal pageIndex churn\r\n    onPaginationChange: (() => {}) as any,\r\n    getCoreRowModel: getCoreRowModel(),\r\n    getSortedRowModel: getSortedRowModel(),\r\n  })\r\n\r\n  // derived rows and paginated rows (memoized to avoid extra work on unrelated renders)\r\n  const rows = table.getRowModel().rows\r\n  const paginatedRows = useMemo(\r\n    () => rows.slice(page * pageSize, (page + 1) * pageSize),\r\n    [rows, page, pageSize]\r\n  )\r\n\r\n  // notify parent of filtered/sorted count with a deferred callback to avoid sync updates\r\n  const prevCountRef = useRef<number | null>(null)\r\n  const notifyTimerRef = useRef<ReturnType<typeof setTimeout> | null>(null)\r\n  const rowCount = rows.length\r\n\r\n  useEffect(() => {\r\n    if (!onFilteredCountChange) return\r\n\r\n    if (prevCountRef.current !== rowCount) {\r\n      prevCountRef.current = rowCount\r\n\r\n      if (notifyTimerRef.current) {\r\n        clearTimeout(notifyTimerRef.current)\r\n        notifyTimerRef.current = null\r\n      }\r\n\r\n      // defer notification so parent state updates don't run synchronously here\r\n      notifyTimerRef.current = setTimeout(() => {\r\n        onFilteredCountChange(rowCount)\r\n        notifyTimerRef.current = null\r\n      }, 0)\r\n    }\r\n\r\n    return () => {\r\n      if (notifyTimerRef.current) {\r\n        clearTimeout(notifyTimerRef.current)\r\n        notifyTimerRef.current = null\r\n      }\r\n    }\r\n  }, [rowCount, onFilteredCountChange])\r\n\r\n  return (\r\n    <div className=\"rounded-md border\">\r\n      <Table>\r\n        <TableHeader>\r\n          {table.getHeaderGroups().map((headerGroup) => (\r\n            <TableRow key={headerGroup.id}>\r\n              {headerGroup.headers.map((header) => (\r\n                <TableHead key={header.id}>\r\n                  {header.isPlaceholder ? null : flexRender(header.column.columnDef.header, header.getContext())}\r\n                </TableHead>\r\n              ))}\r\n            </TableRow>\r\n          ))}\r\n        </TableHeader>\r\n\r\n        <TableBody>\r\n          {paginatedRows.length > 0 ? (\r\n            paginatedRows.map((row) => (\r\n              <TableRow key={row.id} data-state={row.getIsSelected() ? \"selected\" : undefined}>\r\n                {row.getVisibleCells().map((cell) => (\r\n                  <TableCell key={cell.id}>\r\n                    {flexRender(cell.column.columnDef.cell, cell.getContext())}\r\n                  </TableCell>\r\n                ))}\r\n              </TableRow>\r\n            ))\r\n          ) : (\r\n            <TableRow>\r\n              <TableCell colSpan={columns.length} className=\"h-24 text-center\">\r\n                No results.\r\n              </TableCell>\r\n            </TableRow>\r\n          )}\r\n        </TableBody>\r\n      </Table>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAQA;AAEA;AAZA;;;;;AA6BO,SAAS,UAAyB,EACvC,OAAO,EACP,IAAI,EACJ,IAAI,EACJ,QAAQ,EACR,qBAAqB,EACS;IAC9B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAe,EAAE;IAEvD,+EAA+E;IAC/E,MAAM,QAAQ,IAAA,uMAAa,EAAC;QAC1B;QACA;QACA,OAAO;YAAE;YAAS,YAAY;gBAAE,WAAW;YAAK;QAAS;QACzD,iBAAiB;QACjB,mFAAmF;QACnF,oBAAqB,KAAO;QAC5B,iBAAiB,IAAA,wLAAe;QAChC,mBAAmB,IAAA,0LAAiB;IACtC;IAEA,sFAAsF;IACtF,MAAM,OAAO,MAAM,WAAW,GAAG,IAAI;IACrC,MAAM,gBAAgB,IAAA,gNAAO,EAC3B,IAAM,KAAK,KAAK,CAAC,OAAO,UAAU,CAAC,OAAO,CAAC,IAAI,WAC/C;QAAC;QAAM;QAAM;KAAS;IAGxB,wFAAwF;IACxF,MAAM,eAAe,IAAA,+MAAM,EAAgB;IAC3C,MAAM,iBAAiB,IAAA,+MAAM,EAAuC;IACpE,MAAM,WAAW,KAAK,MAAM;IAE5B,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,uBAAuB;QAE5B,IAAI,aAAa,OAAO,KAAK,UAAU;YACrC,aAAa,OAAO,GAAG;YAEvB,IAAI,eAAe,OAAO,EAAE;gBAC1B,aAAa,eAAe,OAAO;gBACnC,eAAe,OAAO,GAAG;YAC3B;YAEA,0EAA0E;YAC1E,eAAe,OAAO,GAAG,WAAW;gBAClC,sBAAsB;gBACtB,eAAe,OAAO,GAAG;YAC3B,GAAG;QACL;QAEA,OAAO;YACL,IAAI,eAAe,OAAO,EAAE;gBAC1B,aAAa,eAAe,OAAO;gBACnC,eAAe,OAAO,GAAG;YAC3B;QACF;IACF,GAAG;QAAC;QAAU;KAAsB;IAEpC,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC,0IAAK;;8BACJ,8OAAC,gJAAW;8BACT,MAAM,eAAe,GAAG,GAAG,CAAC,CAAC,4BAC5B,8OAAC,6IAAQ;sCACN,YAAY,OAAO,CAAC,GAAG,CAAC,CAAC,uBACxB,8OAAC,8IAAS;8CACP,OAAO,aAAa,GAAG,OAAO,IAAA,oMAAU,EAAC,OAAO,MAAM,CAAC,SAAS,CAAC,MAAM,EAAE,OAAO,UAAU;mCAD7E,OAAO,EAAE;;;;;2BAFd,YAAY,EAAE;;;;;;;;;;8BAUjC,8OAAC,8IAAS;8BACP,cAAc,MAAM,GAAG,IACtB,cAAc,GAAG,CAAC,CAAC,oBACjB,8OAAC,6IAAQ;4BAAc,cAAY,IAAI,aAAa,KAAK,aAAa;sCACnE,IAAI,eAAe,GAAG,GAAG,CAAC,CAAC,qBAC1B,8OAAC,8IAAS;8CACP,IAAA,oMAAU,EAAC,KAAK,MAAM,CAAC,SAAS,CAAC,IAAI,EAAE,KAAK,UAAU;mCADzC,KAAK,EAAE;;;;;2BAFZ,IAAI,EAAE;;;;kDASvB,8OAAC,6IAAQ;kCACP,cAAA,8OAAC,8IAAS;4BAAC,SAAS,QAAQ,MAAM;4BAAE,WAAU;sCAAmB;;;;;;;;;;;;;;;;;;;;;;;;;;;AAS/E","debugId":null}},
    {"offset": {"line": 4824, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst badgeVariants = cva(\r\n  \"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\r\n        secondary:\r\n          \"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\r\n        destructive:\r\n          \"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\r\n        outline:\r\n          \"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nfunction Badge({\r\n  className,\r\n  variant,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<\"span\"> &\r\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\r\n  const Comp = asChild ? Slot : \"span\"\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"badge\"\r\n      className={cn(badgeVariants({ variant }), className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Badge, badgeVariants }\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 4870, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/app/dashboard/_pages/Products/table/columns.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { ColumnDef } from \"@tanstack/react-table\";\r\nimport { ArrowUpDown } from \"lucide-react\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\n\r\nexport type Products = {\r\n  id: string;\r\n  productName: string;\r\n  barcode: string;\r\n  category: string;\r\n  currentStock: number;\r\n  productPrice: number;\r\n  status: \"out of stock\" | \"low stock\" | \"in stock\";\r\n  original?: any;\r\n};\r\n\r\nconst statusConfig: Record<\r\n  Products[\"status\"],\r\n  { variant: \"default\" | \"outline\" | \"secondary\" | \"destructive\"; className: string }\r\n> = {\r\n  \"in stock\": { variant: \"default\", className: \"bg-green-300 text-black\" },\r\n  \"low stock\": { variant: \"secondary\", className: \"bg-yellow-500 text-black\" },\r\n  \"out of stock\": { variant: \"destructive\", className: \"bg-red-500 text-white\" },\r\n};\r\n\r\nexport const columns: ColumnDef<Products>[] = [\r\n  {\r\n    accessorKey: \"productName\",\r\n    header: ({ column }) => (\r\n      <button\r\n        className=\"flex items-center gap-2 font-medium focus:outline-none\"\r\n        onClick={() => column.toggleSorting(column.getIsSorted() === \"asc\")}\r\n      >\r\n        Product\r\n        <ArrowUpDown className=\"ml-1 h-4 w-4\" />\r\n      </button>\r\n    ),\r\n    cell: ({ row }) => (\r\n      <div\r\n        className=\"flex items-center font-medium max-w-[420px] whitespace-normal break-words leading-tight\"\r\n        title={String(row.getValue(\"productName\"))}\r\n      >\r\n        {row.getValue(\"productName\")}\r\n      </div>\r\n    ),\r\n  },\r\n  {\r\n    accessorKey: \"barcode\",\r\n    header: \"Barcode\",\r\n  },\r\n  {\r\n    accessorKey: \"category\",\r\n    header: \"Category\",\r\n  },\r\n  {\r\n    accessorKey: \"currentStock\",\r\n    header: ({ column }) => (\r\n      <button\r\n        className=\"flex items-center gap-2 font-medium focus:outline-none\"\r\n        onClick={() => column.toggleSorting(column.getIsSorted() === \"asc\")}\r\n      >\r\n        Current Stock\r\n        <ArrowUpDown className=\"ml-1 h-4 w-4\" />\r\n      </button>\r\n    ),\r\n    cell: ({ row }) => <div className=\"flex items-center font-medium\">{row.getValue(\"currentStock\")}</div>,\r\n  },\r\n  {\r\n    accessorKey: \"productPrice\",\r\n    header: \"Price\",\r\n  },\r\n  {\r\n    accessorKey: \"status\",\r\n    header: \"Status\",\r\n    cell: ({ row }) => {\r\n      const status = row.original.status;\r\n      const cfg = statusConfig[status];\r\n      const label = status.charAt(0).toUpperCase() + status.slice(1);\r\n      return (\r\n        <Badge variant={cfg.variant} className={cfg.className}>\r\n          {label}\r\n        </Badge>\r\n      );\r\n    },\r\n  },\r\n  {\r\n    id: \"actions\",\r\n    header: () => <div className=\"text-center font-medium\">Actions</div>,\r\n    // leave actions cell empty here — table parent can provide the real handlers to avoid duplicate button code and reduce bundle\r\n    cell: () => <div className=\"flex gap-5 justify-center\" aria-hidden />,\r\n    enableSorting: false,\r\n    enableHiding: false,\r\n  },\r\n];\r\n//"],"names":[],"mappings":";;;;;AAGA;AACA;AAJA;;;;AAiBA,MAAM,eAGF;IACF,YAAY;QAAE,SAAS;QAAW,WAAW;IAA0B;IACvE,aAAa;QAAE,SAAS;QAAa,WAAW;IAA2B;IAC3E,gBAAgB;QAAE,SAAS;QAAe,WAAW;IAAwB;AAC/E;AAEO,MAAM,UAAiC;IAC5C;QACE,aAAa;QACb,QAAQ,CAAC,EAAE,MAAM,EAAE,iBACjB,8OAAC;gBACC,WAAU;gBACV,SAAS,IAAM,OAAO,aAAa,CAAC,OAAO,WAAW,OAAO;;oBAC9D;kCAEC,8OAAC,uOAAW;wBAAC,WAAU;;;;;;;;;;;;QAG3B,MAAM,CAAC,EAAE,GAAG,EAAE,iBACZ,8OAAC;gBACC,WAAU;gBACV,OAAO,OAAO,IAAI,QAAQ,CAAC;0BAE1B,IAAI,QAAQ,CAAC;;;;;;IAGpB;IACA;QACE,aAAa;QACb,QAAQ;IACV;IACA;QACE,aAAa;QACb,QAAQ;IACV;IACA;QACE,aAAa;QACb,QAAQ,CAAC,EAAE,MAAM,EAAE,iBACjB,8OAAC;gBACC,WAAU;gBACV,SAAS,IAAM,OAAO,aAAa,CAAC,OAAO,WAAW,OAAO;;oBAC9D;kCAEC,8OAAC,uOAAW;wBAAC,WAAU;;;;;;;;;;;;QAG3B,MAAM,CAAC,EAAE,GAAG,EAAE,iBAAK,8OAAC;gBAAI,WAAU;0BAAiC,IAAI,QAAQ,CAAC;;;;;;IAClF;IACA;QACE,aAAa;QACb,QAAQ;IACV;IACA;QACE,aAAa;QACb,QAAQ;QACR,MAAM,CAAC,EAAE,GAAG,EAAE;YACZ,MAAM,SAAS,IAAI,QAAQ,CAAC,MAAM;YAClC,MAAM,MAAM,YAAY,CAAC,OAAO;YAChC,MAAM,QAAQ,OAAO,MAAM,CAAC,GAAG,WAAW,KAAK,OAAO,KAAK,CAAC;YAC5D,qBACE,8OAAC,0IAAK;gBAAC,SAAS,IAAI,OAAO;gBAAE,WAAW,IAAI,SAAS;0BAClD;;;;;;QAGP;IACF;IACA;QACE,IAAI;QACJ,QAAQ,kBAAM,8OAAC;gBAAI,WAAU;0BAA0B;;;;;;QACvD,8HAA8H;QAC9H,MAAM,kBAAM,8OAAC;gBAAI,WAAU;gBAA4B,aAAW;;;;;;QAClE,eAAe;QACf,cAAc;IAChB;CACD,EACD,EAAE","debugId":null}},
    {"offset": {"line": 5012, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/components/ui/pagination.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport {\r\n  ChevronLeftIcon,\r\n  ChevronRightIcon,\r\n  MoreHorizontalIcon,\r\n} from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\nimport { Button, buttonVariants } from \"@/components/ui/button\"\r\n\r\nfunction Pagination({ className, ...props }: React.ComponentProps<\"nav\">) {\r\n  return (\r\n    <nav\r\n      role=\"navigation\"\r\n      aria-label=\"pagination\"\r\n      data-slot=\"pagination\"\r\n      className={cn(\"mx-auto flex w-full justify-center\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction PaginationContent({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<\"ul\">) {\r\n  return (\r\n    <ul\r\n      data-slot=\"pagination-content\"\r\n      className={cn(\"flex flex-row items-center gap-1\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction PaginationItem({ ...props }: React.ComponentProps<\"li\">) {\r\n  return <li data-slot=\"pagination-item\" {...props} />\r\n}\r\n\r\ntype PaginationLinkProps = {\r\n  isActive?: boolean\r\n} & Pick<React.ComponentProps<typeof Button>, \"size\"> &\r\n  React.ComponentProps<\"a\">\r\n\r\nfunction PaginationLink({\r\n  className,\r\n  isActive,\r\n  size = \"icon\",\r\n  ...props\r\n}: PaginationLinkProps) {\r\n  return (\r\n    <a\r\n      aria-current={isActive ? \"page\" : undefined}\r\n      data-slot=\"pagination-link\"\r\n      data-active={isActive}\r\n      className={cn(\r\n        buttonVariants({\r\n          variant: isActive ? \"outline\" : \"ghost\",\r\n          size,\r\n        }),\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction PaginationPrevious({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof PaginationLink>) {\r\n  return (\r\n    <PaginationLink\r\n      aria-label=\"Go to previous page\"\r\n      size=\"default\"\r\n      className={cn(\"gap-1 px-2.5 sm:pl-2.5\", className)}\r\n      {...props}\r\n    >\r\n      <ChevronLeftIcon />\r\n      <span className=\"hidden sm:block\">Previous</span>\r\n    </PaginationLink>\r\n  )\r\n}\r\n\r\nfunction PaginationNext({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof PaginationLink>) {\r\n  return (\r\n    <PaginationLink\r\n      aria-label=\"Go to next page\"\r\n      size=\"default\"\r\n      className={cn(\"gap-1 px-2.5 sm:pr-2.5\", className)}\r\n      {...props}\r\n    >\r\n      <span className=\"hidden sm:block\">Next</span>\r\n      <ChevronRightIcon />\r\n    </PaginationLink>\r\n  )\r\n}\r\n\r\nfunction PaginationEllipsis({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<\"span\">) {\r\n  return (\r\n    <span\r\n      aria-hidden\r\n      data-slot=\"pagination-ellipsis\"\r\n      className={cn(\"flex size-9 items-center justify-center\", className)}\r\n      {...props}\r\n    >\r\n      <MoreHorizontalIcon className=\"size-4\" />\r\n      <span className=\"sr-only\">More pages</span>\r\n    </span>\r\n  )\r\n}\r\n\r\nexport {\r\n  Pagination,\r\n  PaginationContent,\r\n  PaginationLink,\r\n  PaginationItem,\r\n  PaginationPrevious,\r\n  PaginationNext,\r\n  PaginationEllipsis,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AACA;AAAA;AAAA;AAMA;AACA;;;;;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,MAAK;QACL,cAAW;QACX,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACwB;IAC3B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,oCAAoC;QACjD,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,eAAe,EAAE,GAAG,OAAmC;IAC9D,qBAAO,8OAAC;QAAG,aAAU;QAAmB,GAAG,KAAK;;;;;;AAClD;AAOA,SAAS,eAAe,EACtB,SAAS,EACT,QAAQ,EACR,OAAO,MAAM,EACb,GAAG,OACiB;IACpB,qBACE,8OAAC;QACC,gBAAc,WAAW,SAAS;QAClC,aAAU;QACV,eAAa;QACb,WAAW,IAAA,yHAAE,EACX,IAAA,oJAAc,EAAC;YACb,SAAS,WAAW,YAAY;YAChC;QACF,IACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,mBAAmB,EAC1B,SAAS,EACT,GAAG,OACyC;IAC5C,qBACE,8OAAC;QACC,cAAW;QACX,MAAK;QACL,WAAW,IAAA,yHAAE,EAAC,0BAA0B;QACvC,GAAG,KAAK;;0BAET,8OAAC,2OAAe;;;;;0BAChB,8OAAC;gBAAK,WAAU;0BAAkB;;;;;;;;;;;;AAGxC;AAEA,SAAS,eAAe,EACtB,SAAS,EACT,GAAG,OACyC;IAC5C,qBACE,8OAAC;QACC,cAAW;QACX,MAAK;QACL,WAAW,IAAA,yHAAE,EAAC,0BAA0B;QACvC,GAAG,KAAK;;0BAET,8OAAC;gBAAK,WAAU;0BAAkB;;;;;;0BAClC,8OAAC,8OAAgB;;;;;;;;;;;AAGvB;AAEA,SAAS,mBAAmB,EAC1B,SAAS,EACT,GAAG,OAC0B;IAC7B,qBACE,8OAAC;QACC,aAAW;QACX,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;0BAET,8OAAC,0OAAkB;gBAAC,WAAU;;;;;;0BAC9B,8OAAC;gBAAK,WAAU;0BAAU;;;;;;;;;;;;AAGhC","debugId":null}},
    {"offset": {"line": 5176, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/app/dashboard/_pages/Products/components/productCatalog/Pagination.tsx"],"sourcesContent":["import {\r\n    Pagination as PaginationRoot,\r\n    PaginationContent,\r\n    PaginationItem,\r\n    PaginationPrevious,\r\n    PaginationNext,\r\n    PaginationEllipsis,\r\n    PaginationLink\r\n} from \"@/components/ui/pagination\";\r\n\r\ntype PaginationProps = {\r\n    page: number;\r\n    pageCount: number;\r\n    setPage: (page: number) => void;\r\n    pageSize: number;\r\n    onPageSizeChange: (size: number) => void;\r\n};\r\n\r\nexport default function Pagination({ page, pageCount, setPage, pageSize, onPageSizeChange }: PaginationProps) {\r\n    if (pageCount <= 1) {\r\n        // nothing to paginate\r\n        return null;\r\n    }\r\n\r\n    const go = (p: number) => (e?: React.MouseEvent) => {\r\n        e?.preventDefault();\r\n        if (p < 0) p = 0;\r\n        if (p > pageCount - 1) p = pageCount - 1;\r\n        if (p !== page) setPage(p);\r\n    };\r\n\r\n    // build a compact page list: always show first and last, and a window around current page\r\n    const buildPages = () => {\r\n        const pages: (number | \"ellipsis\")[] = [];\r\n        const left = Math.max(1, page - 1);\r\n        const right = Math.min(pageCount - 2, page + 1);\r\n\r\n        pages.push(0); // first page\r\n\r\n        if (left > 1) pages.push(\"ellipsis\");\r\n\r\n        for (let i = left; i <= right; i++) {\r\n            pages.push(i);\r\n        }\r\n\r\n        if (right < pageCount - 2) pages.push(\"ellipsis\");\r\n\r\n        if (pageCount > 1) pages.push(pageCount - 1); // last page\r\n\r\n        return pages;\r\n    };\r\n\r\n    const pages = buildPages();\r\n\r\n    return (\r\n        <PaginationRoot className=\"mt-2 flex items-center gap-4\">\r\n            <PaginationContent>\r\n                <PaginationItem>\r\n                    <PaginationPrevious\r\n                        href=\"#\"\r\n                        onClick={go(Math.max(page - 1, 0))}\r\n                        aria-disabled={page === 0}\r\n                    />\r\n                </PaginationItem>\r\n\r\n                {pages.map((p, idx) =>\r\n                    p === \"ellipsis\" ? (\r\n                        <PaginationItem key={`e-${idx}`}>\r\n                            <PaginationEllipsis />\r\n                        </PaginationItem>\r\n                    ) : (\r\n                        <PaginationItem key={p}>\r\n                            <PaginationLink\r\n                                href=\"#\"\r\n                                isActive={p === page}\r\n                                onClick={go(p)}\r\n                            >\r\n                                {p + 1}\r\n                            </PaginationLink>\r\n                        </PaginationItem>\r\n                    )\r\n                )}\r\n\r\n                <PaginationItem>\r\n                    <PaginationNext\r\n                        href=\"#\"\r\n                        onClick={go(Math.min(page + 1, pageCount - 1))}\r\n                        aria-disabled={page === pageCount - 1}\r\n                    />\r\n                </PaginationItem>\r\n            </PaginationContent>\r\n\r\n            <div className=\"flex items-center gap-2\">\r\n                <label htmlFor=\"page-size\" className=\"text-sm\">Rows per page:</label>\r\n                <input\r\n                    id=\"page-size\"\r\n                    type=\"number\"\r\n                    min={1}\r\n                    max={100}\r\n                    value={pageSize}\r\n                    onChange={e => onPageSizeChange(Number(e.target.value) || 1)}\r\n                    className=\"border rounded px-2 py-1 w-16 text-sm\"\r\n                />\r\n            </div>\r\n        </PaginationRoot>\r\n    );\r\n}"],"names":[],"mappings":";;;;;AAAA;;;AAkBe,SAAS,WAAW,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,QAAQ,EAAE,gBAAgB,EAAmB;IACxG,IAAI,aAAa,GAAG;QAChB,sBAAsB;QACtB,OAAO;IACX;IAEA,MAAM,KAAK,CAAC,IAAc,CAAC;YACvB,GAAG;YACH,IAAI,IAAI,GAAG,IAAI;YACf,IAAI,IAAI,YAAY,GAAG,IAAI,YAAY;YACvC,IAAI,MAAM,MAAM,QAAQ;QAC5B;IAEA,0FAA0F;IAC1F,MAAM,aAAa;QACf,MAAM,QAAiC,EAAE;QACzC,MAAM,OAAO,KAAK,GAAG,CAAC,GAAG,OAAO;QAChC,MAAM,QAAQ,KAAK,GAAG,CAAC,YAAY,GAAG,OAAO;QAE7C,MAAM,IAAI,CAAC,IAAI,aAAa;QAE5B,IAAI,OAAO,GAAG,MAAM,IAAI,CAAC;QAEzB,IAAK,IAAI,IAAI,MAAM,KAAK,OAAO,IAAK;YAChC,MAAM,IAAI,CAAC;QACf;QAEA,IAAI,QAAQ,YAAY,GAAG,MAAM,IAAI,CAAC;QAEtC,IAAI,YAAY,GAAG,MAAM,IAAI,CAAC,YAAY,IAAI,YAAY;QAE1D,OAAO;IACX;IAEA,MAAM,QAAQ;IAEd,qBACI,8OAAC,oJAAc;QAAC,WAAU;;0BACtB,8OAAC,2JAAiB;;kCACd,8OAAC,wJAAc;kCACX,cAAA,8OAAC,4JAAkB;4BACf,MAAK;4BACL,SAAS,GAAG,KAAK,GAAG,CAAC,OAAO,GAAG;4BAC/B,iBAAe,SAAS;;;;;;;;;;;oBAI/B,MAAM,GAAG,CAAC,CAAC,GAAG,MACX,MAAM,2BACF,8OAAC,wJAAc;sCACX,cAAA,8OAAC,4JAAkB;;;;;2BADF,CAAC,EAAE,EAAE,KAAK;;;;iDAI/B,8OAAC,wJAAc;sCACX,cAAA,8OAAC,wJAAc;gCACX,MAAK;gCACL,UAAU,MAAM;gCAChB,SAAS,GAAG;0CAEX,IAAI;;;;;;2BANQ;;;;;kCAY7B,8OAAC,wJAAc;kCACX,cAAA,8OAAC,wJAAc;4BACX,MAAK;4BACL,SAAS,GAAG,KAAK,GAAG,CAAC,OAAO,GAAG,YAAY;4BAC3C,iBAAe,SAAS,YAAY;;;;;;;;;;;;;;;;;0BAKhD,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAM,SAAQ;wBAAY,WAAU;kCAAU;;;;;;kCAC/C,8OAAC;wBACG,IAAG;wBACH,MAAK;wBACL,KAAK;wBACL,KAAK;wBACL,OAAO;wBACP,UAAU,CAAA,IAAK,iBAAiB,OAAO,EAAE,MAAM,CAAC,KAAK,KAAK;wBAC1D,WAAU;;;;;;;;;;;;;;;;;;AAK9B","debugId":null}},
    {"offset": {"line": 5319, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/app/dashboard/_pages/Products/components/productCatalog/ProductTable.tsx"],"sourcesContent":["import { useState, useEffect, useMemo, useCallback } from \"react\";\r\nimport useSWR, { mutate } from \"swr\";\r\nimport { DataTable } from \"../../table/dataTable\";\r\nimport { columns, Products } from \"../../table/columns\";\r\nimport { Product, productApi } from \"@/hooks/products/useProductApi\";\r\nimport Pagination from \"./Pagination\";\r\nimport {\r\n    Dialog,\r\n    DialogContent,\r\n    DialogHeader,\r\n    DialogTitle,\r\n    DialogFooter,\r\n    DialogDescription,\r\n    DialogClose,\r\n} from \"@/components/ui/dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Pencil, Trash2 } from \"lucide-react\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { toast } from \"sonner\";\r\nimport { useCategories } from \"@/hooks/global/fetching/useCategories\";\r\nimport {\r\n    DropdownMenu,\r\n    DropdownMenuContent,\r\n    DropdownMenuItem,\r\n    DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\n\r\n// SWR fetcher\r\nconst fetcher = () => productApi.getAll();\r\nconst PAGE_SIZE = 6;\r\n\r\nfunction mapProductToRow(product: Product, categories: { id: number; name: string }[]): Products {\r\n    const status =\r\n        product.quantity === 0 ? \"out of stock\" : product.quantity < 5 ? \"low stock\" : \"in stock\";\r\n    const category = categories.find((c) => String(c.id) === String(product.category_id));\r\n    return {\r\n        id: String(product.id),\r\n        productName: product.name,\r\n        barcode: product.barcode ?? \"\",\r\n        category: category ? category.name : `Category ${product.category_id}`,\r\n        currentStock: product.quantity,\r\n        productPrice: product.price,\r\n        status,\r\n        // NOTE: no `original` property anymore\r\n    };\r\n}\r\n\r\ntype ProductTableProps = {\r\n    selectedCategory: string;\r\n    selectedStatus: string;\r\n    onProductDeleted?: (id: number) => void;\r\n    search?: string;\r\n};\r\n\r\nexport default function ProductTable({\r\n    selectedCategory,\r\n    selectedStatus,\r\n    onProductDeleted,\r\n    search = \"\",\r\n}: ProductTableProps) {\r\n    const { data: products = [], isLoading, error } = useSWR(\"/api/products\", fetcher, {\r\n        revalidateOnFocus: false,\r\n        dedupingInterval: 60_000, // reduce unnecessary refetches\r\n    });\r\n\r\n    const [page, setPage] = useState(0);\r\n    const [pageSize, setPageSize] = useState(PAGE_SIZE);\r\n\r\n    const [editProductId, setEditProductId] = useState<number | null>(null);\r\n    const [showEditDialog, setShowEditDialog] = useState(false);\r\n    const [showUpdateConfirm, setShowUpdateConfirm] = useState(false);\r\n\r\n    // store mapped row (Products) for delete UI, not the original Product\r\n    const [deleteProduct, setDeleteProduct] = useState<Products | null>(null);\r\n    const [showDeleteDialog, setShowDeleteDialog] = useState(false);\r\n\r\n    const { categories = [], loading: categoriesLoading, error: categoriesError } = useCategories();\r\n    const [categorySearch, setCategorySearch] = useState(\"\");\r\n\r\n    const [editForm, setEditForm] = useState({\r\n        name: \"\",\r\n        barcode: \"\",\r\n        category_id: \"\",\r\n        price: 0,\r\n        quantity: 0,\r\n    });\r\n\r\n    // memoized filtered products (category/status/search)\r\n    const filteredProducts = useMemo(() => {\r\n        let list: Product[] = products ?? [];\r\n\r\n        if (selectedCategory && selectedCategory !== \"all\") {\r\n            list = list.filter((p) => String(p.category_id) === selectedCategory);\r\n        }\r\n\r\n        if (selectedStatus && selectedStatus !== \"all\") {\r\n            list = list.filter((p) => {\r\n                const status =\r\n                    p.quantity === 0 ? \"out of stock\" : p.quantity < 5 ? \"low stock\" : \"in stock\";\r\n                return status === selectedStatus;\r\n            });\r\n        }\r\n\r\n        const q = (search || \"\").trim().toLowerCase();\r\n        if (q) {\r\n            list = list.filter((p) => {\r\n                const name = String(p.name ?? \"\").toLowerCase();\r\n                const barcode = String(p.barcode ?? \"\").toLowerCase();\r\n                return name.includes(q) || barcode.includes(q);\r\n            });\r\n        }\r\n\r\n        return list;\r\n    }, [products, selectedCategory, selectedStatus, search]);\r\n\r\n    // reset page when filters/search change\r\n    useEffect(() => setPage(0), [selectedCategory, selectedStatus, search]);\r\n\r\n    const mappedProducts: Products[] = useMemo(\r\n        () => (filteredProducts ?? []).map((p) => mapProductToRow(p, categories)),\r\n        [filteredProducts, categories]\r\n    );\r\n\r\n    const pageCount = useMemo(\r\n        () => Math.max(1, Math.ceil((mappedProducts?.length || 0) / pageSize)),\r\n        [mappedProducts, pageSize]\r\n    );\r\n\r\n    const editProduct = useMemo(\r\n        () => products.find((p: Product) => String(p.id) === String(editProductId)),\r\n        [products, editProductId]\r\n    );\r\n\r\n    // sync edit form when dialog opens and product available\r\n    useEffect(() => {\r\n        if (showEditDialog && editProduct) {\r\n            setEditForm({\r\n                name: editProduct.name ?? \"\",\r\n                barcode: editProduct.barcode ?? \"\",\r\n                category_id: String(editProduct.category_id ?? \"\"),\r\n                price: editProduct.price ?? 0,\r\n                quantity: editProduct.quantity ?? 0,\r\n            });\r\n        }\r\n    }, [showEditDialog, editProduct]);\r\n\r\n    // accept the mapped row (Products) rather than original Product\r\n    const handleEdit = useCallback((row: Products) => {\r\n        const id = row?.id;\r\n        setEditProductId(id != null ? Number(id) : null);\r\n        setShowEditDialog(true);\r\n        setShowUpdateConfirm(false);\r\n    }, []);\r\n\r\n    // accept the mapped row (Products)\r\n    const handleDelete = useCallback((row: Products) => {\r\n        setDeleteProduct(row);\r\n        setShowDeleteDialog(true);\r\n    }, []);\r\n\r\n    const truncate = useCallback((s?: string, max = 60) => {\r\n        if (!s) return \"\";\r\n        return s.length > max ? s.slice(0, max) + \"...\" : s;\r\n    }, []);\r\n\r\n    const handleUpdateProduct = useCallback(async () => {\r\n        setShowUpdateConfirm(false);\r\n        if (!editProduct) {\r\n            toast(\"Product data not loaded\", { description: \"Please try again.\" });\r\n            return;\r\n        }\r\n        try {\r\n            await productApi.update(editProduct.id, {\r\n                name: editForm.name,\r\n                barcode: editForm.barcode,\r\n                category_id: Number(editForm.category_id),\r\n                price: Number(editForm.price),\r\n                quantity: Number(editForm.quantity),\r\n            });\r\n            toast(\"Product updated\", { description: `${truncate(editForm.name, 60)} has been updated.` });\r\n            setShowEditDialog(false);\r\n            mutate(\"/api/products\");\r\n        } catch (err: any) {\r\n            toast(\"Failed to update product\", { description: err?.message || \"An error occurred.\" });\r\n        }\r\n    }, [editProduct, editForm, truncate]);\r\n\r\n    const handleDeleteProduct = useCallback(async () => {\r\n        if (!deleteProduct) return;\r\n        try {\r\n            // delete by id (convert to number)\r\n            await productApi.delete(Number(deleteProduct.id));\r\n            toast(\"Product deleted\", {\r\n                description: (\r\n                    <span className=\"text-red-600\">\r\n                        {truncate(deleteProduct.productName, 60)} has been deleted.\r\n                    </span>\r\n                ), icon: <Trash2 className=\"w-4 h-4 text-red-600\" />,\r\n            }); setShowDeleteDialog(false);\r\n            setDeleteProduct(null);\r\n            mutate(\"/api/products\");\r\n            if (onProductDeleted) onProductDeleted(Number(deleteProduct.id));\r\n        } catch (err: any) {\r\n            toast(\"Failed to delete product\", { description: err?.message || \"An error occurred.\" });\r\n        }\r\n    }, [deleteProduct, onProductDeleted, truncate]);\r\n\r\n    return (\r\n        <div className=\"w-full mt-4 relative\">\r\n            <DataTable\r\n                columns={columns.map((col) =>\r\n                    col.id === \"actions\"\r\n                        ? {\r\n                            ...col,\r\n                            cell: ({ row }: any) => (\r\n                                <div className=\"flex gap-2 justify-center\">\r\n                                    <Button\r\n                                        variant=\"outline\"\r\n                                        size=\"icon\"\r\n                                        onClick={() => handleEdit(row.original)}\r\n                                        disabled={isLoading}\r\n                                    >\r\n                                        <Pencil className=\"w-4 h-4\" />\r\n                                    </Button>\r\n                                    <Button variant=\"outline\" size=\"icon\" onClick={() => handleDelete(row.original)}>\r\n                                        <Trash2 className=\"w-4 h-4\" />\r\n                                    </Button>\r\n                                </div>\r\n                            ),\r\n                        }\r\n                        : col\r\n                )}\r\n                data={mappedProducts}\r\n                page={page}\r\n                pageSize={pageSize}\r\n            />\r\n\r\n            <div className=\"mt-7\">\r\n                <Pagination\r\n                    page={page}\r\n                    pageCount={pageCount}\r\n                    setPage={setPage}\r\n                    pageSize={pageSize}\r\n                    onPageSizeChange={(size) => {\r\n                        setPageSize(size);\r\n                        setPage(0);\r\n                    }}\r\n                />\r\n            </div>\r\n\r\n            <Dialog open={showEditDialog} onOpenChange={setShowEditDialog}>\r\n                <DialogContent>\r\n                    {!editProduct ? (\r\n                        <>\r\n                            <DialogTitle>Loading</DialogTitle>\r\n                            <DialogDescription>Loading product data...</DialogDescription>\r\n                            <div className=\"p-4 text-center\">Loading...</div>\r\n                        </>\r\n                    ) : showUpdateConfirm ? (\r\n                        <div className=\"flex flex-col items-center justify-center py-8\">\r\n                            <h2 className=\"font-bold text-lg mb-2\">Are you absolutely sure?</h2>\r\n                            <p className=\"mb-6 text-gray-500\">This will update the product details.</p>\r\n                            <div className=\"flex gap-2\">\r\n                                <Button variant=\"outline\" onClick={() => setShowUpdateConfirm(false)}>\r\n                                    Cancel\r\n                                </Button>\r\n                                <Button onClick={handleUpdateProduct}>Continue</Button>\r\n                            </div>\r\n                        </div>\r\n                    ) : (\r\n                        <>\r\n                            <DialogHeader>\r\n                                <DialogTitle>Product</DialogTitle>\r\n                                <DialogDescription>Fill in the details below to update the product.</DialogDescription>\r\n                            </DialogHeader>\r\n\r\n                            <div className=\"flex-col gap-4\">\r\n                                <div className=\"flex flex-col gap-2\">\r\n                                    <Label htmlFor=\"edit-name\">Product Name</Label>\r\n                                    <Input\r\n                                        id=\"edit-name\"\r\n                                        name=\"name\"\r\n                                        value={editForm.name}\r\n                                        onChange={(e) => setEditForm((f) => ({ ...f, name: e.target.value }))}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"flex flex-row gap-2 mt-4\">\r\n                                    <div className=\"flex-[50%] flex flex-col gap-2\">\r\n                                        <Label htmlFor=\"edit-barcode\">Barcode</Label>\r\n                                        <Input\r\n                                            id=\"edit-barcode\"\r\n                                            name=\"barcode\"\r\n                                            value={editForm.barcode}\r\n                                            onChange={(e) => setEditForm((f) => ({ ...f, barcode: e.target.value }))}\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div className=\"flex-[50%] flex flex-col gap-2\">\r\n                                        <Label htmlFor=\"edit-category\">Category</Label>\r\n                                        <DropdownMenu>\r\n                                            <DropdownMenuTrigger asChild>\r\n                                                <Input\r\n                                                    id=\"edit-category\"\r\n                                                    readOnly\r\n                                                    value={\r\n                                                        categories.find((c) => String(c.id) === String(editForm.category_id))?.name ||\r\n                                                        \"\"\r\n                                                    }\r\n                                                    placeholder=\"Select category\"\r\n                                                    className=\"cursor-pointer\"\r\n                                                />\r\n                                            </DropdownMenuTrigger>\r\n\r\n                                            <DropdownMenuContent className=\"w-64\">\r\n                                                <div className=\"p-2\">\r\n                                                    <Input\r\n                                                        placeholder=\"Search category...\"\r\n                                                        value={categorySearch}\r\n                                                        onChange={(e) => setCategorySearch(e.target.value)}\r\n                                                        className=\"mb-2\"\r\n                                                    />\r\n                                                </div>\r\n\r\n                                                {categoriesLoading && <div className=\"p-2 text-gray-400\">Loading...</div>}\r\n                                                {categoriesError && <div className=\"p-2 text-red-500\">{categoriesError}</div>}\r\n\r\n                                                {!categoriesLoading &&\r\n                                                    !categoriesError &&\r\n                                                    categories\r\n                                                        .filter((cat) =>\r\n                                                            cat.name.toLowerCase().includes(categorySearch.toLowerCase())\r\n                                                        )\r\n                                                        .map((cat) => (\r\n                                                            <DropdownMenuItem\r\n                                                                key={cat.id}\r\n                                                                onClick={() => {\r\n                                                                    setEditForm((f) => ({ ...f, category_id: String(cat.id) }));\r\n                                                                    setCategorySearch(\"\");\r\n                                                                }}\r\n                                                            >\r\n                                                                {cat.name}\r\n                                                            </DropdownMenuItem>\r\n                                                        ))}\r\n\r\n                                                {!categoriesLoading &&\r\n                                                    !categoriesError &&\r\n                                                    categories.filter((cat) =>\r\n                                                        cat.name.toLowerCase().includes(categorySearch.toLowerCase())\r\n                                                    ).length === 0 && <div className=\"p-2 text-gray-400\">No categories found.</div>}\r\n                                            </DropdownMenuContent>\r\n                                        </DropdownMenu>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"flex flex-row gap-2 my-4\">\r\n                                    <div className=\"flex-[50%] flex flex-col gap-2\">\r\n                                        <Label htmlFor=\"edit-price\">Price</Label>\r\n                                        <div className=\"relative\">\r\n                                            <span className=\"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500 pointer-events-none\">\r\n                                                ₱\r\n                                            </span>\r\n                                            <Input\r\n                                                id=\"edit-price\"\r\n                                                name=\"price\"\r\n                                                type=\"number\"\r\n                                                value={editForm.price === 0 ? \"\" : String(editForm.price)}\r\n                                                onChange={(e) =>\r\n                                                    setEditForm((f) => ({\r\n                                                        ...f,\r\n                                                        price: e.target.value === \"\" ? 0 : Number(e.target.value),\r\n                                                    }))\r\n                                                }\r\n                                                className=\"pl-8\"\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"flex-[50%] flex flex-col gap-2\">\r\n                                        <Label htmlFor=\"edit-quantity\">Quantity</Label>\r\n                                        <Input\r\n                                            id=\"edit-quantity\"\r\n                                            name=\"quantity\"\r\n                                            type=\"number\"\r\n                                            value={editForm.quantity === 0 ? \"\" : String(editForm.quantity)}\r\n                                            onChange={(e) =>\r\n                                                setEditForm((f) => ({\r\n                                                    ...f,\r\n                                                    quantity: e.target.value === \"\" ? 0 : Number(e.target.value),\r\n                                                }))\r\n                                            }\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <DialogFooter>\r\n                                    <DialogClose asChild>\r\n                                        <Button variant=\"outline\" onClick={() => setShowEditDialog(false)}>\r\n                                            Cancel\r\n                                        </Button>\r\n                                    </DialogClose>\r\n                                    <Button onClick={() => setShowUpdateConfirm(true)}>Update Product</Button>\r\n                                </DialogFooter>\r\n                            </div>\r\n                        </>\r\n                    )}\r\n                </DialogContent>\r\n            </Dialog>\r\n\r\n            <Dialog open={showDeleteDialog} onOpenChange={setShowDeleteDialog}>\r\n                <DialogContent>\r\n                    <DialogHeader>\r\n                        <DialogTitle>Are you absolutely sure?</DialogTitle>\r\n                        <DialogDescription>\r\n                            This action cannot be undone. This will permanently delete the product and remove it\r\n                            from your database.\r\n                        </DialogDescription>\r\n                    </DialogHeader>\r\n                    <DialogFooter>\r\n                        <Button variant=\"outline\" onClick={() => setShowDeleteDialog(false)}>\r\n                            Cancel\r\n                        </Button>\r\n                        <Button variant=\"destructive\" onClick={handleDeleteProduct} disabled={!deleteProduct}>\r\n                            Continue\r\n                        </Button>\r\n                    </DialogFooter>\r\n                </DialogContent>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 6114, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/app/dashboard/_pages/Products/components/productCatalog/index.tsx"],"sourcesContent":["import { Card, CardContent, CardHeader } from \"@/components/ui/card\";\r\nimport ProductCatalogToolbar from \"./ProductCatalogToolbar\";\r\nimport ProductTable from \"./ProductTable\";\r\nimport { useState } from \"react\";\r\n\r\ninterface IndexProps {\r\n  onProductDeleted?: (id: number) => void;\r\n}\r\n\r\nexport default function Index({ onProductDeleted }: IndexProps) {\r\n  const [selectedCategory, setSelectedCategory] = useState(\"all\");\r\n  const [selectedProducts, setSelectedProducts] = useState(\"all\");\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  return (\r\n    <Card className=\"h-full w-full\">\r\n      <CardHeader>\r\n        <h2 className=\"text-2xl font-semibold\">Product Catalog</h2>\r\n      </CardHeader>\r\n      <CardContent>\r\n        <ProductCatalogToolbar\r\n          selectedCategory={selectedCategory}\r\n          setSelectedCategory={setSelectedCategory}\r\n          selectedProducts={selectedProducts}\r\n          setSelectedProducts={setSelectedProducts}\r\n          search={search}\r\n          setSearch={setSearch}\r\n        />\r\n        <ProductTable\r\n          selectedCategory={selectedCategory}\r\n          selectedStatus={selectedProducts}\r\n          onProductDeleted={onProductDeleted}\r\n          search={search}\r\n        />\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;AAMe,SAAS,MAAM,EAAE,gBAAgB,EAAc;IAC5D,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,iNAAQ,EAAC;IACzD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,iNAAQ,EAAC;IACzD,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IAErC,qBACE,8OAAC,wIAAI;QAAC,WAAU;;0BACd,8OAAC,8IAAU;0BACT,cAAA,8OAAC;oBAAG,WAAU;8BAAyB;;;;;;;;;;;0BAEzC,8OAAC,+IAAW;;kCACV,8OAAC,kNAAqB;wBACpB,kBAAkB;wBAClB,qBAAqB;wBACrB,kBAAkB;wBAClB,qBAAqB;wBACrB,QAAQ;wBACR,WAAW;;;;;;kCAEb,8OAAC,yMAAY;wBACX,kBAAkB;wBAClB,gBAAgB;wBAChB,kBAAkB;wBAClB,QAAQ;;;;;;;;;;;;;;;;;;AAKlB","debugId":null}},
    {"offset": {"line": 6190, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/app/dashboard/_pages/Products/productsScreen.tsx"],"sourcesContent":["'use client'\r\n\r\nimport Head from './components/head';\r\nimport ProductsStats from './components/ProductStats';\r\nimport Index from './components/productCatalog/index';\r\nimport AddCategoryModal from './components/addCategoryModal';\r\n\r\nexport default function ProductsScreen() {\r\n  return (\r\n    <div className=\"flex flex-col gap-4 h-full p-8\">\r\n      <div className=\"flex-[7%]\">\r\n        <Head />\r\n      </div>\r\n\r\n      <div className=\"flex-[18%]\">\r\n        <ProductsStats />\r\n      </div>\r\n\r\n      <div className=\"flex-[75%]\">\r\n        <Index />\r\n      </div>\r\n\r\n      <AddCategoryModal />\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACtB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,+KAAI;;;;;;;;;;0BAGP,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,uLAAa;;;;;;;;;;0BAGhB,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,kMAAK;;;;;;;;;;0BAGR,8OAAC,2LAAgB;;;;;;;;;;;AAGvB","debugId":null}},
    {"offset": {"line": 6327, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/hooks/global/fetching/useSaleItems.ts"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport interface SaleItem {\r\n  id: number;\r\n  created_at: string;\r\n  sale_id: number;\r\n  product_id: number;\r\n  quantity: number;\r\n  price: number;\r\n}\r\n\r\nexport const useSaleItems = () => {\r\n  const [saleItems, setSaleItems] = useState<SaleItem[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const fetchSaleItems = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const res = await axios.get(process.env.NEXT_PUBLIC_backend_api_url + \"/sales-items\");\r\n      setSaleItems(res.data.data);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : \"Unknown error\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchSaleItems();\r\n  }, []);\r\n\r\n  return { saleItems, loading, error, refetch: fetchSaleItems };\r\n};"],"names":[],"mappings":";;;;AAAA;AACA;;;AAWO,MAAM,eAAe;IAC1B,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAa,EAAE;IACzD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,MAAM,iBAAiB;QACrB,IAAI;YACF,WAAW;YACX,SAAS;YACT,MAAM,MAAM,MAAM,gJAAK,CAAC,GAAG,CAAC,gEAA0C;YACtE,aAAa,IAAI,IAAI,CAAC,IAAI;QAC5B,EAAE,OAAO,KAAK;YACZ,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;QAChD,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAA,kNAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,OAAO;QAAE;QAAW;QAAS;QAAO,SAAS;IAAe;AAC9D","debugId":null}},
    {"offset": {"line": 6365, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/hooks/global/fetching/useSales.ts"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport interface Sale {\r\n  id: number;\r\n  customer_id: number | null;\r\n  total_purchase: number;\r\n  created_at: string;\r\n}\r\n\r\nexport const useSales = () => {\r\n  const [sales, setSales] = useState<Sale[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const fetchSales = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const res = await axios.get(process.env.NEXT_PUBLIC_backend_api_url + \"/sales\");\r\n    setSales(res.data.data);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : \"Unknown error\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchSales();\r\n  }, []);\r\n\r\n  return { sales, loading, error, refetch: fetchSales };\r\n};"],"names":[],"mappings":";;;;AAAA;AACA;;;AASO,MAAM,WAAW;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAS,EAAE;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,MAAM,aAAa;QACjB,IAAI;YACF,WAAW;YACX,SAAS;YACT,MAAM,MAAM,MAAM,gJAAK,CAAC,GAAG,CAAC,gEAA0C;YACxE,SAAS,IAAI,IAAI,CAAC,IAAI;QACtB,EAAE,OAAO,KAAK;YACZ,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;QAChD,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAA,kNAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,OAAO;QAAE;QAAO;QAAS;QAAO,SAAS;IAAW;AACtD","debugId":null}},
    {"offset": {"line": 6403, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/app/dashboard/_pages/Dashboard/components/stats.tsx"],"sourcesContent":["import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { DollarSign, Package, ShoppingCart } from 'lucide-react';\r\nimport { useSaleItems } from \"@/hooks/global/fetching/useSaleItems\";\r\nimport { useProducts } from \"@/hooks/global/fetching/useProducts\";\r\nimport { useSales } from \"@/hooks/global/fetching/useSales\"; // Make sure you have this hook\r\n\r\nexport default function Stats() {\r\n    const { saleItems, loading: saleItemsLoading } = useSaleItems();\r\n    const { products, loading: productsLoading } = useProducts();\r\n    const { sales, loading: salesLoading } = useSales();\r\n\r\n    // Get today's date in UTC (YYYY-MM-DD)\r\n    const getUTCDateString = (date: Date | string) => {\r\n        const d = typeof date === \"string\" ? new Date(date) : date;\r\n        return d.toISOString().slice(0, 10);\r\n    };\r\n    const todayUTC = getUTCDateString(new Date());\r\n\r\n    // Filter sales for today (UTC)\r\n    const todaysSalesList = sales.filter(sale => {\r\n        return getUTCDateString(sale.created_at) === todayUTC;\r\n    });\r\n\r\n    // Today's Sales (sum total_purchase for today's sales)\r\n    const todaysSales = todaysSalesList.reduce((sum, sale) => sum + sale.total_purchase, 0);\r\n\r\n    // Today's Transactions (count of sales today)\r\n    const todaysTransactions = todaysSalesList.length;\r\n\r\n    // Total Products\r\n    const totalProducts = products.length;\r\n\r\n    // Items Sold Today (sum quantity from saleItems for today)\r\n    const todaysSaleItems = saleItems.filter(item => getUTCDateString(item.created_at) === todayUTC);\r\n    const itemsSoldToday = todaysSaleItems.reduce((sum, item) => sum + item.quantity, 0);\r\n\r\n    const statsData = [\r\n        {\r\n            title: \"Today's Sales\",\r\n            content: salesLoading ? \"...\" : `₱ ${todaysSales.toLocaleString()}`,\r\n            icon: <DollarSign size={20} />,\r\n        },\r\n        {\r\n            title: \"Items Sold Today\",\r\n            content: saleItemsLoading ? \"...\" : itemsSoldToday.toLocaleString(),\r\n            icon: <Package size={20} />,\r\n        },\r\n        {\r\n            title: \"Today's Transactions\",\r\n            content: salesLoading ? \"...\" : todaysTransactions.toLocaleString(),\r\n            icon: <ShoppingCart size={20} />,\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <div className=\"grid grid-cols-3 gap-4 w-full h-full\">\r\n            {statsData.map((stat, idx) => (\r\n                <Card key={idx} className=\"gap-0 flex justify-center\">\r\n                    <CardHeader className=\"mb-4 flex flex-row justify-between items-center\">\r\n                        <CardTitle className=\"text-md font-semibold\">{stat.title}</CardTitle>\r\n                        <div className=\"opacity-60\">{stat.icon}</div>\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <div className=\"text-3xl font-bold mb-6\">{stat.content}</div>\r\n                    </CardContent>\r\n                </Card>\r\n            ))}\r\n        </div>\r\n    );\r\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA,wPAA6D,+BAA+B;;;;;;;AAE7E,SAAS;IACpB,MAAM,EAAE,SAAS,EAAE,SAAS,gBAAgB,EAAE,GAAG,IAAA,kKAAY;IAC7D,MAAM,EAAE,QAAQ,EAAE,SAAS,eAAe,EAAE,GAAG,IAAA,gKAAW;IAC1D,MAAM,EAAE,KAAK,EAAE,SAAS,YAAY,EAAE,GAAG,IAAA,0JAAQ;IAEjD,uCAAuC;IACvC,MAAM,mBAAmB,CAAC;QACtB,MAAM,IAAI,OAAO,SAAS,WAAW,IAAI,KAAK,QAAQ;QACtD,OAAO,EAAE,WAAW,GAAG,KAAK,CAAC,GAAG;IACpC;IACA,MAAM,WAAW,iBAAiB,IAAI;IAEtC,+BAA+B;IAC/B,MAAM,kBAAkB,MAAM,MAAM,CAAC,CAAA;QACjC,OAAO,iBAAiB,KAAK,UAAU,MAAM;IACjD;IAEA,uDAAuD;IACvD,MAAM,cAAc,gBAAgB,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,cAAc,EAAE;IAErF,8CAA8C;IAC9C,MAAM,qBAAqB,gBAAgB,MAAM;IAEjD,iBAAiB;IACjB,MAAM,gBAAgB,SAAS,MAAM;IAErC,2DAA2D;IAC3D,MAAM,kBAAkB,UAAU,MAAM,CAAC,CAAA,OAAQ,iBAAiB,KAAK,UAAU,MAAM;IACvF,MAAM,iBAAiB,gBAAgB,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,QAAQ,EAAE;IAElF,MAAM,YAAY;QACd;YACI,OAAO;YACP,SAAS,eAAe,QAAQ,CAAC,EAAE,EAAE,YAAY,cAAc,IAAI;YACnE,oBAAM,8OAAC,gOAAU;gBAAC,MAAM;;;;;;QAC5B;QACA;YACI,OAAO;YACP,SAAS,mBAAmB,QAAQ,eAAe,cAAc;YACjE,oBAAM,8OAAC,mNAAO;gBAAC,MAAM;;;;;;QACzB;QACA;YACI,OAAO;YACP,SAAS,eAAe,QAAQ,mBAAmB,cAAc;YACjE,oBAAM,8OAAC,sOAAY;gBAAC,MAAM;;;;;;QAC9B;KACH;IAED,qBACI,8OAAC;QAAI,WAAU;kBACV,UAAU,GAAG,CAAC,CAAC,MAAM,oBAClB,8OAAC,wIAAI;gBAAW,WAAU;;kCACtB,8OAAC,8IAAU;wBAAC,WAAU;;0CAClB,8OAAC,6IAAS;gCAAC,WAAU;0CAAyB,KAAK,KAAK;;;;;;0CACxD,8OAAC;gCAAI,WAAU;0CAAc,KAAK,IAAI;;;;;;;;;;;;kCAE1C,8OAAC,+IAAW;kCACR,cAAA,8OAAC;4BAAI,WAAU;sCAA2B,KAAK,OAAO;;;;;;;;;;;;eANnD;;;;;;;;;;AAY3B","debugId":null}},
    {"offset": {"line": 6539, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/components/ui/calendar.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport {\r\n  ChevronDownIcon,\r\n  ChevronLeftIcon,\r\n  ChevronRightIcon,\r\n} from \"lucide-react\"\r\nimport { DayButton, DayPicker, getDefaultClassNames } from \"react-day-picker\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\nimport { Button, buttonVariants } from \"@/components/ui/button\"\r\n\r\nfunction Calendar({\r\n  className,\r\n  classNames,\r\n  showOutsideDays = true,\r\n  captionLayout = \"label\",\r\n  buttonVariant = \"ghost\",\r\n  formatters,\r\n  components,\r\n  ...props\r\n}: React.ComponentProps<typeof DayPicker> & {\r\n  buttonVariant?: React.ComponentProps<typeof Button>[\"variant\"]\r\n}) {\r\n  const defaultClassNames = getDefaultClassNames()\r\n\r\n  return (\r\n    <DayPicker\r\n      showOutsideDays={showOutsideDays}\r\n      className={cn(\r\n        \"bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent\",\r\n        String.raw`rtl:**:[.rdp-button\\_next>svg]:rotate-180`,\r\n        String.raw`rtl:**:[.rdp-button\\_previous>svg]:rotate-180`,\r\n        className\r\n      )}\r\n      captionLayout={captionLayout}\r\n      formatters={{\r\n        formatMonthDropdown: (date) =>\r\n          date.toLocaleString(\"default\", { month: \"short\" }),\r\n        ...formatters,\r\n      }}\r\n      classNames={{\r\n        root: cn(\"w-fit\", defaultClassNames.root),\r\n        months: cn(\r\n          \"flex gap-4 flex-col md:flex-row relative\",\r\n          defaultClassNames.months\r\n        ),\r\n        month: cn(\"flex flex-col w-full gap-4\", defaultClassNames.month),\r\n        nav: cn(\r\n          \"flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between\",\r\n          defaultClassNames.nav\r\n        ),\r\n        button_previous: cn(\r\n          buttonVariants({ variant: buttonVariant }),\r\n          \"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none\",\r\n          defaultClassNames.button_previous\r\n        ),\r\n        button_next: cn(\r\n          buttonVariants({ variant: buttonVariant }),\r\n          \"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none\",\r\n          defaultClassNames.button_next\r\n        ),\r\n        month_caption: cn(\r\n          \"flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)\",\r\n          defaultClassNames.month_caption\r\n        ),\r\n        dropdowns: cn(\r\n          \"w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5\",\r\n          defaultClassNames.dropdowns\r\n        ),\r\n        dropdown_root: cn(\r\n          \"relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md\",\r\n          defaultClassNames.dropdown_root\r\n        ),\r\n        dropdown: cn(\r\n          \"absolute bg-popover inset-0 opacity-0\",\r\n          defaultClassNames.dropdown\r\n        ),\r\n        caption_label: cn(\r\n          \"select-none font-medium\",\r\n          captionLayout === \"label\"\r\n            ? \"text-sm\"\r\n            : \"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5\",\r\n          defaultClassNames.caption_label\r\n        ),\r\n        table: \"w-full border-collapse\",\r\n        weekdays: cn(\"flex\", defaultClassNames.weekdays),\r\n        weekday: cn(\r\n          \"text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none\",\r\n          defaultClassNames.weekday\r\n        ),\r\n        week: cn(\"flex w-full mt-2\", defaultClassNames.week),\r\n        week_number_header: cn(\r\n          \"select-none w-(--cell-size)\",\r\n          defaultClassNames.week_number_header\r\n        ),\r\n        week_number: cn(\r\n          \"text-[0.8rem] select-none text-muted-foreground\",\r\n          defaultClassNames.week_number\r\n        ),\r\n        day: cn(\r\n          \"relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none\",\r\n          defaultClassNames.day\r\n        ),\r\n        range_start: cn(\r\n          \"rounded-l-md bg-accent\",\r\n          defaultClassNames.range_start\r\n        ),\r\n        range_middle: cn(\"rounded-none\", defaultClassNames.range_middle),\r\n        range_end: cn(\"rounded-r-md bg-accent\", defaultClassNames.range_end),\r\n        today: cn(\r\n          \"bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none\",\r\n          defaultClassNames.today\r\n        ),\r\n        outside: cn(\r\n          \"text-muted-foreground aria-selected:text-muted-foreground\",\r\n          defaultClassNames.outside\r\n        ),\r\n        disabled: cn(\r\n          \"text-muted-foreground opacity-50\",\r\n          defaultClassNames.disabled\r\n        ),\r\n        hidden: cn(\"invisible\", defaultClassNames.hidden),\r\n        ...classNames,\r\n      }}\r\n      components={{\r\n        Root: ({ className, rootRef, ...props }) => {\r\n          return (\r\n            <div\r\n              data-slot=\"calendar\"\r\n              ref={rootRef}\r\n              className={cn(className)}\r\n              {...props}\r\n            />\r\n          )\r\n        },\r\n        Chevron: ({ className, orientation, ...props }) => {\r\n          if (orientation === \"left\") {\r\n            return (\r\n              <ChevronLeftIcon className={cn(\"size-4\", className)} {...props} />\r\n            )\r\n          }\r\n\r\n          if (orientation === \"right\") {\r\n            return (\r\n              <ChevronRightIcon\r\n                className={cn(\"size-4\", className)}\r\n                {...props}\r\n              />\r\n            )\r\n          }\r\n\r\n          return (\r\n            <ChevronDownIcon className={cn(\"size-4\", className)} {...props} />\r\n          )\r\n        },\r\n        DayButton: CalendarDayButton,\r\n        WeekNumber: ({ children, ...props }) => {\r\n          return (\r\n            <td {...props}>\r\n              <div className=\"flex size-(--cell-size) items-center justify-center text-center\">\r\n                {children}\r\n              </div>\r\n            </td>\r\n          )\r\n        },\r\n        ...components,\r\n      }}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CalendarDayButton({\r\n  className,\r\n  day,\r\n  modifiers,\r\n  ...props\r\n}: React.ComponentProps<typeof DayButton>) {\r\n  const defaultClassNames = getDefaultClassNames()\r\n\r\n  const ref = React.useRef<HTMLButtonElement>(null)\r\n  React.useEffect(() => {\r\n    if (modifiers.focused) ref.current?.focus()\r\n  }, [modifiers.focused])\r\n\r\n  return (\r\n    <Button\r\n      ref={ref}\r\n      variant=\"ghost\"\r\n      size=\"icon\"\r\n      data-day={day.date.toLocaleDateString()}\r\n      data-selected-single={\r\n        modifiers.selected &&\r\n        !modifiers.range_start &&\r\n        !modifiers.range_end &&\r\n        !modifiers.range_middle\r\n      }\r\n      data-range-start={modifiers.range_start}\r\n      data-range-end={modifiers.range_end}\r\n      data-range-middle={modifiers.range_middle}\r\n      className={cn(\r\n        \"data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70\",\r\n        defaultClassNames.day,\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Calendar, CalendarDayButton }\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 6705, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/components/ui/chart.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as RechartsPrimitive from \"recharts\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\n// Format: { THEME_NAME: CSS_SELECTOR }\r\nconst THEMES = { light: \"\", dark: \".dark\" } as const\r\n\r\nexport type ChartConfig = {\r\n  [k in string]: {\r\n    label?: React.ReactNode\r\n    icon?: React.ComponentType\r\n  } & (\r\n    | { color?: string; theme?: never }\r\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\r\n  )\r\n}\r\n\r\ntype ChartContextProps = {\r\n  config: ChartConfig\r\n}\r\n\r\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\r\n\r\nfunction useChart() {\r\n  const context = React.useContext(ChartContext)\r\n\r\n  if (!context) {\r\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\r\n  }\r\n\r\n  return context\r\n}\r\n\r\nfunction ChartContainer({\r\n  id,\r\n  className,\r\n  children,\r\n  config,\r\n  ...props\r\n}: React.ComponentProps<\"div\"> & {\r\n  config: ChartConfig\r\n  children: React.ComponentProps<\r\n    typeof RechartsPrimitive.ResponsiveContainer\r\n  >[\"children\"]\r\n}) {\r\n  const uniqueId = React.useId()\r\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\r\n\r\n  return (\r\n    <ChartContext.Provider value={{ config }}>\r\n      <div\r\n        data-slot=\"chart\"\r\n        data-chart={chartId}\r\n        className={cn(\r\n          \"[&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border flex aspect-video justify-center text-xs [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-hidden [&_.recharts-sector]:outline-hidden [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-surface]:outline-hidden\",\r\n          className\r\n        )}\r\n        {...props}\r\n      >\r\n        <ChartStyle id={chartId} config={config} />\r\n        <RechartsPrimitive.ResponsiveContainer>\r\n          {children}\r\n        </RechartsPrimitive.ResponsiveContainer>\r\n      </div>\r\n    </ChartContext.Provider>\r\n  )\r\n}\r\n\r\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\r\n  const colorConfig = Object.entries(config).filter(\r\n    ([, config]) => config.theme || config.color\r\n  )\r\n\r\n  if (!colorConfig.length) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <style\r\n      dangerouslySetInnerHTML={{\r\n        __html: Object.entries(THEMES)\r\n          .map(\r\n            ([theme, prefix]) => `\r\n${prefix} [data-chart=${id}] {\r\n${colorConfig\r\n  .map(([key, itemConfig]) => {\r\n    const color =\r\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\r\n      itemConfig.color\r\n    return color ? `  --color-${key}: ${color};` : null\r\n  })\r\n  .join(\"\\n\")}\r\n}\r\n`\r\n          )\r\n          .join(\"\\n\"),\r\n      }}\r\n    />\r\n  )\r\n}\r\n\r\nconst ChartTooltip = RechartsPrimitive.Tooltip\r\n\r\nfunction ChartTooltipContent({\r\n  active,\r\n  payload,\r\n  className,\r\n  indicator = \"dot\",\r\n  hideLabel = false,\r\n  hideIndicator = false,\r\n  label,\r\n  labelFormatter,\r\n  labelClassName,\r\n  formatter,\r\n  color,\r\n  nameKey,\r\n  labelKey,\r\n}: React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\r\n  React.ComponentProps<\"div\"> & {\r\n    hideLabel?: boolean\r\n    hideIndicator?: boolean\r\n    indicator?: \"line\" | \"dot\" | \"dashed\"\r\n    nameKey?: string\r\n    labelKey?: string\r\n  }) {\r\n  const { config } = useChart()\r\n\r\n  const tooltipLabel = React.useMemo(() => {\r\n    if (hideLabel || !payload?.length) {\r\n      return null\r\n    }\r\n\r\n    const [item] = payload\r\n    const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\r\n    const itemConfig = getPayloadConfigFromPayload(config, item, key)\r\n    const value =\r\n      !labelKey && typeof label === \"string\"\r\n        ? config[label as keyof typeof config]?.label || label\r\n        : itemConfig?.label\r\n\r\n    if (labelFormatter) {\r\n      return (\r\n        <div className={cn(\"font-medium\", labelClassName)}>\r\n          {labelFormatter(value, payload)}\r\n        </div>\r\n      )\r\n    }\r\n\r\n    if (!value) {\r\n      return null\r\n    }\r\n\r\n    return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\r\n  }, [\r\n    label,\r\n    labelFormatter,\r\n    payload,\r\n    hideLabel,\r\n    labelClassName,\r\n    config,\r\n    labelKey,\r\n  ])\r\n\r\n  if (!active || !payload?.length) {\r\n    return null\r\n  }\r\n\r\n  const nestLabel = payload.length === 1 && indicator !== \"dot\"\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"border-border/50 bg-background grid min-w-[8rem] items-start gap-1.5 rounded-lg border px-2.5 py-1.5 text-xs shadow-xl\",\r\n        className\r\n      )}\r\n    >\r\n      {!nestLabel ? tooltipLabel : null}\r\n      <div className=\"grid gap-1.5\">\r\n        {payload.map((item, index) => {\r\n          const key = `${nameKey || item.name || item.dataKey || \"value\"}`\r\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\r\n          const indicatorColor = color || item.payload.fill || item.color\r\n\r\n          return (\r\n            <div\r\n              key={item.dataKey}\r\n              className={cn(\r\n                \"[&>svg]:text-muted-foreground flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5\",\r\n                indicator === \"dot\" && \"items-center\"\r\n              )}\r\n            >\r\n              {formatter && item?.value !== undefined && item.name ? (\r\n                formatter(item.value, item.name, item, index, item.payload)\r\n              ) : (\r\n                <>\r\n                  {itemConfig?.icon ? (\r\n                    <itemConfig.icon />\r\n                  ) : (\r\n                    !hideIndicator && (\r\n                      <div\r\n                        className={cn(\r\n                          \"shrink-0 rounded-[2px] border-(--color-border) bg-(--color-bg)\",\r\n                          {\r\n                            \"h-2.5 w-2.5\": indicator === \"dot\",\r\n                            \"w-1\": indicator === \"line\",\r\n                            \"w-0 border-[1.5px] border-dashed bg-transparent\":\r\n                              indicator === \"dashed\",\r\n                            \"my-0.5\": nestLabel && indicator === \"dashed\",\r\n                          }\r\n                        )}\r\n                        style={\r\n                          {\r\n                            \"--color-bg\": indicatorColor,\r\n                            \"--color-border\": indicatorColor,\r\n                          } as React.CSSProperties\r\n                        }\r\n                      />\r\n                    )\r\n                  )}\r\n                  <div\r\n                    className={cn(\r\n                      \"flex flex-1 justify-between leading-none\",\r\n                      nestLabel ? \"items-end\" : \"items-center\"\r\n                    )}\r\n                  >\r\n                    <div className=\"grid gap-1.5\">\r\n                      {nestLabel ? tooltipLabel : null}\r\n                      <span className=\"text-muted-foreground\">\r\n                        {itemConfig?.label || item.name}\r\n                      </span>\r\n                    </div>\r\n                    {item.value && (\r\n                      <span className=\"text-foreground font-mono font-medium tabular-nums\">\r\n                        {item.value.toLocaleString()}\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n          )\r\n        })}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst ChartLegend = RechartsPrimitive.Legend\r\n\r\nfunction ChartLegendContent({\r\n  className,\r\n  hideIcon = false,\r\n  payload,\r\n  verticalAlign = \"bottom\",\r\n  nameKey,\r\n}: React.ComponentProps<\"div\"> &\r\n  Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\r\n    hideIcon?: boolean\r\n    nameKey?: string\r\n  }) {\r\n  const { config } = useChart()\r\n\r\n  if (!payload?.length) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"flex items-center justify-center gap-4\",\r\n        verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\r\n        className\r\n      )}\r\n    >\r\n      {payload.map((item) => {\r\n        const key = `${nameKey || item.dataKey || \"value\"}`\r\n        const itemConfig = getPayloadConfigFromPayload(config, item, key)\r\n\r\n        return (\r\n          <div\r\n            key={item.value}\r\n            className={cn(\r\n              \"[&>svg]:text-muted-foreground flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3\"\r\n            )}\r\n          >\r\n            {itemConfig?.icon && !hideIcon ? (\r\n              <itemConfig.icon />\r\n            ) : (\r\n              <div\r\n                className=\"h-2 w-2 shrink-0 rounded-[2px]\"\r\n                style={{\r\n                  backgroundColor: item.color,\r\n                }}\r\n              />\r\n            )}\r\n            {itemConfig?.label}\r\n          </div>\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\n// Helper to extract item config from a payload.\r\nfunction getPayloadConfigFromPayload(\r\n  config: ChartConfig,\r\n  payload: unknown,\r\n  key: string\r\n) {\r\n  if (typeof payload !== \"object\" || payload === null) {\r\n    return undefined\r\n  }\r\n\r\n  const payloadPayload =\r\n    \"payload\" in payload &&\r\n    typeof payload.payload === \"object\" &&\r\n    payload.payload !== null\r\n      ? payload.payload\r\n      : undefined\r\n\r\n  let configLabelKey: string = key\r\n\r\n  if (\r\n    key in payload &&\r\n    typeof payload[key as keyof typeof payload] === \"string\"\r\n  ) {\r\n    configLabelKey = payload[key as keyof typeof payload] as string\r\n  } else if (\r\n    payloadPayload &&\r\n    key in payloadPayload &&\r\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\r\n  ) {\r\n    configLabelKey = payloadPayload[\r\n      key as keyof typeof payloadPayload\r\n    ] as string\r\n  }\r\n\r\n  return configLabelKey in config\r\n    ? config[configLabelKey]\r\n    : config[key as keyof typeof config]\r\n}\r\n\r\nexport {\r\n  ChartContainer,\r\n  ChartTooltip,\r\n  ChartTooltipContent,\r\n  ChartLegend,\r\n  ChartLegendContent,\r\n  ChartStyle,\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 7000, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/components/ui/popover.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Popover({\r\n  ...props\r\n}: React.ComponentProps<typeof PopoverPrimitive.Root>) {\r\n  return <PopoverPrimitive.Root data-slot=\"popover\" {...props} />\r\n}\r\n\r\nfunction PopoverTrigger({\r\n  ...props\r\n}: React.ComponentProps<typeof PopoverPrimitive.Trigger>) {\r\n  return <PopoverPrimitive.Trigger data-slot=\"popover-trigger\" {...props} />\r\n}\r\n\r\nfunction PopoverContent({\r\n  className,\r\n  align = \"center\",\r\n  sideOffset = 4,\r\n  ...props\r\n}: React.ComponentProps<typeof PopoverPrimitive.Content>) {\r\n  return (\r\n    <PopoverPrimitive.Portal>\r\n      <PopoverPrimitive.Content\r\n        data-slot=\"popover-content\"\r\n        align={align}\r\n        sideOffset={sideOffset}\r\n        className={cn(\r\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden\",\r\n          className\r\n        )}\r\n        {...props}\r\n      />\r\n    </PopoverPrimitive.Portal>\r\n  )\r\n}\r\n\r\nfunction PopoverAnchor({\r\n  ...props\r\n}: React.ComponentProps<typeof PopoverPrimitive.Anchor>) {\r\n  return <PopoverPrimitive.Anchor data-slot=\"popover-anchor\" {...props} />\r\n}\r\n\r\nexport { Popover, PopoverTrigger, PopoverContent, PopoverAnchor }\r\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,QAAQ,EACf,GAAG,OACgD;IACnD,qBAAO,8OAAC,2KAAqB;QAAC,aAAU;QAAW,GAAG,KAAK;;;;;;AAC7D;AAEA,SAAS,eAAe,EACtB,GAAG,OACmD;IACtD,qBAAO,8OAAC,8KAAwB;QAAC,aAAU;QAAmB,GAAG,KAAK;;;;;;AACxE;AAEA,SAAS,eAAe,EACtB,SAAS,EACT,QAAQ,QAAQ,EAChB,aAAa,CAAC,EACd,GAAG,OACmD;IACtD,qBACE,8OAAC,6KAAuB;kBACtB,cAAA,8OAAC,8KAAwB;YACvB,aAAU;YACV,OAAO;YACP,YAAY;YACZ,WAAW,IAAA,yHAAE,EACX,keACA;YAED,GAAG,KAAK;;;;;;;;;;;AAIjB;AAEA,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,8OAAC,6KAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE","debugId":null}},
    {"offset": {"line": 7071, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/app/dashboard/_pages/Dashboard/components/productStats.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useMemo } from 'react'\r\nimport useSWR from 'swr'\r\nimport { CalendarIcon, ChevronDown, ChevronUp, List } from 'lucide-react'\r\nimport type { DateRange } from 'react-day-picker'\r\nimport { Bar, BarChart, CartesianGrid, XAxis } from 'recharts'\r\n\r\nimport { Button } from '@/components/ui/button'\r\nimport { Calendar } from '@/components/ui/calendar'\r\nimport {\r\n  Card,\r\n  CardAction,\r\n  CardContent,\r\n  CardDescription,\r\n  CardFooter,\r\n  CardHeader,\r\n  CardTitle\r\n} from '@/components/ui/card'\r\nimport type { ChartConfig } from '@/components/ui/chart'\r\nimport { ChartContainer, ChartTooltip, ChartTooltipContent } from '@/components/ui/chart'\r\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover'\r\n\r\ntype SaleItem = {\r\n  product_id: number\r\n  quantity: number\r\n  created_at: string\r\n}\r\n\r\ntype Product = {\r\n  id: number\r\n  name: string\r\n}\r\n\r\ntype ChartData = {\r\n  product: string\r\n  quantity: number\r\n}\r\n\r\nconst chartConfig: ChartConfig = {\r\n  quantity: {\r\n    label: 'Quantity Sold',\r\n    color: 'var(--color-primary)'\r\n  }\r\n}\r\n\r\nconst fetcher = async (url: string) => {\r\n  const res = await fetch(url)\r\n  const json = await res.json()\r\n  return json.data\r\n}\r\n\r\nexport default function ProductStats() {\r\n  const API_URL = process.env.NEXT_PUBLIC_backend_api_url\r\n  const { data: saleItems = [], error: saleItemsError, isLoading: saleItemsLoading } = useSWR<SaleItem[]>(\r\n    `${API_URL}/sales-items`,\r\n    fetcher\r\n  )\r\n  const { data: products = [], error: productsError, isLoading: productsLoading } = useSWR<Product[]>(\r\n    `${API_URL}/products`,\r\n    fetcher\r\n  )\r\n\r\n  const today = new Date()\r\n  const startOfMonth = new Date(today.getFullYear(), today.getMonth(), 1)\r\n  const [range, setRange] = useState<DateRange | undefined>({\r\n    from: startOfMonth,\r\n    to: today\r\n  })\r\n  const [sortOrder, setSortOrder] = useState<'asc' | 'desc' | 'normal'>('normal')\r\n\r\n  const productMap = useMemo(() => {\r\n    const map: Record<number, string> = {}\r\n    products.forEach(p => {\r\n      map[p.id] = p.name\r\n    })\r\n    return map\r\n  }, [products])\r\n\r\n  const isSameOrAfter = (a: Date, b: Date) =>\r\n    a.setHours(0, 0, 0, 0) >= b.setHours(0, 0, 0, 0)\r\n  const isSameOrBefore = (a: Date, b: Date) =>\r\n    a.setHours(0, 0, 0, 0) <= b.setHours(0, 0, 0, 0)\r\n\r\n  const chartData = useMemo(() => {\r\n    const grouped: { [product_id: number]: number } = {}\r\n    saleItems.forEach(item => {\r\n      const date = new Date(item.created_at)\r\n      if (\r\n        (!range?.from || isSameOrAfter(date, range.from)) &&\r\n        (!range?.to || isSameOrBefore(date, range.to))\r\n      ) {\r\n        grouped[item.product_id] = (grouped[item.product_id] || 0) + item.quantity\r\n      }\r\n    })\r\n    let arr = Object.entries(grouped)\r\n      .map(([product_id, quantity]) => ({\r\n        product: productMap[Number(product_id)] || `Product ${product_id}`,\r\n        quantity\r\n      }))\r\n    if (sortOrder === 'asc') {\r\n      arr = arr.sort((a, b) => a.quantity - b.quantity)\r\n    } else if (sortOrder === 'desc') {\r\n      arr = arr.sort((a, b) => b.quantity - a.quantity)\r\n    }\r\n    return arr\r\n  }, [saleItems, range, productMap, sortOrder])\r\n\r\n  const total = useMemo(\r\n    () => chartData.reduce((acc, curr) => acc + curr.quantity, 0),\r\n    [chartData]\r\n  )\r\n\r\n  if (saleItemsLoading || productsLoading) return <div>Loading...</div>\r\n  if (saleItemsError || productsError) return <div>Error loading product stats.</div>\r\n\r\n  return (\r\n    <Card className='@container/card w-full'>\r\n      <CardHeader className='flex flex-col border-b @md/card:grid'>\r\n        <CardTitle>Product Analytics</CardTitle>\r\n        <CardDescription>Showing most sold products for this month.</CardDescription>\r\n        <CardAction className='mt-2 @md/card:mt-0'>\r\n          <div className=\"flex gap-2 items-center mt-2\">\r\n            <Button\r\n              variant={sortOrder === 'desc' ? 'default' : 'outline'}\r\n              size=\"sm\"\r\n              onClick={() => setSortOrder('desc')}\r\n              aria-label=\"Sort Descending\"\r\n            >\r\n              <ChevronDown size={16} />\r\n            </Button>\r\n            <Button\r\n              variant={sortOrder === 'normal' ? 'default' : 'outline'}\r\n              size=\"sm\"\r\n              onClick={() => setSortOrder('normal')}\r\n              aria-label=\"Follow Order\"\r\n            >\r\n              <List size={16} />\r\n            </Button>\r\n            <Button\r\n              variant={sortOrder === 'asc' ? 'default' : 'outline'}\r\n              size=\"sm\"\r\n              onClick={() => setSortOrder('asc')}\r\n              aria-label=\"Sort Ascending\"\r\n            >\r\n              <ChevronUp size={16} />\r\n            </Button>\r\n            <Popover>\r\n              <PopoverTrigger asChild>\r\n                <Button variant='outline'>\r\n                  <CalendarIcon />\r\n                  {range?.from && range?.to\r\n                    ? `${range.from.toLocaleDateString()} - ${range.to.toLocaleDateString()}`\r\n                    : `${startOfMonth.toLocaleDateString()} - ${today.toLocaleDateString()}`}\r\n                </Button>\r\n              </PopoverTrigger>\r\n              <PopoverContent className='w-auto overflow-hidden p-0' align='end'>\r\n                <Calendar\r\n                  className='w-full'\r\n                  mode='range'\r\n                  defaultMonth={range?.from}\r\n                  selected={range}\r\n                  onSelect={setRange}\r\n                  fixedWeeks\r\n                  showOutsideDays\r\n                  disabled={{\r\n                    after: today\r\n                  }}\r\n                />\r\n              </PopoverContent>\r\n            </Popover>\r\n          </div>\r\n        </CardAction>\r\n      </CardHeader>\r\n      <CardContent className='px-4'>\r\n        <ChartContainer config={chartConfig} className='aspect-auto h-89 w-full'>\r\n          <BarChart\r\n            accessibilityLayer\r\n            data={chartData}\r\n            margin={{\r\n              left: 12,\r\n              right: 12\r\n            }}\r\n          >\r\n            <CartesianGrid vertical={false} />\r\n            <XAxis\r\n              dataKey='product'\r\n              tickLine={false}\r\n              axisLine={false}\r\n              tickMargin={8}\r\n              minTickGap={20}\r\n            />\r\n            <ChartTooltip\r\n              content={\r\n                <ChartTooltipContent\r\n                  className='w-[150px]'\r\n                  nameKey='quantity'\r\n                  labelFormatter={value => value}\r\n                />\r\n              }\r\n            />\r\n            <Bar dataKey='quantity' fill={`var(--color-quantity)`} radius={4} />\r\n          </BarChart>\r\n        </ChartContainer>\r\n      </CardContent>\r\n      <CardFooter className='border-t'>\r\n        <div className='text-sm'>\r\n          Total sold: <span className='font-semibold'>{total.toLocaleString()}</span>\r\n        </div>\r\n      </CardFooter>\r\n    </Card>\r\n  )\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 7430, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/app/dashboard/_pages/Dashboard/components/salesStats.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport useSWR from 'swr'\r\nimport { CartesianGrid, Line, LineChart, XAxis } from 'recharts'\r\nimport { CalendarIcon, List, ChevronDown, ChevronUp } from 'lucide-react'\r\nimport type { DateRange } from 'react-day-picker'\r\n\r\nimport { Button } from '@/components/ui/button'\r\nimport { Calendar } from '@/components/ui/calendar'\r\nimport {\r\n  Card,\r\n  CardAction,\r\n  CardContent,\r\n  CardDescription,\r\n  CardFooter,\r\n  CardHeader,\r\n  CardTitle\r\n} from '@/components/ui/card'\r\nimport type { ChartConfig } from '@/components/ui/chart'\r\nimport { ChartContainer, ChartTooltip, ChartTooltipContent } from '@/components/ui/chart'\r\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover'\r\n\r\ntype Sale = {\r\n  created_at: string\r\n  total_purchase: number\r\n}\r\n\r\ntype ChartData = {\r\n  date: string\r\n  customer: number\r\n}\r\n\r\nconst chartConfig: ChartConfig = {\r\n  customer: {\r\n    label: 'Total',\r\n    color: 'var(--color-primary)'\r\n  }\r\n}\r\n\r\nconst fetcher = async (url: string) => {\r\n  const res = await fetch(url)\r\n  const json = await res.json()\r\n  return json.data\r\n}\r\n\r\nexport default function ProductStats() {\r\n  const API_URL = process.env.NEXT_PUBLIC_backend_api_url\r\n  const { data: sales = [], error, isLoading } = useSWR<Sale[]>(\r\n    `${API_URL}/sales`,\r\n    fetcher\r\n  )\r\n  const today = new Date()\r\n  const startOfMonth = new Date(today.getFullYear(), today.getMonth(), 1)\r\n  const [range, setRange] = React.useState<DateRange | undefined>({\r\n    from: startOfMonth,\r\n    to: today\r\n  })\r\n  const [sortOrder, setSortOrder] = React.useState<'asc' | 'desc' | 'normal'>('normal')\r\n\r\n  const isSameOrAfter = (a: Date, b: Date) =>\r\n    a.setHours(0, 0, 0, 0) >= b.setHours(0, 0, 0, 0)\r\n  const isSameOrBefore = (a: Date, b: Date) =>\r\n    a.setHours(0, 0, 0, 0) <= b.setHours(0, 0, 0, 0)\r\n\r\n  const chartData = React.useMemo(() => {\r\n    const grouped: { [date: string]: number } = {}\r\n    sales.forEach(sale => {\r\n      const date = sale.created_at.slice(0, 10)\r\n      grouped[date] = (grouped[date] || 0) + (sale.total_purchase ?? 0)\r\n    })\r\n    return Object.entries(grouped).map(([date, total]) => ({\r\n      date,\r\n      customer: total\r\n    }))\r\n  }, [sales])\r\n\r\n  const filteredData = React.useMemo(() => {\r\n    if (!range?.from && !range?.to) return chartData\r\n    return chartData.filter(item => {\r\n      const date = new Date(item.date)\r\n      return (\r\n        (!range.from || isSameOrAfter(date, range.from)) &&\r\n        (!range.to || isSameOrBefore(date, range.to))\r\n      )\r\n    })\r\n  }, [range, chartData])\r\n\r\n  const sortedData = React.useMemo(() => {\r\n    let arr = [...filteredData]\r\n    if (sortOrder === 'asc') arr.sort((a, b) => a.customer - b.customer)\r\n    else if (sortOrder === 'desc') arr.sort((a, b) => b.customer - a.customer)\r\n    return arr\r\n  }, [filteredData, sortOrder])\r\n\r\n  const total = React.useMemo(\r\n    () => sortedData.reduce((acc, curr) => acc + curr.customer, 0),\r\n    [sortedData]\r\n  )\r\n\r\n  if (isLoading) return <div>Loading...</div>\r\n  if (error) return <div>Error loading sales data.</div>\r\n\r\n  return (\r\n    <Card className='@container/card w-full'>\r\n      <CardHeader className='flex flex-col border-b @md/card:grid'>\r\n        <CardTitle>Sales Chart</CardTitle>\r\n        <CardDescription>Filter total sales by date range</CardDescription>\r\n        <CardAction className='mt-2 @md/card:mt-0'>\r\n          <div className=\"flex gap-2 items-center mt-2\">\r\n            <Button\r\n              variant={sortOrder === 'desc' ? 'default' : 'outline'}\r\n              size=\"sm\"\r\n              onClick={() => setSortOrder('desc')}\r\n              aria-label=\"Sort Descending\"\r\n            >\r\n              <ChevronDown size={16} />\r\n            </Button>\r\n            <Button\r\n              variant={sortOrder === 'normal' ? 'default' : 'outline'}\r\n              size=\"sm\"\r\n              onClick={() => setSortOrder('normal')}\r\n              aria-label=\"Follow Order\"\r\n            >\r\n              <List size={16} />\r\n            </Button>\r\n            <Button\r\n              variant={sortOrder === 'asc' ? 'default' : 'outline'}\r\n              size=\"sm\"\r\n              onClick={() => setSortOrder('asc')}\r\n              aria-label=\"Sort Ascending\"\r\n            >\r\n              <ChevronUp size={16} />\r\n            </Button>\r\n            <Popover>\r\n              <PopoverTrigger asChild>\r\n                <Button variant='outline'>\r\n                  <CalendarIcon />\r\n                  {range?.from && range?.to\r\n                    ? `${range.from.toLocaleDateString()} - ${range.to.toLocaleDateString()}`\r\n                    : `${startOfMonth.toLocaleDateString()} - ${today.toLocaleDateString()}`}\r\n                </Button>\r\n              </PopoverTrigger>\r\n              <PopoverContent className='w-auto overflow-hidden p-0' align='end'>\r\n                <Calendar\r\n                  className='w-full'\r\n                  mode='range'\r\n                  defaultMonth={range?.from}\r\n                  selected={range}\r\n                  onSelect={setRange}\r\n                  fixedWeeks\r\n                  showOutsideDays\r\n                  disabled={{\r\n                    after: today\r\n                  }}\r\n                />\r\n              </PopoverContent>\r\n            </Popover>\r\n          </div>\r\n        </CardAction>\r\n      </CardHeader>\r\n      <CardContent className='px-4'>\r\n        <ChartContainer config={chartConfig} className='aspect-auto h-89 w-full'>\r\n          <LineChart\r\n            accessibilityLayer\r\n            data={sortedData}\r\n            margin={{ left: 12, right: 12 }}\r\n          >\r\n            <CartesianGrid vertical={false} />\r\n            <XAxis\r\n              dataKey='date'\r\n              tickLine={false}\r\n              axisLine={false}\r\n              tickMargin={8}\r\n              minTickGap={20}\r\n              tickFormatter={value => {\r\n                const date = new Date(value)\r\n                return date.toLocaleDateString('en-US', { day: 'numeric' })\r\n              }}\r\n            />\r\n            <ChartTooltip\r\n              content={\r\n                <ChartTooltipContent\r\n                  className='w-[150px]'\r\n                  nameKey='customer'\r\n                  labelFormatter={value =>\r\n                    new Date(value).toLocaleDateString('en-US', {\r\n                      month: 'short',\r\n                      day: 'numeric',\r\n                      year: 'numeric'\r\n                    })\r\n                  }\r\n                />\r\n              }\r\n            />\r\n            <Line\r\n              dataKey=\"customer\"\r\n              type=\"monotone\"\r\n              stroke={`var(--color-customer)`}\r\n              strokeWidth={2}\r\n              dot={false}\r\n            />\r\n          </LineChart>\r\n        </ChartContainer>\r\n      </CardContent>\r\n      <CardFooter className='border-t'>\r\n        <div className='text-sm'>\r\n          You had <span className='font-semibold'>₱ {total.toLocaleString()}</span> total sales for the selected period.\r\n        </div>\r\n      </CardFooter>\r\n    </Card>\r\n  )\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 7805, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/app/dashboard/_pages/Dashboard/dashboardScreen.tsx"],"sourcesContent":["import Stats from './components/stats';\r\nimport ProductStats from './components/productStats';\r\nimport SalesStats from './components/salesStats';\r\n\r\nexport default function DashboardScreen() {\r\n    return (\r\n        <div className=\"flex flex-col p-6 h-full gap-3\">\r\n            <div className=\"flex-[7%]\">\r\n                <h1 className=\"font-extrabold text-4xl\">Dashboard</h1>\r\n                <p>Welcome Back! Here's your business overview!</p>\r\n            </div>\r\n            <div className=\"flex-[20%]\"><Stats /></div>\r\n            <div className=\"flex-[78%] flex 2xl:flex-row gap-3 flex-col\">\r\n                <div className=\"flex-[50%]\"><ProductStats /></div>\r\n                <div className=\"flex-[50%]\"><SalesStats /></div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEe,SAAS;IACpB,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;kCAA0B;;;;;;kCACxC,8OAAC;kCAAE;;;;;;;;;;;;0BAEP,8OAAC;gBAAI,WAAU;0BAAa,cAAA,8OAAC,iLAAK;;;;;;;;;;0BAClC,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;kCAAa,cAAA,8OAAC,wLAAY;;;;;;;;;;kCACzC,8OAAC;wBAAI,WAAU;kCAAa,cAAA,8OAAC,sLAAU;;;;;;;;;;;;;;;;;;;;;;AAIvD","debugId":null}},
    {"offset": {"line": 7903, "column": 0}, "map": {"version":3,"sources":["file:///D:/Code/POS_Project/pos-frontend/src/app/dashboard/%5Bsite%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { use } from \"react\";\r\nimport MainDashboard from \"../_pages/POS/pos-screen\";\r\nimport ProductsPage from \"../_pages/Products/productsScreen\";\r\nimport DashboardScreen from \"../_pages/Dashboard/dashboardScreen\";\r\n\r\nexport default function SiteDashboardPage({\r\n  params,\r\n}: {\r\n  params: Promise<{ site: string }>;\r\n}) {\r\n  const { site } = use(params);\r\n\r\n  switch (site) {\r\n    case \"db\":\r\n      return <DashboardScreen />;\r\n    case \"main\":\r\n      return <MainDashboard />;\r\n    case \"products\":\r\n      return <ProductsPage />;\r\n    default:\r\n      return <div>{site}</div>;\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;;;AALA;;;;;;AAOe,SAAS,kBAAkB,EACxC,MAAM,EAGP;IACC,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,4MAAG,EAAC;IAErB,OAAQ;QACN,KAAK;YACH,qBAAO,8OAAC,6KAAe;;;;;QACzB,KAAK;YACH,qBAAO,8OAAC,qKAAa;;;;;QACvB,KAAK;YACH,qBAAO,8OAAC,2KAAY;;;;;QACtB;YACE,qBAAO,8OAAC;0BAAK;;;;;;IACjB;AACF","debugId":null}}]
}